import{a as le}from"./chunk-QKCIWDFA.js";import"./chunk-6X2UVTWO.js";import{a as ut}from"./chunk-N6L73CWM.js";import{a as Ti,b as Di}from"./chunk-7SRE5ACE.js";import{a as Ct}from"./chunk-E6DCO4NE.js";import{a as bi,b as wi}from"./chunk-N32YITM6.js";import{e as Ii,f as Fe}from"./chunk-LWQLZ5XB.js";import{a as Gt,b as Pi}from"./chunk-L67MW52F.js";import{Aa as ie,Bc as $e,Bf as xi,C as Ht,Ca as ne,Cb as M,Cc as li,D as ii,Dg as Y,Ea as p,F as B,Fc as mi,Ff as K,Fg as Ae,Fh as A,G as q,Gb as U,Gh as Wt,Hg as vi,Hh as Kt,Ia as z,Ib as ae,If as yi,Ja as O,Jb as F,Ka as j,Kf as N,Lf as hi,N as ni,Na as ce,Pa as te,Ra as o,S as Ut,Sa as x,Se as Q,Ta as C,Tc as pi,Tg as Ne,Ua as Me,V as l,Y as h,Ye as fe,Za as v,Ze as xe,Zg as ee,_ as w,_a as H,_e as ye,_g as Be,af as he,ba as ai,bb as u,bf as ve,cb as f,cg as be,da as S,db as D,df as Se,eb as de,ef as ge,eh as Si,f as P,gd as Qt,gf as Ee,hf as Te,id as _t,ie as ci,ig as Ie,jc as se,jf as De,ka as c,kg as R,kh as gi,la as me,lf as Pe,lg as we,lh as Ye,ma as d,na as g,nh as Ve,oa as E,oe as di,oh as Ei,pa as T,pe as si,pg as k,qa as s,qe as _i,qg as ke,ra as a,re as ui,rh as re,sa as n,sb as $,sc as _e,se as Ci,sh as G,ta as _,tc as oi,te as fi,th as V,ub as st,ue,vc as ri,ve as Ce,wh as qe,xa as b,xc as oe,ya as I,z as ti}from"./chunk-OXOWQRWE.js";var Jt=(e,i)=>ii(Xt).canActivate(e,i);var Re=class Re{constructor(i,t){this.authService=i;this.router=t}canActivate(i,t){return this.authService.getUser().hasSystemPrivilege("GetMissionDatabase")?!0:(this.router.navigate(["/403"],{queryParams:{page:t.url}}),!1)}canActivateChild(i,t){return this.canActivate(i,t)}};Re.\u0275fac=function(t){return new(t||Re)(Ht(hi),Ht(ae))},Re.\u0275prov=ti({token:Re,factory:Re.\u0275fac,providedIn:"root"});var Xt=Re;var ft=class extends se{constructor(t){super();this.yamcs=t;this.algorithms$=new P([]);this.totalSize$=new P(0);this.loading$=new P(!1)}connect(){return this.algorithms$}loadAlgorithms(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getAlgorithms(this.yamcs.instance,t).then(r=>{this.loading$.next(!1),this.totalSize$.next(r.totalSize),this.algorithms$.next(r.algorithms||[])})}disconnect(){this.algorithms$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var Bi=["top"],qi=e=>["/mdb/algorithms",e],Mi=e=>({c:e});function Ri(e,i){e&1&&(a(0,"th",20),o(1,"Name"),n())}function ki(e,i){if(e&1&&(a(0,"td",21)(1,"a",22),_(2,"ya-highlight",23),n()()),e&2){let t=i.$implicit,r=p(2);l(),s("routerLink",v(4,qi,t.qualifiedName))("queryParams",v(6,Mi,r.yamcs.context)),l(),s("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function Yi(e,i){e&1&&(a(0,"th",20),o(1,"Type"),n())}function Vi(e,i){if(e&1&&(a(0,"td",21),o(1),n()),e&2){let t=i.$implicit;l(),x(t.type||"-")}}function zi(e,i){e&1&&(a(0,"th",20),o(1,"Language"),n())}function Oi(e,i){if(e&1&&(a(0,"td",21),o(1),n()),e&2){let t=i.$implicit;l(),x(t.language||"-")}}function ji(e,i){e&1&&(a(0,"th",20),o(1,"Scope"),n())}function Hi(e,i){if(e&1&&(a(0,"td",21),o(1),n()),e&2){let t=i.$implicit;l(),x(t.scope||"-")}}function Ui(e,i){e&1&&(a(0,"th",20),o(1,"Description"),n())}function Qi(e,i){if(e&1&&(a(0,"td",24),o(1),n()),e&2){let t=i.$implicit;l(),C(" ",t.shortDescription||"-"," ")}}function Gi(e,i){e&1&&_(0,"th",25)}function Wi(e,i){e&1&&_(0,"td",21)}function Ki(e,i){e&1&&_(0,"tr",26)}function Xi(e,i){if(e&1&&_(0,"tr",27),e&2){let t=i.$implicit,r=p(2);te("selected",r.selection.isSelected(t))}}function Ji(e,i){if(e&1&&(a(0,"table",6),b(1,8),S(2,Ri,2,0,"th",9)(3,ki,3,8,"td",10),I(),b(4,11),S(5,Yi,2,0,"th",9)(6,Vi,2,1,"td",10),I(),b(7,12),S(8,zi,2,0,"th",9)(9,Oi,2,1,"td",10),I(),b(10,13),S(11,ji,2,0,"th",9)(12,Hi,2,1,"td",10),I(),b(13,14),S(14,Ui,2,0,"th",9)(15,Qi,2,1,"td",15),I(),b(16,16),S(17,Gi,1,0,"th",17)(18,Wi,1,0,"td",10),I(),S(19,Ki,1,0,"tr",18),u(20,"async"),S(21,Xi,1,2,"tr",19),u(22,"async"),n()),e&2){let t=p(),r=ce(8);s("dataSource",t.dataSource),l(19),s("matHeaderRowDef",f(20,3,r.displayedColumns$)),l(2),s("matRowDefColumns",f(22,5,r.displayedColumns$))}}function Zi(e,i){if(e&1&&(a(0,"ya-panel"),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any algorithms. "),n()),e&2){let t=p();l(3),x(t.yamcs.instance)}}var ze=class ze{constructor(i,t,r,m,y){this.yamcs=i;this.route=r;this.router=m;this.messageService=y;this.shortName=!1;this.pageSize=100;this.filterControl=new oe;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"language",label:"Language",visible:!0},{id:"scope",label:"Scope",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.selection=new Ce(!1);t.setTitle("Algorithms"),this.dataSource=new ft(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadAlgorithms(i).then(()=>{this.selection.clear()}).catch(r=>this.messageService.showError(r))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.algorithms$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.min(i.indexOf(r)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.algorithms$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.max(i.indexOf(r)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.algorithms$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/algorithms",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}};ze.\u0275fac=function(t){return new(t||ze)(h(N),h(M),h(U),h(ae),h(Pe))},ze.\u0275cmp=w({type:ze,selectors:[["ng-component"]],viewQuery:function(t,r){if(t&1&&(z(Bi,7),z(Q,7)),t&2){let m;O(m=j())&&(r.top=m.first),O(m=j())&&(r.paginator=m.first)}},decls:14,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],["label","Algorithms"],["placeholder","Filter algorithms",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","algorithms",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","language"],["matColumnDef","scope"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(t&1){let m=ie();a(0,"ya-instance-page"),_(1,"ya-instance-toolbar",3)(2,"span",null,0),a(4,"ya-panel")(5,"ya-filter-bar")(6,"ya-search-filter",4),ne("onArrowDown",function(){return B(m),q(r.selectNext())})("onArrowUp",function(){return B(m),q(r.selectPrevious())})("onEnter",function(){return B(m),q(r.applySelection())}),n(),_(7,"ya-column-chooser",5,1),n(),c(9,Ji,23,7,"table",6),_(10,"mat-paginator",7),u(11,"async"),n(),S(12,Zi,5,1,"ng-template",null,2,de),n()}t&2&&(l(6),s("formControl",r.filterControl),l(),s("columns",r.columns),l(2),d(r.dataSource?9:-1),l(),s("pageSize",r.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",f(11,7,r.dataSource.totalSize$)))},dependencies:[A,_e,$e,F,Q,fe,ye,ge,he,xe,Ee,ve,Se,Te,De,K,be,Ie,R,k,Y,Ae,$],encapsulation:2,changeDetection:0});var xt=ze;var en=["text"],tn=(e,i)=>({c:e,filter:i}),Et=e=>["/mdb/parameters/",e],Tt=e=>({c:e});function nn(e,i){if(e&1&&(a(0,"a",2),o(1),n()),e&2){let t=i,r=p();s("queryParams",H(2,tn,r.yamcs.context,t)),l(),C(" ",t," ")}}function an(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),x(t.namespace),l(2),x(t.name)}}function on(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p();s("text",t.algorithm.longDescription)}}function rn(e,i){e&1&&o(0," - ")}function ln(e,i){e&1&&(_(0,"mat-divider"),a(1,"dl",4)(2,"dt"),o(3,"Text"),n(),a(4,"dd"),_(5,"div",6,0),n()())}function mn(e,i){if(e&1&&(a(0,"td"),o(1,"Operand"),n(),a(2,"td"),o(3),n()),e&2){let t=p().$implicit;l(3),x(t.value)}}function pn(e,i){if(e&1&&(a(0,"td"),o(1,"Operator"),n(),a(2,"td"),o(3),n()),e&2){let t=p().$implicit;l(3),x(t.operator)}}function cn(e,i){e&1&&(a(0,"td"),o(1,"Operand"),n(),a(2,"td"),o(3,"this"),n())}function dn(e,i){if(e&1&&(a(0,"td"),o(1,"Operand"),n(),a(2,"td")(3,"a",7),o(4),n()()),e&2){let t=p().$implicit,r=p(2);l(3),s("routerLink",v(3,Et,t.parameter.qualifiedName))("queryParams",v(5,Tt,r.yamcs.context)),l(),C(" ",t.parameter.qualifiedName," ")}}function sn(e,i){if(e&1&&(a(0,"tr"),c(1,mn,4,1)(2,pn,4,1)(3,cn,4,0)(4,dn,5,7),n()),e&2){let t,r=i.$implicit;l(),d((t=r.type)==="VALUE_OPERAND"?1:t==="OPERATOR"?2:t==="THIS_PARAMETER_OPERAND"?3:t==="PARAMETER"?4:-1)}}function _n(e,i){if(e&1&&(_(0,"mat-divider"),a(1,"dl",4)(2,"dt"),o(3,"Postfix expression"),n(),a(4,"dd")(5,"table",5)(6,"tr")(7,"th"),o(8,"Type"),n(),a(9,"th"),o(10,"Value"),n()(),E(11,sn,5,1,"tr",null,g),n()()()),e&2){let t=p();l(11),T(t.algorithm.mathElements)}}function un(e,i){e&1&&o(0," Parameter ")}function Cn(e,i){e&1&&o(0," Argument ")}function fn(e,i){e&1&&o(0," Unknown ")}function xn(e,i){if(e&1&&(a(0,"a",8),o(1),u(2,"spaceSystemName"),u(3,"relativize"),n()),e&2){let t=p().$implicit,r=p(2);s("routerLink",v(8,Et,t.parameter.qualifiedName))("queryParams",v(10,Tt,r.yamcs.context)),l(),C(" ",D(3,5,t.parameter.qualifiedName,f(2,3,r.algorithm.qualifiedName))," ")}}function yn(e,i){if(e&1&&o(0),e&2){let t=p().$implicit;C(" ",t.argument.name," ")}}function hn(e,i){e&1&&o(0," - ")}function vn(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),c(4,un,1,0)(5,Cn,1,0)(6,fn,1,0),n(),a(7,"td"),c(8,xn,4,12,"a",8)(9,yn,1,1)(10,hn,1,0),n(),a(11,"td",9),o(12),n(),a(13,"td",9),o(14),n()()),e&2){let t=i.$implicit;l(2),x(t.inputName||"-"),l(2),d(t.parameter?4:t.argument?5:6),l(4),d(t.parameter?8:t.argument?9:10),l(4),C(" ",t.parameterInstance??"-"," "),l(2),C(" ",t.mandatory?"Yes":"No"," ")}}function Sn(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th"),o(3,"Input name"),n(),a(4,"th"),o(5,"Type"),n(),a(6,"th"),o(7,"Ref"),n(),a(8,"th"),o(9,"Instance"),n(),a(10,"th"),o(11,"Mandatory"),n()(),E(12,vn,15,5,"tr",null,g),n()),e&2){let t=p();l(12),T(t.algorithm.inputParameter)}}function gn(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function En(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td")(4,"a",8),o(5),u(6,"spaceSystemName"),u(7,"relativize"),n()()()),e&2){let t=i.$implicit,r=p(2);l(2),x(t.outputName||"-"),l(2),s("routerLink",v(9,Et,t.parameter.qualifiedName))("queryParams",v(11,Tt,r.yamcs.context)),l(),C(" ",D(7,6,t.parameter.qualifiedName,f(6,4,r.algorithm.qualifiedName))," ")}}function Tn(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th"),o(3,"Output name"),n(),a(4,"th"),o(5,"Parameter"),n()(),E(6,En,8,13,"tr",null,g),n()),e&2){let t=p();l(6),T(t.algorithm.outputParameter)}}function Dn(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Pn(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"OnParameterUpdate"),n(),a(3,"td")(4,"a",8),o(5),u(6,"spaceSystemName"),u(7,"relativize"),n()()()),e&2){let t=i.$implicit,r=p(2);l(4),s("routerLink",v(8,Et,t.qualifiedName))("queryParams",v(10,Tt,r.yamcs.context)),l(),C(" ",D(7,5,t.qualifiedName,f(6,3,r.algorithm.qualifiedName))," ")}}function bn(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"OnPeriodicRate"),n(),a(3,"td"),o(4),n()()),e&2){let t=p(2);l(4),C("",t.algorithm.onPeriodicRate," ms")}}function In(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th"),o(3,"Type"),n(),a(4,"th"),o(5,"Value"),n()(),E(6,Pn,8,12,"tr",null,g),c(8,bn,5,1,"tr"),n()),e&2){let t=p();l(6),T(t.algorithm.onParameterUpdate),l(2),d(t.algorithm.onPeriodicRate?8:-1)}}function wn(e,i){e&1&&o(0," - ")}var Oe=class Oe{constructor(i){this.yamcs=i}set textContainer(i){let t=[ci,Qt.readOnly.of(!0),_t.lineWrapping,_t.theme({"&":{height:"300px",fontSize:"12px"},".cm-scroller":{overflow:"auto",fontFamily:"'Roboto Mono', monospace"}},{dark:!1})];switch(this.algorithm.language.toLowerCase()){case"java-expression":t.push(bi());break;case"javascript":t.push(Ii());break;case"python":t.push(wi());break;default:console.warn(`Unexpected language ${this.algorithm.language}`)}let r=Qt.create({doc:this.algorithm.text,extensions:t});new _t({state:r,parent:i.nativeElement})}};Oe.\u0275fac=function(t){return new(t||Oe)(h(N))},Oe.\u0275cmp=w({type:Oe,selectors:[["app-algorithm-detail"]],viewQuery:function(t,r){if(t&1&&z(en,5),t&2){let m;O(m=j())&&(r.textContainer=m.first)}},inputs:{algorithm:"algorithm"},decls:59,vars:16,consts:[["text",""],[1,"dl-horizontal","no-lead"],["routerLink","/mdb/algorithms",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],["yaDataTable",""],[1,"algorithm-text"],[1,"ya-link",3,"routerLink","queryParams"],[3,"routerLink","queryParams"],[2,"text-align","center"]],template:function(t,r){if(t&1&&(a(0,"dl",1)(1,"dt"),o(2,"Algorithm"),n(),a(3,"dd"),o(4),u(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,nn,2,5,"a",2),u(10,"spaceSystemName"),n(),E(11,an,4,2,null,null,g),a(13,"dt"),o(14,"Short description"),n(),a(15,"dd"),o(16),n(),a(17,"dt"),o(18,"Long description"),n(),a(19,"dd"),c(20,on,1,1,"app-markdown",3)(21,rn,1,0),n()(),_(22,"mat-divider"),a(23,"dl",4)(24,"dt"),o(25,"Scope"),n(),a(26,"dd"),o(27),n(),a(28,"dt"),o(29,"Type"),n(),a(30,"dd"),o(31),n(),a(32,"dt"),o(33,"Language"),n(),a(34,"dd"),o(35),n()(),c(36,ln,7,0),c(37,_n,13,0),_(38,"mat-divider"),a(39,"dl",4)(40,"dt"),o(41,"Input parameters"),n(),a(42,"dd"),c(43,Sn,14,0,"table",5)(44,gn,2,0,"span"),n()(),_(45,"mat-divider"),a(46,"dl",4)(47,"dt"),o(48,"Output parameters"),n(),a(49,"dd"),c(50,Tn,8,0,"table",5)(51,Dn,2,0,"span"),n()(),_(52,"mat-divider"),a(53,"dl",4)(54,"dt"),o(55,"Triggers"),n(),a(56,"dd"),c(57,In,9,1,"table",5)(58,wn,1,0),n()()),t&2){let m;l(4),x(f(5,12,r.algorithm.qualifiedName)),l(5),d((m=f(10,14,r.algorithm.qualifiedName))?9:-1,m),l(2),T(r.algorithm.alias),l(5),x(r.algorithm.shortDescription||"-"),l(4),d(r.algorithm.longDescription?20:21),l(7),x(r.algorithm.scope||"-"),l(4),x(r.algorithm.type||"-"),l(4),x(r.algorithm.language||"-"),l(),d(r.algorithm.text?36:-1),l(),d(r.algorithm.mathElements?37:-1),l(6),d(r.algorithm.inputParameter?43:44),l(7),d(r.algorithm.outputParameter?50:51),l(7),d(r.algorithm.onParameterUpdate||r.algorithm.onPeriodicRate?57:58)}},dependencies:[Fe,A,F,ee,ue,re,G,V],styles:["code[_ngcontent-%COMP%]{display:block;background-color:#fafafa;padding:1em;font-size:10px;border:1px solid #d3d3d3;white-space:pre}.algorithm-text[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}"],changeDetection:0});var St=Oe;var An=(e,i)=>({c:e,filter:i});function Nn(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),u(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,r=p(2),m=p();s("queryParams",H(6,An,m.yamcs.context,t)),l(),C(" ",t," "),l(),C(" /",f(3,4,r.qualifiedName)," "),l(2),s("text",r.qualifiedName)}}function Fn(e,i){if(e&1&&(c(0,Nn,5,9),u(1,"spaceSystemName")),e&2){let t,r=p();d((t=f(1,1,r.qualifiedName))?0:-1,t)}}function Ln(e,i){e&1&&(a(0,"ya-instance-page")(1,"ya-instance-toolbar"),S(2,Fn,2,3,"ng-template",0),n(),a(3,"ya-panel"),_(4,"app-algorithm-detail",1),n()()),e&2&&(l(4),s("algorithm",i))}var je=class je{constructor(i,t,r){this.yamcs=t;let m=i.snapshot.paramMap.get("qualifiedName");this.algorithm$=t.yamcsClient.getAlgorithm(this.yamcs.instance,m),this.algorithm$.then(y=>{r.setTitle(y.name)})}};je.\u0275fac=function(t){return new(t||je)(h(U),h(N),h(M))},je.\u0275cmp=w({type:je,selectors:[["ng-component"]],decls:2,vars:3,consts:[["ya-instance-toolbar-label",""],[3,"algorithm"],["routerLink","/mdb/algorithms",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,r){if(t&1&&(c(0,Ln,5,1,"ya-instance-page"),u(1,"async")),t&2){let m;d((m=f(1,1,r.algorithm$))?0:-1,m)}},dependencies:[St,A,F,R,k,we,Y,Ne,$,G,V],encapsulation:2,changeDetection:0});var Dt=je;var Pt=class extends se{constructor(t){super();this.yamcs=t;this.commands$=new P([]);this.totalSize$=new P(0);this.loading$=new P(!1)}connect(){return this.commands$}loadCommands(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getCommands(this.yamcs.instance,t).then(r=>{this.loading$.next(!1),this.totalSize$.next(r.totalSize),this.commands$.next(r.commands||[])})}getAliasNamespaces(){let t=[];for(let r of this.commands$.value)if(r.alias)for(let m of r.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.commands$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var $n=["top"],Bn=e=>["/mdb/commands",e],qn=e=>({c:e});function Mn(e,i){e&1&&(a(0,"th",20),o(1,"Significance"),n())}function Rn(e,i){if(e&1&&_(0,"app-significance-level",22),e&2){let t=p().$implicit;s("level",t.significance.consequenceLevel)}}function kn(e,i){e&1&&o(0," - ")}function Yn(e,i){if(e&1&&(a(0,"td",21),c(1,Rn,1,1,"app-significance-level",22)(2,kn,1,0),n()),e&2){let t=i.$implicit;l(),d(t.significance?1:2)}}function Vn(e,i){e&1&&(a(0,"th",20),o(1,"Name"),n())}function zn(e,i){if(e&1&&(a(0,"td",21)(1,"a",23),_(2,"ya-highlight",24),n()()),e&2){let t=i.$implicit,r=p(2);l(),s("routerLink",v(4,Bn,t.qualifiedName))("queryParams",v(6,qn,r.yamcs.context)),l(),s("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function On(e,i){e&1&&(a(0,"th",20),o(1,"Abstract"),n())}function jn(e,i){if(e&1&&(a(0,"td",21),o(1),n()),e&2){let t=i.$implicit;l(),C(" ",t.abstract?"Yes":"-"," ")}}function Hn(e,i){e&1&&(a(0,"th",20),o(1,"Description"),n())}function Un(e,i){if(e&1&&_(0,"ya-highlight",24),e&2){let t=p(3);s("text",i)("term",t.filterControl.value)}}function Qn(e,i){e&1&&o(0," - ")}function Gn(e,i){if(e&1&&(a(0,"td",25),c(1,Un,1,2,"ya-highlight",24)(2,Qn,1,0),n()),e&2){let t,r=i.$implicit;l(),d((t=r.shortDescription)?1:2,t)}}function Wn(e,i){if(e&1&&(a(0,"th",20),o(1),n()),e&2){let t=p().$implicit;l(),C(" ",t.label," ")}}function Kn(e,i){if(e&1&&_(0,"ya-highlight",24),e&2){let t=p(4);s("text",i)("term",t.filterControl.value)}}function Xn(e,i){e&1&&o(0," - ")}function Jn(e,i){if(e&1&&(a(0,"td",21),c(1,Kn,1,2,"ya-highlight",24),u(2,"alias"),me(3,Xn,1,0),n()),e&2){let t,r=i.$implicit,m=p().$implicit;l(),d((t=D(2,1,r,m.id))?1:3,t)}}function Zn(e,i){if(e&1&&(b(0,15),S(1,Wn,2,1,"th",9)(2,Jn,4,4,"td",10),I()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function ea(e,i){e&1&&_(0,"th",26)}function ta(e,i){e&1&&_(0,"td",21)}function ia(e,i){e&1&&_(0,"tr",27)}function na(e,i){if(e&1&&_(0,"tr",28),e&2){let t=i.$implicit,r=p(2);te("selected",r.selection.isSelected(t))}}function aa(e,i){if(e&1&&(a(0,"table",6),b(1,8),S(2,Mn,2,0,"th",9)(3,Yn,3,1,"td",10),I(),b(4,11),S(5,Vn,2,0,"th",9)(6,zn,3,8,"td",10),I(),b(7,12),S(8,On,2,0,"th",9)(9,jn,2,1,"td",10),I(),b(10,13),S(11,Hn,2,0,"th",9)(12,Gn,3,1,"td",14),I(),E(13,Zn,3,1,"ng-container",15,g),u(15,"async"),b(16,16),S(17,ea,1,0,"th",17)(18,ta,1,0,"td",10),I(),S(19,ia,1,0,"tr",18),u(20,"async"),S(21,na,1,2,"tr",19),u(22,"async"),n()),e&2){let t=p(),r=ce(8);s("dataSource",t.dataSource),l(13),T(f(15,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",f(20,5,r.displayedColumns$)),l(2),s("matRowDefColumns",f(22,7,r.displayedColumns$))}}function oa(e,i){if(e&1&&(a(0,"ya-panel"),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any commands. "),n()),e&2){let t=p();l(3),x(t.yamcs.instance)}}var He=class He{constructor(i,t,r,m,y){this.yamcs=i;this.route=r;this.router=m;this.messageService=y;this.shortName=!1;this.pageSize=100;this.filterControl=new oe;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"significance",label:"Significance",visible:!0},{id:"abstract",label:"Abstract",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new P([]);this.selection=new Ce(!1);t.setTitle("Commands"),this.dataSource=new Pt(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,fields:["name","qualifiedName","alias","significance","abstract","shortDescription"]},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadCommands(i).then(()=>{this.selection.clear();for(let m of this.aliasColumns$.value){let y=this.columns.indexOf(m);y!==-1&&this.columns.splice(y,1)}let r=[];for(let m of this.dataSource.getAliasNamespaces()){let y={id:m,label:m,alwaysVisible:!0};r.push(y)}this.columns.splice(1,0,...r),this.aliasColumns$.next(r),this.columnChooser.recalculate(this.columns)}).catch(r=>this.messageService.showError(r))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.commands$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.min(i.indexOf(r)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.commands$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.max(i.indexOf(r)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.commands$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/commands",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}};He.\u0275fac=function(t){return new(t||He)(h(N),h(M),h(U),h(ae),h(Pe))},He.\u0275cmp=w({type:He,selectors:[["ng-component"]],viewQuery:function(t,r){if(t&1&&(z($n,7),z(Q,7),z(K,5)),t&2){let m;O(m=j())&&(r.top=m.first),O(m=j())&&(r.paginator=m.first),O(m=j())&&(r.columnChooser=m.first)}},decls:14,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],["label","Commands"],["placeholder","Filter commands",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","mdb-commands",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","significance"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","abstract"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap400",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"level"],[3,"routerLink","queryParams"],[3,"text","term"],["mat-cell","",1,"wrap400"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(t&1){let m=ie();a(0,"ya-instance-page"),_(1,"ya-instance-toolbar",3)(2,"span",null,0),a(4,"ya-panel")(5,"ya-filter-bar")(6,"ya-search-filter",4),ne("onArrowDown",function(){return B(m),q(r.selectNext())})("onArrowUp",function(){return B(m),q(r.selectPrevious())})("onEnter",function(){return B(m),q(r.applySelection())}),n(),_(7,"ya-column-chooser",5,1),n(),c(9,aa,23,9,"table",6),_(10,"mat-paginator",7),u(11,"async"),n()(),S(12,oa,5,1,"ng-template",null,2,de)}t&2&&(l(6),s("formControl",r.filterControl),l(),s("columns",r.columns),l(2),d(r.dataSource?9:-1),l(),s("pageSize",r.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",f(11,7,r.dataSource.totalSize$)))},dependencies:[A,_e,$e,F,Q,fe,ye,ge,he,xe,Ee,ve,Se,Te,De,K,be,Ie,R,k,Y,Ae,ut,$,Be],encapsulation:2,changeDetection:0});var bt=He;function la(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),o(4),n()()),e&2){let t=i.$implicit;l(2),x(t.value),l(2),x(t.label)}}var Ue=class Ue{constructor(i){this.data=i}};Ue.\u0275fac=function(t){return new(t||Ue)(h(di))},Ue.\u0275cmp=w({type:Ue,selectors:[["app-argument-enum-dialog"]],decls:14,vars:0,consts:[["mat-dialog-title",""],["yaDataTable","",2,"width","100%"],["align","end"],["mat-dialog-close",""]],template:function(t,r){t&1&&(a(0,"h2",0),o(1,"Enum States"),n(),a(2,"mat-dialog-content")(3,"table",1)(4,"tr")(5,"th"),o(6,"Value"),n(),a(7,"th"),o(8,"Label"),n()(),E(9,la,5,2,"tr",null,g),n()(),a(11,"mat-dialog-actions",2)(12,"ya-button",3),o(13,"Close"),n()()),t&2&&(l(9),T(r.data.argument.type.enumValue))},dependencies:[A,ee,_i,ui,fi,Ci,xi],encapsulation:2});var It=Ue;var ma=(e,i)=>({c:e,filter:i}),pa=e=>["/mdb/commands/",e],mt=e=>({c:e}),ca=e=>["/mdb/algorithms/",e],da=e=>["/mdb/containers/",e],Ai=e=>["/mdb/parameters/",e];function sa(e,i){if(e&1&&(a(0,"a",1),o(1),n()),e&2){let t=i,r=p();s("queryParams",H(2,ma,r.yamcs.context,t)),l(),C(" ",t," ")}}function _a(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),x(t.namespace),l(2),x(t.name)}}function ua(e,i){if(e&1&&_(0,"app-markdown",2),e&2){let t=p();s("text",t.command.longDescription)}}function Ca(e,i){e&1&&o(0," - ")}function fa(e,i){if(e&1&&(a(0,"dd")(1,"a",5),o(2),u(3,"spaceSystemName"),u(4,"relativize"),n()()),e&2){let t=p();l(),s("routerLink",v(8,pa,t.command.baseCommand.qualifiedName))("queryParams",v(10,mt,t.yamcs.context)),l(),C(" ",D(4,5,t.command.baseCommand.qualifiedName,f(3,3,t.command.qualifiedName))," ")}}function xa(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function ya(e,i){if(e&1&&(a(0,"dd"),_(1,"app-significance-level",6),o(2),n()),e&2){let t=p();l(),s("level",t.command.significance.consequenceLevel),l(),C(" ",t.command.significance.reasonForWarning," ")}}function ha(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function va(e,i){if(e&1&&(o(0),_(1,"br")),e&2){let t=i.$implicit;Me(" ",t.name," = ",t.value," ")}}function Sa(e,i){if(e&1&&(a(0,"dd"),E(1,va,2,2,null,null,g),n()),e&2){let t=p();l(),T(t.command.argumentAssignment)}}function ga(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function Ea(e,i){if(e&1){let t=ie();a(0,"span",9),ne("click",function(){B(t);let m=p().$implicit,y=p(2);return q(y.showEnum(m))}),o(1),n()}if(e&2){let t=p().$implicit;l(),C(" ",t.type.engType," ")}}function Ta(e,i){if(e&1&&o(0),e&2){let t=p().$implicit;C(" ",t.type.engType||"-"," ")}}function Da(e,i){if(e&1&&_(0,"ya-interval",8),e&2){let t=p().$implicit;s("left",t.type.rangeMin)("right",t.type.rangeMax)}}function Pa(e,i){e&1&&o(0," - ")}function ba(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),o(4),n(),a(5,"td"),c(6,Ea,2,1,"span",7),c(7,Ta,1,1),n(),a(8,"td"),o(9),n(),a(10,"td"),o(11),n(),a(12,"td"),o(13),u(14,"nvl"),n(),a(15,"td"),o(16),n(),a(17,"td"),c(18,Da,1,2,"ya-interval",8)(19,Pa,1,0),n(),a(20,"td"),o(21),n()()),e&2){let t=i.$implicit;l(2),x(t.name||"-"),l(2),x(t.description||"-"),l(2),d(t.type.engType==="enumeration"?6:-1),l(),d(t.type.engType!=="enumeration"?7:-1),l(2),x(t.type.signed??"-"),l(2),x((t.type.dataEncoding==null?null:t.type.dataEncoding.encoding)||"-"),l(2),x(D(14,10,t.type.dataEncoding==null?null:t.type.dataEncoding.sizeInBits,"-")),l(3),C(" ",t.type.dataEncoding!=null&&t.type.dataEncoding.littleEndian?"Little endian":"Big endian"," "),l(2),d(t.type.rangeMin||t.type.rangeMax?18:19),l(3),x(t.initialValue||"-")}}function Ia(e,i){if(e&1&&(a(0,"dd")(1,"table",4)(2,"tr")(3,"th"),o(4,"Name"),n(),a(5,"th"),o(6,"Description"),n(),a(7,"th"),o(8,"Type"),n(),a(9,"th"),o(10,"Signed"),n(),a(11,"th"),o(12,"Encoding"),n(),a(13,"th"),o(14,"Size in bits"),n(),a(15,"th"),o(16,"Byte order"),n(),a(17,"th"),o(18,"Range"),n(),a(19,"th"),o(20,"Initial value"),n()(),E(21,ba,22,13,"tr",null,g),n()()),e&2){let t=p();l(21),T(t.command.argument)}}function wa(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function Aa(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-expression",10),u(3,"spaceSystemName"),n(),a(4,"td"),o(5),u(6,"millisDuration"),n()()),e&2){let t=i.$implicit,r=p(2);l(2),s("expression",t.expression)("relto",f(3,3,r.command.qualifiedName)),l(3),x(f(6,5,t.timeout)||"-")}}function Na(e,i){if(e&1&&(a(0,"dd")(1,"table",4)(2,"tr")(3,"th"),o(4,"Constraint"),n(),a(5,"th"),o(6,"Timeout"),n()(),E(7,Aa,7,7,"tr",null,g),n()()),e&2){let t=p();l(7),T(t.command.constraint)}}function Fa(e,i){e&1&&(a(0,"dd"),o(1,"-"),n())}function La(e,i){e&1&&o(0," Algorithm ")}function $a(e,i){e&1&&o(0," Container ")}function Ba(e,i){e&1&&o(0," Expression ")}function qa(e,i){if(e&1&&(a(0,"a",11),o(1),u(2,"spaceSystemName"),u(3,"relativize"),n()),e&2){let t=p().$implicit,r=p(2);s("routerLink",v(8,ca,t.algorithm.qualifiedName))("queryParams",v(10,mt,r.yamcs.context)),l(),C(" ",D(3,5,t.algorithm.qualifiedName,f(2,3,r.command.qualifiedName))," ")}}function Ma(e,i){if(e&1&&(a(0,"a",11),o(1),u(2,"spaceSystemName"),u(3,"relativize"),n()),e&2){let t=p().$implicit,r=p(2);s("routerLink",v(8,da,t.container.qualifiedName))("queryParams",v(10,mt,r.yamcs.context)),l(),C(" ",D(3,5,t.container.qualifiedName,f(2,3,r.command.qualifiedName))," ")}}function Ra(e,i){if(e&1&&o(0),e&2){let t=p().$implicit;C(" ",t.expression," ")}}function ka(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),c(4,La,1,0),c(5,$a,1,0),c(6,Ba,1,0),n(),a(7,"td"),c(8,qa,4,12,"a",11),c(9,Ma,4,12,"a",11),c(10,Ra,1,1),n(),a(11,"td"),_(12,"ya-interval",8),u(13,"millisDuration"),u(14,"millisDuration"),n(),a(15,"td"),o(16),n(),a(17,"td"),o(18),n(),a(19,"td"),o(20),n(),a(21,"td"),o(22),n()()),e&2){let t=i.$implicit;l(2),x(t.stage),l(2),d(t.algorithm?4:-1),l(),d(t.container?5:-1),l(),d(t.expression?6:-1),l(2),d(t.algorithm?8:-1),l(),d(t.container?9:-1),l(),d(t.expression?10:-1),l(2),s("left",f(13,13,t.checkWindow.timeToStartChecking))("right",f(14,15,t.checkWindow.timeToStopChecking)),l(4),x(t.checkWindow.relativeTo),l(2),x(t.onSuccess||"-"),l(2),x(t.onFail||"-"),l(2),x(t.onTimeout||"-")}}function Ya(e,i){if(e&1&&(a(0,"table",4)(1,"tr")(2,"th"),o(3,"Stage"),n(),a(4,"th"),o(5,"Type"),n(),a(6,"th"),o(7,"Ref"),n(),a(8,"th"),o(9,"Check window"),n(),a(10,"th"),o(11,"Relative to"),n(),a(12,"th"),o(13,"On success"),n(),a(14,"th"),o(15,"On fail"),n(),a(16,"th"),o(17,"On timeout"),n()(),E(18,ka,23,17,"tr",null,g),n()),e&2){let t=p();l(18),T(t.command.verifier)}}function Va(e,i){e&1&&o(0," - ")}function za(e,i){if(e&1&&(a(0,"td"),o(1),n(),a(2,"td"),o(3,"Argument"),n(),a(4,"td"),o(5),n(),a(6,"td",12),o(7),n()),e&2){let t=p().$implicit;l(),x((t.argument.type.dataEncoding==null?null:t.argument.type.dataEncoding.sizeInBits)??"-"),l(4),x(t.argument.name),l(2),x(t.argument.description||"-")}}function Oa(e,i){if(e&1&&(a(0,"td"),o(1),n(),a(2,"td"),o(3,"Parameter"),n(),a(4,"td")(5,"a",5),o(6),n()(),a(7,"td",12),o(8),n()),e&2){let t=p().$implicit,r=p(2);l(),x((t.parameter.type==null||t.parameter.type.dataEncoding==null?null:t.parameter.type.dataEncoding.sizeInBits)??"-"),l(4),s("routerLink",v(5,Ai,t.parameter.qualifiedName))("queryParams",v(7,mt,r.yamcs.context)),l(),C(" ",t.parameter.qualifiedName," "),l(2),C(" ",t.parameter.shortDescription||"-"," ")}}function ja(e,i){if(e&1&&(a(0,"td"),o(1),n(),a(2,"td"),o(3,"Fixed value"),n(),a(4,"td"),o(5),n(),a(6,"td",12),o(7,"-"),n()),e&2){let t=p().$implicit;l(),x(t.fixedValue.sizeInBits),l(4),Me("",t.fixedValue.name,": 0x",t.fixedValue.hexValue)}}function Ha(e,i){e&1&&o(0),e&2&&C(" (",i,") ")}function Ua(e,i){if(e&1&&(a(0,"td"),o(1,"-"),n(),a(2,"td"),o(3,"Indirect parameter"),n(),a(4,"td")(5,"a",5),o(6),c(7,Ha,1,1),n()(),a(8,"td",12),o(9),n()),e&2){let t,r=p().$implicit,m=p(2);l(5),s("routerLink",v(5,Ai,r.indirectParameterRef.parameter.qualifiedName))("queryParams",v(7,mt,m.yamcs.context)),l(),C(" ",r.indirectParameterRef.parameter.qualifiedName," "),l(),d((t=r.indirectParameterRef.aliasNamespace)?7:-1,t),l(2),C(" ",r.indirectParameterRef.parameter.shortDescription||"-"," ")}}function Qa(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2),n(),a(3,"td"),o(4),n(),c(5,za,8,3)(6,Oa,9,9)(7,ja,8,3)(8,Ua,10,9),n()),e&2){let t=i.$implicit;l(2),x(t.referenceLocation),l(2),x(t.locationInBits),l(),d(t.argument?5:t.parameter?6:t.fixedValue?7:t.indirectParameterRef?8:-1)}}function Ga(e,i){if(e&1&&(a(0,"table",4)(1,"tr")(2,"th"),o(3,"Loc ref"),n(),a(4,"th"),o(5,"Loc"),n(),a(6,"th"),o(7,"Bits"),n(),a(8,"th"),o(9,"Type"),n(),a(10,"th"),o(11,"Ref"),n(),a(12,"th",12),o(13,"Description"),n()(),E(14,Qa,9,3,"tr",null,g),n()),e&2){let t=p();l(14),T(t.command.commandContainer==null?null:t.command.commandContainer.entry)}}function Wa(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}var Qe=class Qe{constructor(i,t){this.yamcs=i;this.dialog=t}showEnum(i){this.dialog.open(It,{width:"400px",data:{argument:i}})}};Qe.\u0275fac=function(t){return new(t||Qe)(h(N),h(si))},Qe.\u0275cmp=w({type:Qe,selectors:[["app-command-detail"]],inputs:{command:"command"},decls:64,vars:16,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/commands",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],["yaDataTable",""],[1,"ya-link",3,"routerLink","queryParams"],[3,"level"],["matTooltip","Show enum states",1,"enum"],[3,"left","right"],["matTooltip","Show enum states",1,"enum",3,"click"],[3,"expression","relto"],[3,"routerLink","queryParams"],[1,"wrap200"]],template:function(t,r){if(t&1&&(a(0,"dl",0)(1,"dt"),o(2,"Command"),n(),a(3,"dd"),o(4),u(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,sa,2,5,"a",1),u(10,"spaceSystemName"),n(),E(11,_a,4,2,null,null,g),a(13,"dt"),o(14,"Short description"),n(),a(15,"dd"),o(16),n(),a(17,"dt"),o(18,"Long description"),n(),a(19,"dd"),c(20,ua,1,1,"app-markdown",2)(21,Ca,1,0),n()(),_(22,"mat-divider"),a(23,"dl",3)(24,"dt"),o(25,"Base command"),n(),c(26,fa,5,12,"dd")(27,xa,2,0,"dd"),a(28,"dt"),o(29,"Abstract"),n(),a(30,"dd"),o(31),n(),a(32,"dt"),o(33,"Significance"),n(),c(34,ya,3,2,"dd")(35,ha,2,0,"dd"),a(36,"dt"),o(37,"Argument assignments"),n(),c(38,Sa,3,0,"dd")(39,ga,2,0,"dd"),a(40,"dt"),o(41,"Arguments"),n(),c(42,Ia,23,0,"dd")(43,wa,2,0,"dd"),n(),_(44,"mat-divider"),a(45,"dl",3)(46,"dt"),o(47,"Constraints"),n(),c(48,Na,9,0,"dd")(49,Fa,2,0,"dd"),n(),_(50,"mat-divider"),a(51,"dl",3)(52,"dt"),o(53,"Verifiers"),n(),a(54,"dd"),c(55,Ya,20,0,"table",4)(56,Va,1,0),n()(),_(57,"mat-divider"),a(58,"dl",3)(59,"dt"),o(60,"Sequence entries"),n(),a(61,"dd"),c(62,Ga,16,0,"table",4)(63,Wa,2,0,"span"),n()()),t&2){let m;l(4),x(f(5,12,r.command.qualifiedName)),l(5),d((m=f(10,14,r.command.qualifiedName))?9:-1,m),l(2),T(r.command.alias),l(5),x(r.command.shortDescription||"-"),l(4),d(r.command.longDescription?20:21),l(6),d(r.command.baseCommand?26:27),l(5),x(r.command.abstract?"Yes":"No"),l(3),d(r.command.significance?34:35),l(4),d(r.command.argumentAssignment?38:39),l(4),d(r.command.argument?42:43),l(6),d(r.command.constraint?48:49),l(7),d(r.command.verifier!=null&&r.command.verifier.length?55:56),l(7),d(r.command.commandContainer!=null&&r.command.commandContainer.entry?62:63)}},dependencies:[le,Fe,ut,A,F,ee,ue,pi,ke,Ye,Ve,re,G,V],styles:[".enum[_ngcontent-%COMP%]{border-bottom:1px dotted #888;cursor:pointer}"],changeDetection:0});var wt=Qe;var Ka=(e,i)=>({c:e,filter:i});function Xa(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),u(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,r=p(2),m=p();s("queryParams",H(6,Ka,m.yamcs.context,t)),l(),C(" ",t," "),l(),C(" /",f(3,4,r.qualifiedName)," "),l(2),s("text",r.qualifiedName)}}function Ja(e,i){if(e&1&&(c(0,Xa,5,9),u(1,"spaceSystemName")),e&2){let t,r=p();d((t=f(1,1,r.qualifiedName))?0:-1,t)}}function Za(e,i){e&1&&(a(0,"ya-instance-page")(1,"ya-instance-toolbar"),S(2,Ja,2,3,"ng-template",0),n(),a(3,"ya-panel"),_(4,"app-command-detail",1),n()()),e&2&&(l(4),s("command",i))}var Ge=class Ge{constructor(i,t,r){this.yamcs=t;this.title=r;this.command$=new P(null);i.paramMap.subscribe(m=>{let y=m.get("qualifiedName");this.changeCommand(y)})}changeCommand(i){this.yamcs.yamcsClient.getCommand(this.yamcs.instance,i).then(t=>{this.command$.next(t),this.title.setTitle(t.name)})}};Ge.\u0275fac=function(t){return new(t||Ge)(h(U),h(N),h(M))},Ge.\u0275cmp=w({type:Ge,selectors:[["ng-component"]],decls:2,vars:3,consts:[["ya-instance-toolbar-label",""],[3,"command"],["routerLink","/mdb/commands",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,r){if(t&1&&(c(0,Za,5,1,"ya-instance-page"),u(1,"async")),t&2){let m;d((m=f(1,1,r.command$))?0:-1,m)}},dependencies:[wt,A,F,R,k,we,Y,Ne,$,G,V],encapsulation:2,changeDetection:0});var At=Ge;var Nt=class extends se{constructor(t){super();this.yamcs=t;this.containers$=new P([]);this.totalSize$=new P(0);this.loading$=new P(!1)}connect(){return this.containers$}loadContainers(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getContainers(this.yamcs.instance,t).then(r=>{this.loading$.next(!1),this.totalSize$.next(r.totalSize),this.containers$.next(r.containers||[])})}getAliasNamespaces(){let t=[];for(let r of this.containers$.value)if(r.alias)for(let m of r.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.containers$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var eo=["top"],to=e=>["/mdb/containers",e],Ni=e=>({c:e}),io=e=>["/mdb/containers/",e];function no(e,i){e&1&&(a(0,"th",24),o(1,"Name"),n())}function ao(e,i){if(e&1&&(a(0,"td",25)(1,"a",26),_(2,"ya-highlight",27),n()()),e&2){let t=i.$implicit,r=p(2);l(),s("routerLink",v(4,to,t.qualifiedName))("queryParams",v(6,Ni,r.yamcs.context)),l(),s("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function oo(e,i){e&1&&(a(0,"th",24),o(1,"Max interval"),n())}function ro(e,i){if(e&1&&(a(0,"td",25),o(1),u(2,"millisDuration"),n()),e&2){let t=i.$implicit;l(),C(" ",f(2,1,t.maxInterval)||"-"," ")}}function lo(e,i){e&1&&(a(0,"th",24),o(1,"Size in bits"),n())}function mo(e,i){if(e&1&&(a(0,"td",25),o(1),n()),e&2){let t=i.$implicit;l(),x(t.sizeInBits||"-")}}function po(e,i){e&1&&(a(0,"th",24),o(1,"Base container"),n())}function co(e,i){if(e&1&&(a(0,"a",28),o(1),u(2,"spaceSystemName"),u(3,"relativize"),n()),e&2){let t=p().$implicit,r=p(2);s("routerLink",v(8,io,t.baseContainer.qualifiedName))("queryParams",v(10,Ni,r.yamcs.context)),l(),C(" ",D(3,5,t.baseContainer.qualifiedName,f(2,3,t.qualifiedName))," ")}}function so(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function _o(e,i){if(e&1&&(a(0,"td",25),c(1,co,4,12,"a",28)(2,so,2,0,"span"),n()),e&2){let t=i.$implicit;l(),d(t.baseContainer?1:2)}}function uo(e,i){e&1&&(a(0,"th",24),o(1,"Restriction criteria"),n())}function Co(e,i){if(e&1&&(_(0,"app-expression",29),u(1,"spaceSystemName")),e&2){let t=p().$implicit;s("expression",t.restrictionCriteriaExpression)("relto",f(1,2,t.qualifiedName))}}function fo(e,i){e&1&&o(0," - ")}function xo(e,i){if(e&1&&(a(0,"td",25),c(1,Co,2,4,"app-expression",29)(2,fo,1,0),n()),e&2){let t=i.$implicit;te("mono",!!t.restrictionCriteriaExpression),l(),d(t.restrictionCriteriaExpression?1:2)}}function yo(e,i){e&1&&(a(0,"th",24),o(1,"Partition"),n())}function ho(e,i){if(e&1&&(a(0,"td",25),o(1),n()),e&2){let t=i.$implicit;l(),C(" ",t.archivePartition?"Yes":"-"," ")}}function vo(e,i){e&1&&(a(0,"th",24),o(1,"Description"),n())}function So(e,i){if(e&1&&(a(0,"td",30),o(1),n()),e&2){let t=i.$implicit;l(),C(" ",t.shortDescription||"-"," ")}}function go(e,i){if(e&1&&(a(0,"th",24),o(1),n()),e&2){let t=p().$implicit;l(),C(" ",t.label," ")}}function Eo(e,i){e&1&&o(0),e&2&&C(" ",i," ")}function To(e,i){e&1&&o(0," - ")}function Do(e,i){if(e&1&&(a(0,"td",25),c(1,Eo,1,1),u(2,"alias"),me(3,To,1,0),n()),e&2){let t,r=i.$implicit,m=p().$implicit;l(),d((t=D(2,1,r,m.id))?1:3,t)}}function Po(e,i){if(e&1&&(b(0,19),S(1,go,2,1,"th",9)(2,Do,4,4,"td",10),I()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function bo(e,i){e&1&&_(0,"th",31)}function Io(e,i){e&1&&_(0,"td",25)}function wo(e,i){e&1&&_(0,"tr",32)}function Ao(e,i){if(e&1&&_(0,"tr",33),e&2){let t=i.$implicit,r=p(2);te("selected",r.selection.isSelected(t))}}function No(e,i){if(e&1&&(a(0,"table",6),b(1,8),S(2,no,2,0,"th",9)(3,ao,3,8,"td",10),I(),b(4,11),S(5,oo,2,0,"th",9)(6,ro,3,3,"td",10),I(),b(7,12),S(8,lo,2,0,"th",9)(9,mo,2,1,"td",10),I(),b(10,13),S(11,po,2,0,"th",9)(12,_o,3,1,"td",10),I(),b(13,14),S(14,uo,2,0,"th",9)(15,xo,3,3,"td",15),I(),b(16,16),S(17,yo,2,0,"th",9)(18,ho,2,1,"td",10),I(),b(19,17),S(20,vo,2,0,"th",9)(21,So,2,1,"td",18),I(),E(22,Po,3,1,"ng-container",19,g),u(24,"async"),b(25,20),S(26,bo,1,0,"th",21)(27,Io,1,0,"td",10),I(),S(28,wo,1,0,"tr",22),u(29,"async"),S(30,Ao,1,2,"tr",23),u(31,"async"),n()),e&2){let t=p(),r=ce(8);s("dataSource",t.dataSource),l(22),T(f(24,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",f(29,5,r.displayedColumns$)),l(2),s("matRowDefColumns",f(31,7,r.displayedColumns$))}}function Fo(e,i){if(e&1&&(a(0,"ya-panel"),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any containers. "),n()),e&2){let t=p();l(3),x(t.yamcs.instance)}}var We=class We{constructor(i,t,r,m,y){this.yamcs=i;this.route=r;this.router=m;this.messageService=y;this.shortName=!1;this.pageSize=100;this.filterControl=new oe;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"maxInterval",label:"Max Interval",visible:!0},{id:"sizeInBits",label:"Size in bits",visible:!0},{id:"baseContainer",label:"Base Container",visible:!0},{id:"restrictionCriteria",label:"Restriction Criteria",visible:!0},{id:"archivePartition",label:"Partition"},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new P([]);this.selection=new Ce(!1);t.setTitle("Containers"),this.dataSource=new Nt(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadContainers(i).then(()=>{this.selection.clear();for(let m of this.aliasColumns$.value){let y=this.columns.indexOf(m);y!==-1&&this.columns.splice(y,1)}let r=[];for(let m of this.dataSource.getAliasNamespaces()){let y={id:m,label:m,alwaysVisible:!0};r.push(y)}this.columns.splice(1,0,...r),this.aliasColumns$.next(r),this.columnChooser.recalculate(this.columns)}).catch(r=>this.messageService.showError(r))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.containers$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.min(i.indexOf(r)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.containers$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.max(i.indexOf(r)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.containers$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/containers",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}};We.\u0275fac=function(t){return new(t||We)(h(N),h(M),h(U),h(ae),h(Pe))},We.\u0275cmp=w({type:We,selectors:[["ng-component"]],viewQuery:function(t,r){if(t&1&&(z(eo,7),z(Q,7),z(K,5)),t&2){let m;O(m=j())&&(r.top=m.first),O(m=j())&&(r.paginator=m.first),O(m=j())&&(r.columnChooser=m.first)}},decls:14,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],["label","Containers"],["placeholder","Filter containers",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","containers",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","maxInterval"],["matColumnDef","sizeInBits"],["matColumnDef","baseContainer"],["matColumnDef","restrictionCriteria"],["mat-cell","",3,"mono",4,"matCellDef"],["matColumnDef","archivePartition"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"secundary",3,"routerLink","queryParams"],[3,"expression","relto"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(t&1){let m=ie();a(0,"ya-instance-page"),_(1,"ya-instance-toolbar",3)(2,"span",null,0),a(4,"ya-panel")(5,"ya-filter-bar")(6,"ya-search-filter",4),ne("onArrowDown",function(){return B(m),q(r.selectNext())})("onArrowUp",function(){return B(m),q(r.selectPrevious())})("onEnter",function(){return B(m),q(r.applySelection())}),n(),_(7,"ya-column-chooser",5,1),n(),c(9,No,32,9,"table",6),_(10,"mat-paginator",7),u(11,"async"),n(),S(12,Fo,5,1,"ng-template",null,2,de),n()}t&2&&(l(6),s("formControl",r.filterControl),l(),s("columns",r.columns),l(2),d(r.dataSource?9:-1),l(),s("pageSize",r.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",f(11,7,r.dataSource.totalSize$)))},dependencies:[le,A,_e,$e,F,Q,fe,ye,ge,he,xe,Ee,ve,Se,Te,De,K,be,Ie,R,k,Y,Ae,$,Be,Ye,re,V],encapsulation:2,changeDetection:0});var Ft=We;var Lo=(e,i)=>({c:e,filter:i}),Fi=e=>["/mdb/containers/",e],pt=e=>({c:e}),Zt=e=>["/mdb/parameters/",e];function $o(e,i){if(e&1&&(a(0,"a",1),o(1),n()),e&2){let t=i,r=p();s("queryParams",H(2,Lo,r.yamcs.context,t)),l(),C(" ",t," ")}}function Bo(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),x(t.namespace),l(2),x(t.name)}}function qo(e,i){if(e&1&&_(0,"app-markdown",2),e&2){let t=p();s("text",t.container.longDescription)}}function Mo(e,i){e&1&&o(0," - ")}function Ro(e,i){if(e&1&&(a(0,"span"),o(1),u(2,"millisDuration"),n()),e&2){let t=p();l(),x(f(2,1,t.container.maxInterval))}}function ko(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Yo(e,i){if(e&1&&(a(0,"a",4),o(1),u(2,"spaceSystemName"),u(3,"relativize"),n()),e&2){let t=p();s("routerLink",v(8,Fi,t.container.baseContainer.qualifiedName))("queryParams",v(10,pt,t.yamcs.context)),l(),C(" ",D(3,5,t.container.baseContainer.qualifiedName,f(2,3,t.container.qualifiedName))," ")}}function Vo(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function zo(e,i){if(e&1&&(_(0,"app-expression",6),u(1,"spaceSystemName")),e&2){let t=p();s("expression",t.container.restrictionCriteriaExpression)("relto",f(1,2,t.container.qualifiedName))}}function Oo(e,i){e&1&&o(0," - ")}function jo(e,i){e&1&&o(0," Container start ")}function Ho(e,i){e&1&&o(0," Previous entry ")}function Uo(e,i){if(e&1&&o(0),e&2){let t=p(3).$implicit;C(" ",t.repeat.fixedCount," times ")}}function Qo(e,i){if(e&1&&(a(0,"a",4),o(1),u(2,"spaceSystemName"),u(3,"relativize"),n(),o(4," times ")),e&2){let t=p(3).$implicit,r=p(2);s("routerLink",v(8,Zt,t.repeat.dynamicCount.qualifiedName))("queryParams",v(10,pt,r.yamcs.context)),l(),C(" ",D(3,5,t.repeat.dynamicCount.qualifiedName,f(2,3,r.container.qualifiedName))," ")}}function Go(e,i){if(e&1&&c(0,Uo,1,1)(1,Qo,5,12),e&2){let t=p(2).$implicit;d(t.repeat.fixedCount!==void 0?0:t.repeat.dynamicCount?1:-1)}}function Wo(e,i){e&1&&o(0," - ")}function Ko(e,i){if(e&1&&(a(0,"td"),o(1),n(),a(2,"td"),o(3,"Parameter"),n(),a(4,"td")(5,"a",4),o(6),u(7,"spaceSystemName"),u(8,"relativize"),n()(),a(9,"td"),c(10,Go,2,1)(11,Wo,1,0),n(),a(12,"td",8),o(13),n()),e&2){let t=p().$implicit,r=p(2);l(),x((t.parameter.type==null||t.parameter.type.dataEncoding==null?null:t.parameter.type.dataEncoding.sizeInBits)??"-"),l(4),s("routerLink",v(11,Zt,t.parameter.qualifiedName))("queryParams",v(13,pt,r.yamcs.context)),l(),C(" ",D(8,8,t.parameter.qualifiedName,f(7,6,r.container.qualifiedName))," "),l(4),d(t.repeat?10:11),l(3),C(" ",t.parameter.shortDescription||"-"," ")}}function Xo(e,i){if(e&1&&o(0),e&2){let t=p(3).$implicit;C(" ",t.repeat.fixedCount," times ")}}function Jo(e,i){if(e&1&&(a(0,"a",4),o(1),n(),o(2," times ")),e&2){let t=p(3).$implicit,r=p(2);s("routerLink",v(3,Zt,t.repeat.dynamicCount.qualifiedName))("queryParams",v(5,pt,r.yamcs.context)),l(),C(" ",t.repeat.dynamicCount.qualifiedName," ")}}function Zo(e,i){if(e&1&&c(0,Xo,1,1)(1,Jo,3,7),e&2){let t=p(2).$implicit;d(t.repeat.fixedCount!==void 0?0:t.repeat.dynamicCount?1:-1)}}function er(e,i){e&1&&o(0," - ")}function tr(e,i){if(e&1&&(a(0,"td"),o(1),n(),a(2,"td"),o(3,"Container"),n(),a(4,"td")(5,"a",4),o(6),u(7,"spaceSystemName"),u(8,"relativize"),n()(),a(9,"td"),c(10,Zo,2,1)(11,er,1,0),n(),a(12,"td"),o(13),n()),e&2){let t=p().$implicit,r=p(2);l(),x(t.container.sizeInBits??"-"),l(4),s("routerLink",v(11,Fi,t.container.qualifiedName))("queryParams",v(13,pt,r.yamcs.context)),l(),C(" ",D(8,8,t.container.qualifiedName,f(7,6,r.container.qualifiedName))," "),l(4),d(t.repeat?10:11),l(3),C(" ",t.container.shortDescription||"-"," ")}}function ir(e,i){if(e&1&&(a(0,"tr")(1,"td"),c(2,jo,1,0)(3,Ho,1,0),n(),a(4,"td"),o(5),n(),c(6,Ko,14,15),c(7,tr,14,15),n()),e&2){let t=i.$implicit;l(2),d(t.referenceLocation==="CONTAINER_START"?2:t.referenceLocation==="PREVIOUS_ENTRY"?3:-1),l(3),x(t.locationInBits),l(),d(t.parameter?6:-1),l(),d(t.container?7:-1)}}function nr(e,i){if(e&1&&(a(0,"table",7)(1,"tr")(2,"th"),o(3,"Loc ref"),n(),a(4,"th"),o(5,"Loc"),n(),a(6,"th"),o(7,"Bits"),n(),a(8,"th"),o(9,"Type"),n(),a(10,"th"),o(11,"Ref"),n(),a(12,"th"),o(13,"Repeat"),n(),a(14,"th"),o(15,"Description"),n()(),E(16,ir,8,4,"tr",null,g),n()),e&2){let t=p();l(16),T(t.container.entry)}}function ar(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}var Ke=class Ke{constructor(i){this.yamcs=i}};Ke.\u0275fac=function(t){return new(t||Ke)(h(N))},Ke.\u0275cmp=w({type:Ke,selectors:[["app-container-detail"]],inputs:{container:"container"},decls:50,vars:13,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/containers",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],[1,"ya-link",3,"routerLink","queryParams"],[1,"mono"],[3,"expression","relto"],["yaDataTable",""],[1,"wrap200"]],template:function(t,r){if(t&1&&(a(0,"dl",0)(1,"dt"),o(2,"Container"),n(),a(3,"dd"),o(4),u(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,$o,2,5,"a",1),u(10,"spaceSystemName"),n(),E(11,Bo,4,2,null,null,g),a(13,"dt"),o(14,"Short description"),n(),a(15,"dd"),o(16),n(),a(17,"dt"),o(18,"Long description"),n(),a(19,"dd"),c(20,qo,1,1,"app-markdown",2)(21,Mo,1,0),n()(),_(22,"mat-divider"),a(23,"dl",3)(24,"dt"),o(25,"Max interval"),n(),a(26,"dd"),c(27,Ro,3,3,"span")(28,ko,2,0,"span"),n(),a(29,"dt"),o(30,"Base container"),n(),a(31,"dd"),c(32,Yo,4,12,"a",4)(33,Vo,2,0,"span"),n(),a(34,"dt"),o(35,"Restriction criteria"),n(),a(36,"dd",5),c(37,zo,2,4,"app-expression",6)(38,Oo,1,0),n(),a(39,"dt"),o(40,"Archive partition"),n(),a(41,"dd"),o(42),n()(),_(43,"mat-divider"),a(44,"dl",3)(45,"dt"),o(46,"Sequence entries"),n(),a(47,"dd"),c(48,nr,18,0,"table",7)(49,ar,2,0,"span"),n()()),t&2){let m;l(4),x(f(5,9,r.container.qualifiedName)),l(5),d((m=f(10,11,r.container.qualifiedName))?9:-1,m),l(2),T(r.container.alias),l(5),x(r.container.shortDescription||"-"),l(4),d(r.container.longDescription?20:21),l(7),d(r.container.maxInterval?27:28),l(5),d(r.container.baseContainer?32:33),l(5),d(r.container.restrictionCriteriaExpression?37:38),l(5),C(" ",r.container.archivePartition?"Yes":"No"," "),l(6),d(r.container.entry?48:49)}},dependencies:[le,Fe,A,F,ee,ue,Ye,re,G,V],encapsulation:2,changeDetection:0});var Lt=Ke;var or=(e,i)=>({c:e,filter:i});function rr(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),u(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,r=p(2),m=p();s("queryParams",H(6,or,m.yamcs.context,t)),l(),C(" ",t," "),l(),C(" /",f(3,4,r.qualifiedName)," "),l(2),s("text",r.qualifiedName)}}function lr(e,i){if(e&1&&(c(0,rr,5,9),u(1,"spaceSystemName")),e&2){let t,r=p();d((t=f(1,1,r.qualifiedName))?0:-1,t)}}function mr(e,i){e&1&&(a(0,"ya-instance-page")(1,"ya-instance-toolbar"),S(2,lr,2,3,"ng-template",0),n(),a(3,"ya-panel"),_(4,"app-container-detail",1),n()()),e&2&&(l(4),s("container",i))}var Xe=class Xe{constructor(i,t,r){this.yamcs=t;this.title=r;this.container$=new P(null);i.paramMap.subscribe(m=>{let y=m.get("qualifiedName");this.changeContainer(y)})}changeContainer(i){this.yamcs.yamcsClient.getContainer(this.yamcs.instance,i).then(t=>{this.container$.next(t),this.title.setTitle(t.name)})}};Xe.\u0275fac=function(t){return new(t||Xe)(h(U),h(N),h(M))},Xe.\u0275cmp=w({type:Xe,selectors:[["ng-component"]],decls:2,vars:3,consts:[["ya-instance-toolbar-label",""],[3,"container"],["routerLink","/mdb/containers",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,r){if(t&1&&(c(0,mr,5,1,"ya-instance-page"),u(1,"async")),t&2){let m;d((m=f(1,1,r.container$))?0:-1,m)}},dependencies:[Lt,A,F,R,k,we,Y,Ne,$,G,V],encapsulation:2,changeDetection:0});var $t=Xe;var ct=e=>({c:e});function pr(e,i){if(e&1&&(a(0,"dl",1)(1,"dt"),o(2,"Parameters:"),n(),a(3,"dd")(4,"a",2),o(5),n()(),a(6,"dt"),o(7,"Parameter types:"),n(),a(8,"dd")(9,"a",3),o(10),n()(),a(11,"dt"),o(12,"Containers:"),n(),a(13,"dd")(14,"a",4),o(15),n()(),a(16,"dt"),o(17,"Commands:"),n(),a(18,"dd")(19,"a",5),o(20),n()(),a(21,"dt"),o(22,"Algorithms:"),n(),a(23,"dd")(24,"a",6),o(25),n()()()),e&2){let t=i,r=p();l(4),s("queryParams",v(10,ct,r.yamcs.context)),l(),C(" ",t.parameterCount," "),l(4),s("queryParams",v(12,ct,r.yamcs.context)),l(),C(" ",t.parameterTypeCount," "),l(4),s("queryParams",v(14,ct,r.yamcs.context)),l(),C(" ",t.containerCount," "),l(4),s("queryParams",v(16,ct,r.yamcs.context)),l(),C(" ",t.commandCount," "),l(4),s("queryParams",v(18,ct,r.yamcs.context)),l(),C(" ",t.algorithmCount," ")}}var Je=class Je{constructor(i,t){this.yamcs=i;t.setTitle("Mission database"),this.mdb$=i.yamcsClient.getMissionDatabase(i.instance)}};Je.\u0275fac=function(t){return new(t||Je)(h(N),h(M))},Je.\u0275cmp=w({type:Je,selectors:[["ng-component"]],decls:5,vars:3,consts:[["label","Mission database"],[1,"dl-horizontal","no-lead"],["routerLink","/mdb/parameters",1,"ya-link",3,"queryParams"],["routerLink","/mdb/parameter-types",1,"ya-link",3,"queryParams"],["routerLink","/mdb/containers",1,"ya-link",3,"queryParams"],["routerLink","/mdb/commands",1,"ya-link",3,"queryParams"],["routerLink","/mdb/algorithms",1,"ya-link",3,"queryParams"]],template:function(t,r){if(t&1&&(a(0,"ya-instance-page"),_(1,"ya-instance-toolbar",0),a(2,"ya-panel"),c(3,pr,26,20,"dl",1),u(4,"async"),n()()),t&2){let m;l(3),d((m=f(4,1,r.mdb$))?3:-1,m)}},dependencies:[A,F,R,k,Y,$],encapsulation:2,changeDetection:0});var Bt=Je;var qt=class extends se{constructor(t){super();this.yamcs=t;this.parameterTypes$=new P([]);this.totalSize$=new P(0);this.loading$=new P(!1)}connect(){return this.parameterTypes$}loadParameterTypes(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getParameterTypes(this.yamcs.instance,t).then(r=>{this.loading$.next(!1),this.totalSize$.next(r.totalSize),this.parameterTypes$.next(r.parameterTypes||[])})}getAliasNamespaces(){let t=[];for(let r of this.parameterTypes$.value)if(r.alias)for(let m of r.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.parameterTypes$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var cr=["top"],dr=e=>["/mdb/parameter-types",e],sr=e=>({c:e});function _r(e,i){e&1&&(a(0,"th",20),o(1,"Name"),n())}function ur(e,i){if(e&1&&(a(0,"td",21)(1,"a",22),_(2,"ya-highlight",23),n()()),e&2){let t=i.$implicit,r=p(2);l(),s("routerLink",v(4,dr,t.qualifiedName))("queryParams",v(6,sr,r.yamcs.context)),l(),s("text",r.shortName?t.name:t.qualifiedName)("term",r.filterControl.value)}}function Cr(e,i){e&1&&(a(0,"th",20),o(1,"Type"),n())}function fr(e,i){e&1&&(a(0,"span",24),o(1),n()),e&2&&(l(),C(" ",i," "))}function xr(e,i){e&1&&o(0," - ")}function yr(e,i){if(e&1&&(a(0,"td",21),c(1,fr,2,1,"span",24)(2,xr,1,0),n()),e&2){let t,r=i.$implicit;l(),d((t=r.engType)?1:2,t)}}function hr(e,i){e&1&&(a(0,"th",20),o(1,"Units"),n())}function vr(e,i){if(e&1&&(a(0,"td",21),o(1),u(2,"units"),n()),e&2){let t=i.$implicit;l(),C(" ",f(2,1,t==null?null:t.unitSet)||"-"," ")}}function Sr(e,i){e&1&&(a(0,"th",20),o(1,"Description"),n())}function gr(e,i){if(e&1&&_(0,"ya-highlight",23),e&2){let t=p(3);s("text",i)("term",t.filterControl.value)}}function Er(e,i){e&1&&o(0," - ")}function Tr(e,i){if(e&1&&(a(0,"td",25),c(1,gr,1,2,"ya-highlight",23)(2,Er,1,0),n()),e&2){let t,r=i.$implicit;l(),d((t=r.shortDescription)?1:2,t)}}function Dr(e,i){if(e&1&&(a(0,"th",20),o(1),n()),e&2){let t=p().$implicit;l(),C(" ",t.label," ")}}function Pr(e,i){if(e&1&&_(0,"ya-highlight",23),e&2){let t=p(4);s("text",i)("term",t.filterControl.value)}}function br(e,i){e&1&&o(0," - ")}function Ir(e,i){if(e&1&&(a(0,"td",21),c(1,Pr,1,2,"ya-highlight",23),u(2,"alias"),me(3,br,1,0),n()),e&2){let t,r=i.$implicit,m=p().$implicit;l(),d((t=D(2,1,r,m.id))?1:3,t)}}function wr(e,i){if(e&1&&(b(0,15),S(1,Dr,2,1,"th",9)(2,Ir,4,4,"td",10),I()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function Ar(e,i){e&1&&_(0,"th",26)}function Nr(e,i){e&1&&_(0,"td",21)}function Fr(e,i){e&1&&_(0,"tr",27)}function Lr(e,i){if(e&1&&_(0,"tr",28),e&2){let t=i.$implicit,r=p(2);te("selected",r.selection.isSelected(t))}}function $r(e,i){if(e&1&&(a(0,"table",6),b(1,8),S(2,_r,2,0,"th",9)(3,ur,3,8,"td",10),I(),b(4,11),S(5,Cr,2,0,"th",9)(6,yr,3,1,"td",10),I(),b(7,12),S(8,hr,2,0,"th",9)(9,vr,3,3,"td",10),I(),b(10,13),S(11,Sr,2,0,"th",9)(12,Tr,3,1,"td",14),I(),E(13,wr,3,1,"ng-container",15,g),u(15,"async"),b(16,16),S(17,Ar,1,0,"th",17)(18,Nr,1,0,"td",10),I(),S(19,Fr,1,0,"tr",18),u(20,"async"),S(21,Lr,1,2,"tr",19),u(22,"async"),n()),e&2){let t=p(),r=ce(8);s("dataSource",t.dataSource),l(13),T(f(15,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",f(20,5,r.displayedColumns$)),l(2),s("matRowDefColumns",f(22,7,r.displayedColumns$))}}function Br(e,i){if(e&1&&(a(0,"ya-panel"),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any parameter types. "),n()),e&2){let t=p();l(3),x(t.yamcs.instance)}}var Ze=class Ze{constructor(i,t,r,m,y){this.yamcs=i;this.route=r;this.router=m;this.messageService=y;this.shortName=!1;this.pageSize=100;this.filterControl=new oe;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"units",label:"Units",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new P([]);this.selection=new Ce(!1);t.setTitle("Parameter types"),this.dataSource=new qt(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,fields:["name","qualifiedName","engType","unitSet","alias","shortDescription"]},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadParameterTypes(i).then(()=>{this.selection.clear();for(let m of this.aliasColumns$.value){let y=this.columns.indexOf(m);y!==-1&&this.columns.splice(y,1)}let r=[];for(let m of this.dataSource.getAliasNamespaces()){let y={id:m,label:m,alwaysVisible:!0};r.push(y)}this.columns.splice(1,0,...r),this.aliasColumns$.next(r),this.columnChooser.recalculate(this.columns)}).catch(r=>this.messageService.showError(r))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.parameterTypes$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.min(i.indexOf(r)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.parameterTypes$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.max(i.indexOf(r)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.parameterTypes$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/parameter-types",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}};Ze.\u0275fac=function(t){return new(t||Ze)(h(N),h(M),h(U),h(ae),h(Pe))},Ze.\u0275cmp=w({type:Ze,selectors:[["ng-component"]],viewQuery:function(t,r){if(t&1&&(z(cr,7),z(Q,7),z(K,5)),t&2){let m;O(m=j())&&(r.top=m.first),O(m=j())&&(r.paginator=m.first),O(m=j())&&(r.columnChooser=m.first)}},decls:14,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],["label","Parameter types"],["placeholder","Filter parameter types",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","mdb-parameter-types",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","units"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"mono"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(t&1){let m=ie();a(0,"ya-instance-page"),_(1,"ya-instance-toolbar",3)(2,"span",null,0),a(4,"ya-panel")(5,"ya-filter-bar")(6,"ya-search-filter",4),ne("onArrowDown",function(){return B(m),q(r.selectNext())})("onArrowUp",function(){return B(m),q(r.selectPrevious())})("onEnter",function(){return B(m),q(r.applySelection())}),n(),_(7,"ya-column-chooser",5,1),n(),c(9,$r,23,9,"table",6),_(10,"mat-paginator",7),u(11,"async"),n()(),S(12,Br,5,1,"ng-template",null,2,de)}t&2&&(l(6),s("formControl",r.filterControl),l(),s("columns",r.columns),l(2),d(r.dataSource?9:-1),l(),s("pageSize",r.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",f(11,7,r.dataSource.totalSize$)))},dependencies:[A,_e,$e,F,Q,fe,ye,ge,he,xe,Ee,ve,Se,Te,De,K,be,Ie,R,k,Y,Ae,$,Be,qe],encapsulation:2,changeDetection:0});var Mt=Ze;var et=class et{transform(i){if(!i||!i.length)return null;let t="",r=!0;for(let m=i.length-1;m>=0;m--)i[m]!==0&&(r||(i[m]>0?t+=" + ":t+=" - "),t+=Math.abs(i[m]),m===1?t+="\u{1D465}":m>=1&&(t+="\u{1D465}<sup>"+m+"</sup>"),r=!1);return t}};et.\u0275fac=function(t){return new(t||et)},et.\u0275pipe=ai({name:"polynomial",type:et,pure:!0});var Rt=et;function qr(e,i){if(e&1&&(_(0,"span",3),u(1,"polynomial")),e&2){let t=p();s("innerHTML",f(1,1,t.polynomialCalibrator.coefficients),Ut)}}function Mr(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=p();l(),C("",t.splineCalibrator.points.length," points")}}function Rr(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=p();l(),C(" ",t.javaExpressionCalibrator.formula," ")}}function kr(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Yr(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"default"),n(),a(3,"td"),o(4),n(),a(5,"td"),c(6,qr,2,3,"span",3)(7,Mr,2,1,"span")(8,Rr,2,1,"span")(9,kr,2,0,"span"),n()()),e&2){let t,r=i;l(4),x(r.type),l(2),d((t=r.type)==="POLYNOMIAL"?6:t==="SPLINE"?7:t==="JAVA_EXPRESSION"?8:9)}}function Vr(e,i){if(e&1&&(_(0,"span",3),u(1,"polynomial")),e&2){let t=p().$implicit;s("innerHTML",f(1,1,t.calibrator.polynomialCalibrator.coefficients),Ut)}}function zr(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=p().$implicit;l(),C(" ",t.calibrator.splineCalibrator.points.length," points ")}}function Or(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=p().$implicit;l(),C(" ",t.calibrator.javaExpressionCalibrator.formula," ")}}function jr(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Hr(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-expression",4),n(),a(3,"td"),o(4),n(),a(5,"td"),c(6,Vr,2,3,"span",3)(7,zr,2,1,"span")(8,Or,2,1,"span")(9,jr,2,0,"span"),n()()),e&2){let t,r=i.$implicit,m=p(3);l(2),s("expression",r.context)("relto",m.relto),l(2),x(r.calibrator.type),l(2),d((t=r.calibrator.type)==="POLYNOMIAL"?6:t==="SPLINE"?7:t==="JAVA_EXPRESSION"?8:9)}}function Ur(e,i){e&1&&E(0,Hr,10,4,"tr",null,g),e&2&&T(i)}function Qr(e,i){if(e&1&&(a(0,"table",0)(1,"tr")(2,"th",1),o(3,"Calibrator"),n(),a(4,"th",2),o(5,"Type"),n(),a(6,"th",1),o(7,"Definition"),n()(),c(8,Yr,10,2,"tr"),c(9,Ur,2,0),n()),e&2){let t,r,m=p();l(8),d((t=m.ptype.dataEncoding==null?null:m.ptype.dataEncoding.defaultCalibrator)?8:-1,t),l(),d((r=m.ptype.dataEncoding==null?null:m.ptype.dataEncoding.contextCalibrators)?9:-1,r)}}function Gr(e,i){e&1&&o(0,` None
`)}var tt=class tt{constructor(i){this.yamcs=i}};tt.\u0275fac=function(t){return new(t||tt)(h(N))},tt.\u0275cmp=w({type:tt,selectors:[["app-parameter-calibration"]],inputs:{ptype:"ptype",relto:"relto"},decls:2,vars:1,consts:[["yaDataTable",""],["width","200"],["width","100"],[3,"innerHTML"],[3,"expression","relto"]],template:function(t,r){t&1&&c(0,Qr,10,2,"table",0)(1,Gr,1,0),t&2&&d(r.ptype.dataEncoding!=null&&r.ptype.dataEncoding.defaultCalibrator||r.ptype.dataEncoding!=null&&r.ptype.dataEncoding.contextCalibrators?0:1)},dependencies:[le,A,ee,Rt],encapsulation:2,changeDetection:0});var it=tt;var Wr=(e,i)=>({c:e,filter:i}),Kr=e=>["/mdb/parameters/",e],Xr=e=>({c:e});function Jr(e,i){if(e&1&&(a(0,"a",1),o(1),n()),e&2){let t=i,r=p();s("queryParams",H(2,Wr,r.yamcs.context,t)),l(),C(" ",t," ")}}function Zr(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),x(t.namespace),l(2),x(t.name)}}function el(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),C(" ",i," "))}function tl(e,i){e&1&&o(0," - ")}function il(e,i){e&1&&(o(0),u(1,"units")),e&2&&C(" ",f(1,1,i)," ")}function nl(e,i){e&1&&o(0," - ")}function al(e,i){if(e&1&&(a(0,"dt"),o(1,"Signed"),n(),a(2,"dd"),o(3),n()),e&2){let t=p();l(3),C(" ",t.parameterType.signed," ")}}function ol(e,i){if(e&1&&(a(0,"dt"),o(1,"Size in bits"),n(),a(2,"dd"),o(3),n()),e&2){let t=p();l(3),C(" ",t.parameterType.sizeInBits," ")}}function rl(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p();s("text",t.parameterType.longDescription)}}function ll(e,i){e&1&&o(0," - ")}function ml(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"Parameter"),n(),a(3,"td")(4,"a",7),o(5),u(6,"spaceSystemName"),u(7,"relativize"),n()(),a(8,"td",6),o(9),n()()),e&2){let t=i.$implicit,r=p(2);l(4),s("routerLink",v(9,Kr,t.qualifiedName))("queryParams",v(11,Xr,r.yamcs.context)),l(),C(" ",D(7,6,t.qualifiedName,f(6,4,r.parameterType.qualifiedName))," "),l(4),x(t.shortDescription||"-")}}function pl(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Used by"),n(),a(4,"table",5)(5,"tr")(6,"th"),o(7,"Type"),n(),a(8,"th"),o(9,"Ref"),n(),a(10,"th",6),o(11,"Description"),n()(),E(12,ml,10,13,"tr",null,g),n(),a(14,"p"),o(15,"\xA0"),n()),e&2){let t=p();l(12),T(t.parameterType.usedBy)}}function cl(e,i){if(e&1&&o(0),e&2){let t=p(2);C(" ",t!=null&&t.littleEndian?"Little endian":"Big endian"," ")}}function dl(e,i){e&1&&o(0," - ")}function sl(e,i){if(e&1&&(a(0,"dt"),o(1,"Byte order"),n(),a(2,"dd"),c(3,cl,1,1),c(4,dl,1,0),n()),e&2){let t=p();l(3),d((t==null?null:t.littleEndian)!==void 0?3:-1),l(),d((t==null?null:t.littleEndian)===void 0?4:-1)}}function _l(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Data encoding"),n(),a(4,"dl",8)(5,"dt"),o(6,"Size in bits"),n(),a(7,"dd"),o(8),u(9,"nvl"),n(),c(10,sl,5,2),a(11,"dt"),o(12,"Encoding"),n(),a(13,"dd"),o(14),n()()),e&2){let t=i;l(8),x(D(9,3,t==null?null:t.sizeInBits,"-")),l(2),d((t==null?null:t.littleEndian)!==void 0?10:-1),l(4),x((t==null?null:t.encoding)||"-")}}function ul(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Calibration"),n(),_(4,"app-parameter-calibration",9),u(5,"spaceSystemName"),a(6,"p"),o(7,"\xA0"),n()),e&2){let t=p();l(4),s("ptype",t.parameterType)("relto",f(5,2,t.parameterType.qualifiedName))}}function Cl(e,i){if(e&1&&(a(0,"th"),_(1,"app-expression",13),u(2,"spaceSystemName"),n()),e&2){let t=i.$implicit,r=p(3);l(),s("expression",t.context)("relto",f(2,2,r.parameterType.qualifiedName))}}function fl(e,i){if(e&1&&(_(0,"app-alarm-level",15),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function xl(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function yl(e,i){if(e&1&&(_(0,"app-alarm-level",15),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function hl(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function vl(e,i){if(e&1&&(a(0,"td"),c(1,yl,2,3)(2,hl,2,0,"span"),n()),e&2){let t,r=i.$implicit,m=p().$implicit,y=p(3);l(),d((t=y.getEnumerationAlarmLevel(r,m.label))?1:2,t)}}function Sl(e,i){if(e&1&&(a(0,"tr")(1,"td",14),o(2),n(),a(3,"td",14),o(4),n(),a(5,"td"),o(6),n(),a(7,"td"),c(8,fl,2,3)(9,xl,2,0,"span"),n(),E(10,vl,3,1,"td",null,g),n()),e&2){let t,r=i.$implicit,m=p(3);l(2),x(r.value),l(2),x(r.label),l(2),x(r.description||"-"),l(2),d((t=m.getDefaultAlarmLevel(m.parameterType,r.label))?8:9,t),l(2),T(m.parameterType.contextAlarm)}}function gl(e,i){if(e&1&&(_(0,"app-alarm-level",15),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function El(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Tl(e,i){if(e&1&&(_(0,"app-alarm-level",15),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function Dl(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function Pl(e,i){if(e&1&&(a(0,"td"),c(1,Tl,2,3)(2,Dl,2,0,"span"),n()),e&2){let t,r=i.$implicit,m=p().$implicit,y=p(3);l(),d((t=y.getEnumerationAlarmLevel(r,m.label))?1:2,t)}}function bl(e,i){if(e&1&&(a(0,"tr")(1,"td",14),_(2,"ya-interval",16),n(),a(3,"td",14),o(4),n(),a(5,"td"),o(6),n(),a(7,"td"),c(8,gl,2,3)(9,El,2,0,"span"),n(),E(10,Pl,3,1,"td",null,g),n()),e&2){let t,r=i.$implicit,m=p(3);l(2),s("left",r.min)("right",r.max)("leftInclusive",r.minInclusive)("rightInclusive",r.maxInclusive),l(2),x(r.label),l(2),x(r.description||"-"),l(2),d((t=m.getDefaultAlarmLevel(m.parameterType,r.label))?8:9,t),l(2),T(m.parameterType.contextAlarm)}}function Il(e,i){if(e&1&&(_(0,"app-alarm-level",15),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function wl(e,i){if(e&1&&(_(0,"app-alarm-level",15),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function Al(e,i){if(e&1&&(a(0,"td"),c(1,wl,2,3),n()),e&2){let t,r=i.$implicit;l(),d((t=r.alarm.defaultLevel)?1:-1,t)}}function Nl(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th",10),o(3,"Value"),n(),a(4,"th",11),o(5,"Label"),n(),a(6,"th",12),o(7,"Description"),n(),a(8,"th"),o(9,"Alarm level (default)"),n(),E(10,Cl,3,4,"th",null,g),n(),E(12,Sl,12,4,"tr",null,g),E(14,bl,12,7,"tr",null,g),a(16,"tr")(17,"td"),o(18,"Other"),n(),a(19,"td"),o(20,"UNDEF"),n(),a(21,"td"),o(22,"-"),n(),a(23,"td"),c(24,Il,2,3),n(),E(25,Al,2,1,"td",null,g),n()()),e&2){let t,r=p(2);l(10),T(r.parameterType.contextAlarm),l(2),T(r.parameterType.enumValues),l(2),T(r.parameterType.enumRanges),l(10),d((t=r.parameterType.defaultAlarm==null?null:r.parameterType.defaultAlarm.defaultLevel)?24:-1,t),l(),T(r.parameterType.contextAlarm)}}function Fl(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Enumeration"),n(),c(4,Nl,27,1,"table",5),a(5,"p"),o(6,"\xA0"),n()),e&2){let t=p();l(4),d(t.parameterType.engType==="enumeration"?4:-1)}}function Ll(e,i){if(e&1&&(_(0,"ya-interval",18),u(1,"nvl"),u(2,"nvl")),e&2){let t=p().$implicit;s("left",D(1,5,t.minInclusive,t.minExclusive))("right",D(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function $l(e,i){e&1&&o(0," - ")}function Bl(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",15),o(3),n(),a(4,"td"),c(5,Ll,3,11,"ya-interval",18)(6,$l,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),C(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function ql(e,i){if(e&1&&(a(0,"dl",17)(1,"dt"),o(2,"Min. violations"),n(),a(3,"dd"),o(4),n()(),a(5,"table",5)(6,"tr")(7,"th"),o(8,"Alarm level (default)"),n(),a(9,"th"),o(10,"Range"),n()(),E(11,Bl,7,4,"tr",null,g),n()),e&2){let t=i;l(4),x(t.minViolations),l(7),T(t.staticAlarmRanges)}}function Ml(e,i){e&1&&(a(0,"p"),o(1,"\xA0"),n())}function Rl(e,i){if(e&1&&(_(0,"ya-interval",18),u(1,"nvl"),u(2,"nvl")),e&2){let t=p().$implicit;s("left",D(1,5,t.minInclusive,t.minExclusive))("right",D(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function kl(e,i){e&1&&o(0," - ")}function Yl(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",15),o(3),n(),a(4,"td"),c(5,Rl,3,11,"ya-interval",18)(6,kl,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),C(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function Vl(e,i){if(e&1&&(c(0,Ml,2,0,"p"),a(1,"h5"),o(2," Context: "),_(3,"app-expression",13),u(4,"spaceSystemName"),n(),a(5,"dl",17)(6,"dt"),o(7,"Min. violations"),n(),a(8,"dd"),o(9),n()(),a(10,"table",5)(11,"tr")(12,"th"),o(13,"Level"),n(),a(14,"th"),o(15,"Range"),n()(),E(16,Yl,7,4,"tr",null,g),n()),e&2){let t=i.$implicit,r=i.$index,m=p(3);d(r!==0?0:-1),l(3),s("expression",t.context)("relto",f(4,4,m.parameterType.qualifiedName)),l(6),x(t.alarm.minViolations),l(7),T(t.alarm.staticAlarmRanges)}}function zl(e,i){if(e&1&&(c(0,ql,13,1),E(1,Vl,18,6,null,null,g)),e&2){let t,r=p(2);d((t=r.parameterType.defaultAlarm)?0:-1,t),l(),T(r.parameterType.contextAlarm)}}function Ol(e,i){e&1&&o(0," None ")}function jl(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Alarm Info"),n(),c(4,zl,3,1)(5,Ol,1,0),a(6,"p"),o(7,"\xA0"),n()),e&2){let t=p();l(4),d(t.parameterType.defaultAlarm||t.parameterType.contextAlarm?4:5)}}var nt=class nt{constructor(i){this.yamcs=i}getDefaultAlarmLevel(i,t){if(i&&i.defaultAlarm){let r=i.defaultAlarm;if(r.enumerationAlarms){for(let m of r.enumerationAlarms)if(m.label===t)return m.level}return r.defaultLevel}}getEnumerationAlarmLevel(i,t){let r=i.alarm;for(let m of r.enumerationAlarms)if(m.label===t)return m.level;return r.defaultLevel}};nt.\u0275fac=function(t){return new(t||nt)(h(N))},nt.\u0275cmp=w({type:nt,selectors:[["app-parameter-type-detail"]],inputs:{parameterType:"parameterType"},decls:39,vars:17,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/parameter-types",1,"ya-link",3,"queryParams"],[1,"mono"],[3,"text"],[1,"section-divider"],["yaDataTable",""],[1,"wrap200"],[3,"routerLink","queryParams"],[1,"dl-horizontal","no-trail"],[3,"ptype","relto"],[2,"width","50px"],[2,"width","100px"],[2,"width","300px"],[3,"expression","relto"],[2,"white-space","nowrap"],[3,"level","grayscale"],[3,"left","right","leftInclusive","rightInclusive"],[1,"dl-horizontal"],[3,"left","right","leftInclusive","rightInclusive","outside"]],template:function(t,r){if(t&1&&(a(0,"dl",0)(1,"dt"),o(2,"Parameter type"),n(),a(3,"dd"),o(4),u(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,Jr,2,5,"a",1),u(10,"spaceSystemName"),n(),E(11,Zr,4,2,null,null,g),a(13,"dt"),o(14,"Type"),n(),a(15,"dd"),c(16,el,2,1,"span",2)(17,tl,1,0),n(),a(18,"dt"),o(19,"Units"),n(),a(20,"dd"),c(21,il,2,3)(22,nl,1,0),n(),c(23,al,4,1),c(24,ol,4,1),a(25,"dt"),o(26,"Short description"),n(),a(27,"dd"),o(28),n(),a(29,"dt"),o(30,"Long description"),n(),a(31,"dd"),c(32,rl,1,1,"app-markdown",3)(33,ll,1,0),n()(),c(34,pl,16,0),c(35,_l,15,6),c(36,ul,8,4),c(37,Fl,7,1),c(38,jl,8,1)),t&2){let m,y,L,ei;l(4),x(f(5,13,r.parameterType.qualifiedName)),l(5),d((m=f(10,15,r.parameterType.qualifiedName))?9:-1,m),l(2),T(r.parameterType.alias),l(5),d((y=r.parameterType.engType)?16:17,y),l(5),d((L=r.parameterType.unitSet)?21:22,L),l(2),d(r.parameterType.signed!==void 0?23:-1),l(),d(r.parameterType.sizeInBits!==void 0?24:-1),l(4),x(r.parameterType.shortDescription||"-"),l(4),d(r.parameterType.longDescription?32:33),l(2),d(r.parameterType.usedBy!=null&&r.parameterType.usedBy.length?34:-1),l(),d((ei=r.parameterType.dataEncoding)?35:-1,ei),l(),d(r.parameterType.engType==="integer"||r.parameterType.engType==="float"?36:-1),l(),d(r.parameterType.engType==="enumeration"?37:-1),l(),d(r.parameterType.engType==="integer"||r.parameterType.engType==="float"?38:-1)}},dependencies:[Ct,le,Fe,it,A,F,ee,ue,ke,Ve,re,G,V,qe],styles:["[_nghost-%COMP%]{font:400 12px/20px Roboto,sans-serif}"],changeDetection:0});var kt=nt;var Hl=(e,i)=>({c:e,filter:i});function Ul(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),u(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,r=p(2),m=p();s("queryParams",H(6,Hl,m.yamcs.context,t)),l(),C(" ",t," "),l(),C(" /",f(3,4,r.qualifiedName)," "),l(2),s("text",r.qualifiedName)}}function Ql(e,i){if(e&1&&(c(0,Ul,5,9),u(1,"spaceSystemName")),e&2){let t,r=p();d((t=f(1,1,r.qualifiedName))?0:-1,t)}}function Gl(e,i){e&1&&(a(0,"ya-instance-page")(1,"ya-instance-toolbar"),S(2,Ql,2,3,"ng-template",0),n(),a(3,"ya-panel"),_(4,"app-parameter-type-detail",1),n()()),e&2&&(l(4),s("parameterType",i))}var at=class at{constructor(i,t,r){this.yamcs=t;this.title=r;this.ptype$=new P(null);i.paramMap.subscribe(m=>{let y=m.get("qualifiedName");this.changeParameterType(y)})}changeParameterType(i){this.yamcs.yamcsClient.getParameterType(this.yamcs.instance,i).then(t=>{this.ptype$.next(t),this.title.setTitle(t.name)})}};at.\u0275fac=function(t){return new(t||at)(h(U),h(N),h(M))},at.\u0275cmp=w({type:at,selectors:[["ng-component"]],decls:2,vars:3,consts:[["ya-instance-toolbar-label",""],[3,"parameterType"],["routerLink","/mdb/parameter-types",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,r){if(t&1&&(c(0,Gl,5,1,"ya-instance-page"),u(1,"async")),t&2){let m;d((m=f(1,1,r.ptype$))?0:-1,m)}},dependencies:[kt,A,F,R,k,we,Y,Ne,$,G,V],encapsulation:2,changeDetection:0});var Yt=at;var Vt=class extends se{constructor(t){super();this.yamcs=t;this.parameters$=new P([]);this.totalSize$=new P(0);this.loading$=new P(!1)}connect(){return this.parameters$}loadParameters(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getParameters(this.yamcs.instance,t).then(r=>{this.loading$.next(!1),this.totalSize$.next(r.totalSize),this.parameters$.next(r.parameters||[])})}getAliasNamespaces(){let t=[];for(let r of this.parameters$.value)if(r.alias)for(let m of r.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.parameters$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var Wl=["top"],Kl=e=>["/mdb/parameters",e],Xl=e=>({c:e});function Jl(e,i){e&1&&(a(0,"th",24),o(1,"Name"),n())}function Zl(e,i){if(e&1&&(a(0,"td",25)(1,"a",26),u(2,"memberPath"),_(3,"ya-highlight",27),u(4,"memberPath"),n()()),e&2){let t=i.$implicit,r=p(2);l(),s("routerLink",v(8,Kl,f(2,4,t)))("queryParams",v(10,Xl,r.yamcs.context)),l(2),s("text",f(4,6,t))("term",r.filterForm.value.filter)}}function em(e,i){e&1&&(a(0,"th",24),o(1,"Type"),n())}function tm(e,i){e&1&&(a(0,"span",28),o(1),n()),e&2&&(l(),C(" ",i," "))}function im(e,i){e&1&&o(0," - ")}function nm(e,i){if(e&1&&(a(0,"td",25),c(1,tm,2,1,"span",28),u(2,"parameterTypeForPath"),me(3,im,1,0),n()),e&2){let t,r=i.$implicit;l(),d((t=(t=f(2,1,r))==null?null:t.engType)?1:3,t)}}function am(e,i){e&1&&(a(0,"th",24),o(1,"Units"),n())}function om(e,i){if(e&1&&(a(0,"td",25),o(1),u(2,"parameterTypeForPath"),u(3,"units"),n()),e&2){let t,r=i.$implicit;l(),C(" ",f(3,3,(t=f(2,1,r))==null?null:t.unitSet)||"-"," ")}}function rm(e,i){e&1&&(a(0,"th",24),o(1,"Data source"),n())}function lm(e,i){if(e&1&&(a(0,"td",25),o(1),u(2,"titlecase"),n()),e&2){let t=i.$implicit;l(),C(" ",f(2,1,t.dataSource)||"-"," ")}}function mm(e,i){e&1&&(a(0,"th",24),o(1,"Description"),n())}function pm(e,i){if(e&1&&(a(0,"td",29),o(1),n()),e&2){let t=i.$implicit;l(),C(" ",t.shortDescription||"-"," ")}}function cm(e,i){if(e&1&&(a(0,"th",24),o(1),n()),e&2){let t=p().$implicit;l(),C(" ",t.label," ")}}function dm(e,i){if(e&1&&_(0,"ya-highlight",27),e&2){let t=p(4);s("text",i)("term",t.filterForm.value.filter)}}function sm(e,i){e&1&&o(0," - ")}function _m(e,i){if(e&1&&(a(0,"td",25),c(1,dm,1,2,"ya-highlight",27),u(2,"alias"),me(3,sm,1,0),n()),e&2){let t,r=i.$implicit,m=p().$implicit;l(),d((t=D(2,1,r,m.id))?1:3,t)}}function um(e,i){if(e&1&&(b(0,19),S(1,cm,2,1,"th",12)(2,_m,4,4,"td",13),I()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function Cm(e,i){e&1&&_(0,"th",30)}function fm(e,i){e&1&&_(0,"td",25)}function xm(e,i){e&1&&_(0,"tr",31)}function ym(e,i){if(e&1&&_(0,"tr",32),e&2){let t=i.$implicit,r=p(2);te("selected",r.selection.isSelected(t))}}function hm(e,i){if(e&1&&(a(0,"table",9),b(1,11),S(2,Jl,2,0,"th",12)(3,Zl,5,12,"td",13),I(),b(4,14),S(5,em,2,0,"th",12)(6,nm,4,3,"td",13),I(),b(7,15),S(8,am,2,0,"th",12)(9,om,4,5,"td",13),I(),b(10,16),S(11,rm,2,0,"th",12)(12,lm,3,3,"td",13),I(),b(13,17),S(14,mm,2,0,"th",12)(15,pm,2,1,"td",18),I(),E(16,um,3,1,"ng-container",19,g),u(18,"async"),b(19,20),S(20,Cm,1,0,"th",21)(21,fm,1,0,"td",13),I(),S(22,xm,1,0,"tr",22),u(23,"async"),S(24,ym,1,2,"tr",23),u(25,"async"),n()),e&2){let t=p(),r=ce(8);s("dataSource",t.dataSource),l(16),T(f(18,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",f(23,5,r.displayedColumns$)),l(2),s("matRowDefColumns",f(25,7,r.displayedColumns$))}}function vm(e,i){if(e&1&&(a(0,"ya-panel"),o(1," The Mission Database for "),a(2,"i"),o(3),n(),o(4," does not define any parameters. "),n()),e&2){let t=p();l(3),x(t.yamcs.instance)}}var ot=class ot{constructor(i,t,r,m,y){this.yamcs=i;this.route=r;this.router=m;this.messageService=y;this.filterForm=new ri({filter:new oe,type:new oe("ANY"),source:new oe("ANY")});this.pageSize=100;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"units",label:"Units",visible:!0},{id:"dataSource",label:"Data source",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new P([]);this.typeOptions=[{id:"ANY",label:"Any type"},{id:"aggregate",label:"aggregate"},{id:"array",label:"array"},{id:"binary",label:"binary"},{id:"boolean",label:"boolean"},{id:"enumeration",label:"enumeration"},{id:"float",label:"float"},{id:"integer",label:"integer"},{id:"string",label:"string"},{id:"time",label:"time"}];this.sourceOptions=[{id:"ANY",label:"Any source"},{id:"COMMAND",label:"Command"},{id:"COMMAND_HISTORY",label:"Command History"},{id:"CONSTANT",label:"Constant"},{id:"DERIVED",label:"Derived"},{id:"EXTERNAL1",label:"External 1"},{id:"EXTERNAL2",label:"External 2"},{id:"EXTERNAL3",label:"External 3"},{id:"GROUND",label:"Ground"},{id:"LOCAL",label:"Local"},{id:"SYSTEM",label:"System"},{id:"TELEMETERED",label:"Telemetered"}];this.selection=new Ce(!1);t.setTitle("Parameters"),this.dataSource=new Vt(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;i.has("filter")&&(this.filter=i.get("filter")||"",this.filterForm.get("filter").setValue(this.filter)),i.has("type")&&(this.type=i.get("type"),this.filterForm.get("type").setValue(this.type)),i.has("source")&&(this.source=i.get("source"),this.filterForm.get("source").setValue(this.source)),this.filterForm.get("filter").valueChanges.subscribe(t=>{this.paginator.pageIndex=0,this.filter=t,this.updateDataSource()}),this.filterForm.get("type").valueChanges.forEach(t=>{this.type=t!=="ANY"?t:null,this.updateDataSource()}),this.filterForm.get("source").valueChanges.forEach(t=>{this.source=t!=="ANY"?t:null,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,details:!0};this.filter&&(i.q=this.filter,i.searchMembers=!0),this.type&&(i.type=this.type),this.source&&(i.source=this.source),this.dataSource.loadParameters(i).then(()=>{this.selection.clear();for(let r of this.aliasColumns$.value){let m=this.columns.indexOf(r);m!==-1&&this.columns.splice(m,1)}let t=[];for(let r of this.dataSource.getAliasNamespaces()){let m={id:r,label:r,alwaysVisible:!0};t.push(m)}this.columns.splice(1,0,...t),this.aliasColumns$.next(t),this.columnChooser.recalculate(this.columns)}).catch(t=>this.messageService.showError(t))}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:this.filter||null,type:this.type||null,source:this.source||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.parameters$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.min(i.indexOf(r)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.parameters$.value,t=0;if(this.selection.hasValue()){let r=this.selection.selected[0];i.indexOf(r)!==-1&&(t=Math.max(i.indexOf(r)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.parameters$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/parameters",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}};ot.\u0275fac=function(t){return new(t||ot)(h(N),h(M),h(U),h(ae),h(Pe))},ot.\u0275cmp=w({type:ot,selectors:[["ng-component"]],viewQuery:function(t,r){if(t&1&&(z(Wl,7),z(Q,7),z(K,5)),t&2){let m;O(m=j())&&(r.top=m.first),O(m=j())&&(r.paginator=m.first),O(m=j())&&(r.columnChooser=m.first)}},decls:17,vars:12,consts:[["top",""],["columnChooser",""],["empty",""],["label","Parameters"],[3,"formGroup"],["formControlName","filter","placeholder","Filter parameters",3,"onArrowDown","onArrowUp","onEnter"],["preferenceKey","mdb-parameters",3,"columns"],["formControlName","type",3,"options"],["formControlName","source",3,"options"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","units"],["matColumnDef","dataSource"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap400",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"mono"],["mat-cell","",1,"wrap400"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(t&1){let m=ie();a(0,"ya-instance-page"),_(1,"ya-instance-toolbar",3)(2,"span",null,0),a(4,"ya-panel")(5,"ya-filter-bar",4)(6,"ya-search-filter",5),ne("onArrowDown",function(){return B(m),q(r.selectNext())})("onArrowUp",function(){return B(m),q(r.selectPrevious())})("onEnter",function(){return B(m),q(r.applySelection())}),n(),_(7,"ya-column-chooser",6,1),n(),a(9,"ya-filter-bar",4),_(10,"ya-select",7)(11,"ya-select",8),n(),c(12,hm,26,9,"table",9),_(13,"mat-paginator",10),u(14,"async"),n(),S(15,vm,5,1,"ng-template",null,2,de),n()}t&2&&(l(5),s("formGroup",r.filterForm),l(2),s("columns",r.columns),l(2),s("formGroup",r.filterForm),l(),s("options",r.typeOptions),l(),s("options",r.sourceOptions),l(),d(r.dataSource?12:-1),l(),s("pageSize",r.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",f(14,10,r.dataSource.totalSize$)))},dependencies:[A,_e,oi,li,mi,F,Q,fe,ye,ge,he,xe,Ee,ve,Se,Te,De,K,be,Ie,R,k,Y,Ae,vi,$,st,Be,gi,Ei,qe],encapsulation:2,changeDetection:0});var zt=ot;var Li=(e,i)=>({c:e,filter:i}),$i=e=>["/mdb/parameters",e],dt=e=>({c:e}),Sm=e=>["/mdb/algorithms/",e],gm=e=>["/mdb/containers/",e],Em=e=>["/mdb/parameters/",e];function Tm(e,i){if(e&1&&(a(0,"a",4),o(1),n()),e&2){let t=i,r=p(3);s("queryParams",H(2,Li,r.yamcs.context,t)),l(),C(" ",t," ")}}function Dm(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),x(t.namespace),l(2),x(t.name)}}function Pm(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),C(" ",i," "))}function bm(e,i){e&1&&o(0," - ")}function Im(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p(2);s("text",t.longDescription)}}function wm(e,i){e&1&&o(0," - ")}function Am(e,i){if(e&1&&(a(0,"dl",0)(1,"dt"),o(2,"Entry"),n(),a(3,"dd"),o(4),u(5,"shortName"),n(),a(6,"dt"),o(7,"System"),n(),a(8,"dd"),c(9,Tm,2,5,"a",4),u(10,"spaceSystemName"),n(),E(11,Dm,4,2,null,null,g),a(13,"dt"),o(14,"Type"),n(),a(15,"dd"),c(16,Pm,2,1,"span",2)(17,bm,1,0),n(),a(18,"dt"),o(19,"Source"),n(),a(20,"dd"),o(21),u(22,"titlecase"),n(),a(23,"dt"),o(24,"Short description"),n(),a(25,"dd"),o(26),n(),a(27,"dt"),o(28,"Long description"),n(),a(29,"dd"),c(30,Im,1,1,"app-markdown",3)(31,wm,1,0),n()()),e&2){let t,r,m=p(),y=p();l(4),Me("",f(5,7,y.parameter.qualifiedName),"",y.offset),l(5),d((t=f(10,9,y.parameter.qualifiedName))?9:-1,t),l(2),T(m.alias),l(5),d((r=m.type==null?null:m.type.engType)?16:17,r),l(5),x(f(22,11,y.parameter.dataSource)||"-"),l(5),C(" ",m.shortDescription||"-"," "),l(4),d(m.longDescription?30:31)}}function Nm(e,i){if(e&1&&(a(0,"dt"),o(1,"Host parameter"),n(),a(2,"dd")(3,"a",5),o(4),u(5,"shortName"),n()()),e&2){let t=p(2);l(3),s("routerLink",v(5,$i,t.parameter.qualifiedName))("queryParams",v(7,dt,t.yamcs.context)),l(),C(" ",f(5,3,t.parameter.qualifiedName)," ")}}function Fm(e,i){if(e&1&&(a(0,"dt"),o(1,"Parameter"),n(),a(2,"dd"),o(3),u(4,"shortName"),n()),e&2){let t=p(2);l(3),x(f(4,1,t.parameter.qualifiedName))}}function Lm(e,i){if(e&1&&(a(0,"a",4),o(1),n()),e&2){let t=i,r=p(3);s("queryParams",H(2,Li,r.yamcs.context,t)),l(),C(" ",t," ")}}function $m(e,i){if(e&1&&(a(0,"dt"),o(1,"System"),n(),a(2,"dd"),c(3,Lm,2,5,"a",4),u(4,"spaceSystemName"),n()),e&2){let t,r=p(2);l(3),d((t=f(4,1,r.parameter.qualifiedName))?3:-1,t)}}function Bm(e,i){if(e&1&&(a(0,"dt"),o(1),n(),a(2,"dd"),o(3),n()),e&2){let t=i.$implicit;l(),x(t.namespace),l(2),x(t.name)}}function qm(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),C(" ",i," "))}function Mm(e,i){e&1&&o(0," - ")}function Rm(e,i){e&1&&(o(0),u(1,"units")),e&2&&C(" ",f(1,1,i)," ")}function km(e,i){e&1&&o(0," - ")}function Ym(e,i){if(e&1&&(a(0,"dt"),o(1,"Signed"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),C(" ",(t.parameter.type==null?null:t.parameter.type.signed)??"-"," ")}}function Vm(e,i){if(e&1&&(a(0,"dt"),o(1,"Size in bits"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),C(" ",t.parameter.type==null?null:t.parameter.type.sizeInBits," ")}}function zm(e,i){if(e&1&&(a(0,"dt"),o(1,"Source"),n(),a(2,"dd"),o(3),u(4,"titlecase"),n()),e&2){let t=p(2);l(3),x(f(4,1,t.parameter.dataSource)||"-")}}function Om(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p(2);s("text",t.parameter.longDescription)}}function jm(e,i){e&1&&o(0," - ")}function Hm(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"Algorithm"),n(),a(3,"td")(4,"a",9),o(5),u(6,"spaceSystemName"),u(7,"relativize"),n()(),a(8,"td",8),o(9),n()()),e&2){let t=i.$implicit,r=p(3);l(4),s("routerLink",v(9,Sm,t.qualifiedName))("queryParams",v(11,dt,r.yamcs.context)),l(),C(" ",D(7,6,t.qualifiedName,f(6,4,r.parameter.qualifiedName))," "),l(4),x(t.shortDescription||"-")}}function Um(e,i){if(e&1&&(a(0,"tr")(1,"td"),o(2,"Container"),n(),a(3,"td")(4,"a",9),o(5),u(6,"spaceSystemName"),u(7,"relativize"),n()(),a(8,"td",8),o(9),n()()),e&2){let t=i.$implicit,r=p(3);l(4),s("routerLink",v(9,gm,t.qualifiedName))("queryParams",v(11,dt,r.yamcs.context)),l(),C(" ",D(7,6,t.qualifiedName,f(6,4,r.parameter.qualifiedName))," "),l(4),x(t.shortDescription||"-")}}function Qm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Used by"),n(),a(4,"table",7)(5,"tr")(6,"th"),o(7,"Type"),n(),a(8,"th"),o(9,"Ref"),n(),a(10,"th",8),o(11,"Description"),n()(),E(12,Hm,10,13,"tr",null,g),E(14,Um,10,13,"tr",null,g),n(),a(16,"p"),o(17,"\xA0"),n()),e&2){let t=p();l(12),T(t.usedBy==null?null:t.usedBy.algorithm),l(2),T(t.usedBy==null?null:t.usedBy.container)}}function Gm(e,i){if(e&1&&o(0),e&2){let t=p(2);C(" ",t!=null&&t.littleEndian?"Little endian":"Big endian"," ")}}function Wm(e,i){e&1&&o(0," - ")}function Km(e,i){if(e&1&&(a(0,"dt"),o(1,"Byte order"),n(),a(2,"dd"),c(3,Gm,1,1),c(4,Wm,1,0),n()),e&2){let t=p();l(3),d((t==null?null:t.littleEndian)!==void 0?3:-1),l(),d((t==null?null:t.littleEndian)===void 0?4:-1)}}function Xm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Data encoding"),n(),a(4,"dl",1)(5,"dt"),o(6,"Size in bits"),n(),a(7,"dd"),o(8),u(9,"nvl"),n(),c(10,Km,5,2),a(11,"dt"),o(12,"Encoding"),n(),a(13,"dd"),o(14),n()()),e&2){let t=i;l(8),x(D(9,3,t==null?null:t.sizeInBits,"-")),l(2),d((t==null?null:t.littleEndian)!==void 0?10:-1),l(4),x((t==null?null:t.encoding)||"-")}}function Jm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Calibration"),n(),_(4,"app-parameter-calibration",10),u(5,"spaceSystemName"),a(6,"p"),o(7,"\xA0"),n()),e&2){let t=p(),r=p();l(4),s("ptype",t.type)("relto",f(5,2,r.parameter.qualifiedName))}}function Zm(e,i){if(e&1&&(a(0,"th"),_(1,"app-expression",14),u(2,"spaceSystemName"),n()),e&2){let t=i.$implicit,r=p(4);l(),s("expression",t.context)("relto",f(2,2,r.parameter.qualifiedName))}}function e0(e,i){if(e&1&&(_(0,"app-alarm-level",16),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function t0(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function i0(e,i){if(e&1&&(_(0,"app-alarm-level",16),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function n0(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function a0(e,i){if(e&1&&(a(0,"td"),c(1,i0,2,3)(2,n0,2,0,"span"),n()),e&2){let t,r=i.$implicit,m=p().$implicit,y=p(4);l(),d((t=y.getEnumerationAlarmLevel(r,m.label))?1:2,t)}}function o0(e,i){if(e&1&&(a(0,"tr")(1,"td",15),o(2),n(),a(3,"td",15),o(4),n(),a(5,"td"),o(6),n(),a(7,"td"),c(8,e0,2,3)(9,t0,2,0,"span"),n(),E(10,a0,3,1,"td",null,g),n()),e&2){let t,r=i.$implicit,m=p(3),y=p();l(2),x(r.value),l(2),x(r.label),l(2),x(r.description||"-"),l(2),d((t=y.getDefaultAlarmLevel(m.type,r.label))?8:9,t),l(2),T(m.type.contextAlarm)}}function r0(e,i){if(e&1&&(_(0,"app-alarm-level",16),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function l0(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function m0(e,i){if(e&1&&(_(0,"app-alarm-level",16),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function p0(e,i){e&1&&(a(0,"span"),o(1,"-"),n())}function c0(e,i){if(e&1&&(a(0,"td"),c(1,m0,2,3)(2,p0,2,0,"span"),n()),e&2){let t,r=i.$implicit,m=p().$implicit,y=p(4);l(),d((t=y.getEnumerationAlarmLevel(r,m.label))?1:2,t)}}function d0(e,i){if(e&1&&(a(0,"tr")(1,"td",15),_(2,"ya-interval",17),n(),a(3,"td",15),o(4),n(),a(5,"td"),o(6),n(),a(7,"td"),c(8,r0,2,3)(9,l0,2,0,"span"),n(),E(10,c0,3,1,"td",null,g),n()),e&2){let t,r=i.$implicit,m=p(3),y=p();l(2),s("left",r.min)("right",r.max)("leftInclusive",r.minInclusive)("rightInclusive",r.maxInclusive),l(2),x(r.label),l(2),x(r.description||"-"),l(2),d((t=y.getDefaultAlarmLevel(m.type,r.label))?8:9,t),l(2),T(m.type.contextAlarm)}}function s0(e,i){if(e&1&&(_(0,"app-alarm-level",16),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function _0(e,i){if(e&1&&(_(0,"app-alarm-level",16),o(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),C(" ",t," ")}}function u0(e,i){if(e&1&&(a(0,"td"),c(1,_0,2,3),n()),e&2){let t,r=i.$implicit;l(),d((t=r.alarm.defaultLevel)?1:-1,t)}}function C0(e,i){if(e&1&&(a(0,"table",7)(1,"tr")(2,"th",11),o(3,"Value"),n(),a(4,"th",12),o(5,"Label"),n(),a(6,"th",13),o(7,"Description"),n(),a(8,"th"),o(9,"Alarm level (default)"),n(),E(10,Zm,3,4,"th",null,g),n(),E(12,o0,12,4,"tr",null,g),E(14,d0,12,7,"tr",null,g),a(16,"tr")(17,"td"),o(18,"Other"),n(),a(19,"td"),o(20,"UNDEF"),n(),a(21,"td"),o(22,"-"),n(),a(23,"td"),c(24,s0,2,3),n(),E(25,u0,2,1,"td",null,g),n()()),e&2){let t,r=p(2);l(10),T(r.type==null?null:r.type.contextAlarm),l(2),T(r.type==null?null:r.type.enumValues),l(2),T(r.type==null?null:r.type.enumRanges),l(10),d((t=r.type.defaultAlarm==null?null:r.type.defaultAlarm.defaultLevel)?24:-1,t),l(),T(r.type.contextAlarm)}}function f0(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Enumeration"),n(),c(4,C0,27,1,"table",7),a(5,"p"),o(6,"\xA0"),n()),e&2){let t=p();l(4),d((t.type==null?null:t.type.engType)==="enumeration"?4:-1)}}function x0(e,i){if(e&1&&(_(0,"ya-interval",19),u(1,"nvl"),u(2,"nvl")),e&2){let t=p().$implicit;s("left",D(1,5,t.minInclusive,t.minExclusive))("right",D(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function y0(e,i){e&1&&o(0," - ")}function h0(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",16),o(3),n(),a(4,"td"),c(5,x0,3,11,"ya-interval",19)(6,y0,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),C(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function v0(e,i){if(e&1&&(a(0,"dl",18)(1,"dt"),o(2,"Min. violations"),n(),a(3,"dd"),o(4),n()(),a(5,"table",7)(6,"tr")(7,"th"),o(8,"Alarm level (default)"),n(),a(9,"th"),o(10,"Range"),n()(),E(11,h0,7,4,"tr",null,g),n()),e&2){let t=i;l(4),x(t.minViolations),l(7),T(t.staticAlarmRanges)}}function S0(e,i){e&1&&(a(0,"p"),o(1,"\xA0"),n())}function g0(e,i){if(e&1&&(_(0,"ya-interval",19),u(1,"nvl"),u(2,"nvl")),e&2){let t=p().$implicit;s("left",D(1,5,t.minInclusive,t.minExclusive))("right",D(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function E0(e,i){e&1&&o(0," - ")}function T0(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",16),o(3),n(),a(4,"td"),c(5,g0,3,11,"ya-interval",19)(6,E0,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),C(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function D0(e,i){if(e&1&&(c(0,S0,2,0,"p"),a(1,"h5"),o(2," Context: "),_(3,"app-expression",14),u(4,"spaceSystemName"),n(),a(5,"dl",18)(6,"dt"),o(7,"Min. violations"),n(),a(8,"dd"),o(9),n()(),a(10,"table",7)(11,"tr")(12,"th"),o(13,"Level"),n(),a(14,"th"),o(15,"Range"),n()(),E(16,T0,7,4,"tr",null,g),n()),e&2){let t=i.$implicit,r=i.$index,m=p(4);d(r!==0?0:-1),l(3),s("expression",t.context)("relto",f(4,4,m.parameter.qualifiedName)),l(6),x(t.alarm.minViolations),l(7),T(t.alarm.staticAlarmRanges)}}function P0(e,i){if(e&1&&(c(0,v0,13,1),E(1,D0,18,6,null,null,g)),e&2){let t,r=p(2);d((t=r.type==null?null:r.type.defaultAlarm)?0:-1,t),l(),T(r.type==null?null:r.type.contextAlarm)}}function b0(e,i){e&1&&o(0," None ")}function I0(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Alarm info"),n(),c(4,P0,3,1)(5,b0,1,0),a(6,"p"),o(7,"\xA0"),n()),e&2){let t=p();l(4),d(t.type!=null&&t.type.defaultAlarm||t.type!=null&&t.type.contextAlarm?4:5)}}function w0(e,i){if(e&1&&(a(0,"dt"),o(1,"Epoch"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),x((t.type==null?null:t.type.absoluteTimeInfo).epoch)}}function A0(e,i){if(e&1&&(a(0,"dt"),o(1,"Offset from"),n(),a(2,"dd")(3,"a",5),o(4),n()()),e&2){let t=p(2),r=p();l(3),s("routerLink",v(3,Em,(t.type==null?null:t.type.absoluteTimeInfo).offsetFrom.qualifiedName))("queryParams",v(5,dt,r.yamcs.context)),l(),C(" ",(t.type==null?null:t.type.absoluteTimeInfo).offsetFrom.qualifiedName," ")}}function N0(e,i){if(e&1&&(a(0,"dt"),o(1,"Offset"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),x((t.type==null?null:t.type.absoluteTimeInfo).offset)}}function F0(e,i){if(e&1&&(a(0,"dt"),o(1,"Scale"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),x((t.type==null?null:t.type.absoluteTimeInfo).scale)}}function L0(e,i){if(e&1&&(a(0,"dt"),o(1,"Initial value"),n(),a(2,"dd"),o(3),n()),e&2){let t=p(2);l(3),x((t.type==null?null:t.type.absoluteTimeInfo).initialValue)}}function $0(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Time Info"),n(),a(4,"dl",18),c(5,w0,4,1),c(6,A0,5,7),c(7,N0,4,1),c(8,F0,4,1),c(9,L0,4,1),n()),e&2){let t=p();l(5),d((t.type==null?null:t.type.absoluteTimeInfo).epoch?5:-1),l(),d((t.type==null?null:t.type.absoluteTimeInfo).offsetFrom?6:-1),l(),d((t.type==null?null:t.type.absoluteTimeInfo).offset!==void 0?7:-1),l(),d((t.type==null?null:t.type.absoluteTimeInfo).scale!==void 0?8:-1),l(),d((t.type==null?null:t.type.absoluteTimeInfo).initialValue!==void 0?9:-1)}}function B0(e,i){e&1&&(a(0,"span",2),o(1),n()),e&2&&(l(),C(" ",i," "))}function q0(e,i){e&1&&o(0," - ")}function M0(e,i){if(e&1&&(a(0,"td")(1,"a",9),o(2),n()(),a(3,"td"),c(4,B0,2,1,"span",2),u(5,"entryForOffset"),me(6,q0,1,0),n(),a(7,"td"),o(8),u(9,"entryForOffset"),n()),e&2){let t,r,m=i,y=p().$implicit,L=p(3);l(),s("routerLink",v(11,$i,L.parameter.qualifiedName+m))("queryParams",v(13,dt,L.yamcs.context)),l(),C(" ",y.name," "),l(2),d((t=(t=D(5,5,L.parameter,m))==null||t.type==null?null:t.type.engType)?4:6,t),l(4),x(((r=D(9,8,L.parameter,m))==null?null:r.shortDescription)||"-")}}function R0(e,i){if(e&1&&(a(0,"tr"),c(1,M0,10,15),n()),e&2){let t,r=i.$implicit,m=p(3);l(),d((t=(m.offset||"")+"."+r.name)?1:-1,t)}}function k0(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),o(3,"Members"),n(),a(4,"table",7)(5,"tr")(6,"th"),o(7,"Member"),n(),a(8,"th"),o(9,"Type"),n(),a(10,"th"),o(11,"Description"),n()(),E(12,R0,2,1,"tr",null,g),n()),e&2){let t=p();l(12),T(t.type==null?null:t.type.member)}}function Y0(e,i){if(e&1&&(c(0,Am,32,13,"dl",0),a(1,"dl",1),c(2,Nm,6,9),c(3,Fm,5,3),c(4,$m,5,3),E(5,Bm,4,2,null,null,g),a(7,"dt"),o(8,"Type"),n(),a(9,"dd"),c(10,qm,2,1,"span",2)(11,Mm,1,0),n(),a(12,"dt"),o(13,"Units"),n(),a(14,"dd"),c(15,Rm,2,3)(16,km,1,0),n(),c(17,Ym,4,1),c(18,Vm,4,1),c(19,zm,5,3),a(20,"dt"),o(21,"Short description"),n(),a(22,"dd"),o(23),n(),a(24,"dt"),o(25,"Long description"),n(),a(26,"dd"),c(27,Om,1,1,"app-markdown",3)(28,jm,1,0),n()(),c(29,Qm,18,0),c(30,Xm,15,6),c(31,Jm,8,4),c(32,f0,7,1),c(33,I0,8,1),c(34,$0,10,5),c(35,k0,14,0)),e&2){let t,r,m,y=i,L=p();d(L.offset?0:-1),l(),te("no-lead",!L.offset),l(),d(L.offset?2:-1),l(),d(L.offset?-1:3),l(),d(L.offset?-1:4),l(),T(L.parameter.alias),l(5),d((t=L.parameter.type==null?null:L.parameter.type.engType)?10:11,t),l(5),d((r=L.parameter.type==null?null:L.parameter.type.unitSet)?15:16,r),l(2),d((L.parameter.type==null?null:L.parameter.type.signed)!==void 0?17:-1),l(),d((L.parameter.type==null?null:L.parameter.type.sizeInBits)!==void 0?18:-1),l(),d(L.offset?-1:19),l(4),C(" ",L.parameter.shortDescription||"-"," "),l(4),d(L.parameter.longDescription?27:28),l(2),d(y.usedBy!=null&&y.usedBy.algorithm||y.usedBy!=null&&y.usedBy.container?29:-1),l(),d((m=y.type==null?null:y.type.dataEncoding)?30:-1,m),l(),d((y.type==null?null:y.type.engType)==="integer"||(y.type==null?null:y.type.engType)==="float"?31:-1),l(),d((y.type==null?null:y.type.engType)==="enumeration"?32:-1),l(),d((y.type==null?null:y.type.engType)==="integer"||(y.type==null?null:y.type.engType)==="float"?33:-1),l(),d((y.type==null?null:y.type.engType)==="time"?34:-1),l(),d((y.type==null?null:y.type.engType)==="aggregate"?35:-1)}}var rt=class rt{constructor(i){this.yamcs=i;this.entry$=new P(null)}ngOnChanges(){if(this.parameter)if(this.offset){let i=yi.getEntryForOffset(this.parameter,this.offset);this.entry$.next(i)}else this.entry$.next(this.parameter);else this.entry$.next(null)}getDefaultAlarmLevel(i,t){if(i&&i.defaultAlarm){let r=i.defaultAlarm;if(r.enumerationAlarms){for(let m of r.enumerationAlarms)if(m.label===t)return m.level}return r.defaultLevel}}getEnumerationAlarmLevel(i,t){let r=i.alarm;for(let m of r.enumerationAlarms)if(m.label===t)return m.level;return r.defaultLevel}};rt.\u0275fac=function(t){return new(t||rt)(h(N))},rt.\u0275cmp=w({type:rt,selectors:[["app-parameter-detail"]],inputs:{parameter:"parameter",offset:"offset"},features:[ni],decls:2,vars:3,consts:[[1,"dl-horizontal","no-lead","no-trail"],[1,"dl-horizontal","no-trail"],[1,"mono"],[3,"text"],["routerLink","/mdb/parameters",1,"ya-link",3,"queryParams"],[1,"ya-link",3,"routerLink","queryParams"],[1,"section-divider"],["yaDataTable",""],[1,"wrap200"],[3,"routerLink","queryParams"],[3,"ptype","relto"],[2,"width","50px"],[2,"width","100px"],[2,"width","300px"],[3,"expression","relto"],[2,"white-space","nowrap"],[3,"level","grayscale"],[3,"left","right","leftInclusive","rightInclusive"],[1,"dl-horizontal"],[3,"left","right","leftInclusive","rightInclusive","outside"]],template:function(t,r){if(t&1&&(c(0,Y0,36,20),u(1,"async")),t&2){let m;d((m=f(1,1,r.entry$))?0:-1,m)}},dependencies:[Ct,le,Fe,it,A,F,ee,ue,ke,$,st,Si,Ve,re,G,V,qe],styles:["[_nghost-%COMP%]{font:400 12px/20px Roboto,sans-serif}.dl-horizontal[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{text-align:left}"],changeDetection:0});var Ot=rt;var V0=(e,i)=>({c:e,filter:i});function z0(e,i){if(e&1&&(a(0,"a",2),o(1),n(),o(2),u(3,"shortName"),u(4,"async"),_(5,"ya-title-copy",3),u(6,"async")),e&2){let t=i,r=p(2),m=p();s("queryParams",H(11,V0,m.yamcs.context,t)),l(),C(" ",t," "),l(),Me(" /",f(3,5,r.qualifiedName),"",f(4,7,m.offset$)," "),l(3),s("text",r.qualifiedName+(f(6,9,m.offset$)||""))}}function O0(e,i){if(e&1&&(c(0,z0,7,14),u(1,"spaceSystemName")),e&2){let t,r=p();d((t=f(1,1,r.qualifiedName))?0:-1,t)}}function j0(e,i){if(e&1&&(a(0,"ya-instance-page")(1,"ya-instance-toolbar"),S(2,O0,2,3,"ng-template",0),n(),a(3,"ya-panel"),_(4,"app-parameter-detail",1),u(5,"async"),n()()),e&2){let t=p();l(4),s("parameter",i)("offset",f(5,2,t.offset$))}}var lt=class lt{constructor(i,t,r){this.yamcs=t;this.title=r;this.parameter$=new P(null);this.offset$=new P(null);i.paramMap.subscribe(m=>{let y=m.get("qualifiedName");this.changeParameter(y)})}changeParameter(i){this.yamcs.yamcsClient.getParameter(this.yamcs.instance,i).then(t=>{this.parameter$.next(t);let r;i!==t.qualifiedName?r=i.substring(t.qualifiedName.length):r=null,this.offset$.next(r),this.title.setTitle(t.name+(r||""))})}};lt.\u0275fac=function(t){return new(t||lt)(h(U),h(N),h(M))},lt.\u0275cmp=w({type:lt,selectors:[["ng-component"]],decls:2,vars:3,consts:[["ya-instance-toolbar-label",""],[3,"parameter","offset"],["routerLink","/mdb/parameters",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,r){if(t&1&&(c(0,j0,6,4,"ya-instance-page"),u(1,"async")),t&2){let m;d((m=f(1,1,r.parameter$))?0:-1,m)}},dependencies:[Ot,A,F,R,k,we,Y,Ne,$,G,V],styles:[".tab-content-wrapper[_ngcontent-%COMP%]{position:absolute;inset:49px 0 0;overflow:auto}.tab-content-wrapper.noscroll[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0});var jt=lt;var xs=[{path:"",canActivate:[Wt,Gt,Jt],canActivateChild:[Kt,Jt],component:Pi,children:[{path:"",pathMatch:"full",component:Bt},{path:"algorithms",pathMatch:"full",component:xt},{path:"algorithms/:qualifiedName",component:Dt},{path:"commands",pathMatch:"full",component:bt},{path:"commands/:qualifiedName",component:At},{path:"containers",pathMatch:"full",component:Ft},{path:"containers/:qualifiedName",component:$t},{path:"parameters",pathMatch:"full",component:zt},{path:"parameters/:qualifiedName",component:jt},{path:"parameter-types",pathMatch:"full",component:Mt},{path:"parameter-types/:qualifiedName",component:Yt},{path:"ext",canActivate:[Wt,Gt],canActivateChild:[Kt],runGuardsAndResolvers:"always",children:[{matcher:Di,component:Ti}]}]}];export{xs as ROUTES};
