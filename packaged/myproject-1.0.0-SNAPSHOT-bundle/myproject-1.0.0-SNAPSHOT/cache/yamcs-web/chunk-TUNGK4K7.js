import{d as po}from"./chunk-6X2UVTWO.js";import{a as kn,b as oo,c as ao,d as so,e as lo,f as mo}from"./chunk-LWQLZ5XB.js";import{Aa as _e,Ac as dn,Ad as nr,Bc as he,Bf as Cn,Ca as de,Cc as ge,Cd as ir,Dc as se,Dd as gn,Ea as f,Ec as Ve,Ed as Qe,F as Ce,Fa as Vi,Fc as ie,Fd as rr,Fg as to,Fh as Q,G as Se,Ga as Yn,Gd as lt,Hd as Rn,Hg as bt,Ia as Ii,Id as or,If as L,Ja as $i,Jd as St,Je as Dr,Jf as Sn,K as sn,Ka as Ni,Kc as Li,Ke as Mr,Kf as xt,L as ln,La as Xe,Lf as Ur,Lg as no,M as mn,Ma as cn,Md as ar,Me as Xr,Mg as io,N as we,Na as ee,Nc as Gn,Nd as sr,Ne as Fr,Oa as ot,Od as lr,Pa as X,Pd as mt,Pe as Yr,Qd as mr,Ra as u,Rc as yt,Rd as pr,Rf as xn,S as pn,Sa as $,Sd as cr,Se as yn,Ta as V,Tc as ve,Td as dr,Uc as Ri,Ud as ur,V as m,Vd as fr,Wc as Bi,Wd as hr,Xa as q,Xc as qi,Xd as gr,Y as F,Ye as Gr,Zd as Or,Zf as re,Zg as ro,_ as w,_d as yr,a as Ee,ag as Hr,bb as A,bf as Lr,bg as z,cb as E,cg as Zr,da as rt,db as gt,de as Cr,df as Rr,dh as vn,ed as Ie,ee as Sr,eg as Kr,f as te,fd as zi,fe as xr,gd as un,ge as br,gg as Y,hd as Ct,he as vr,hf as Br,hg as Jr,ib as Di,id as at,jb as Fe,jc as Xi,jd as fn,je as kr,jf as qr,jg as eo,ka as x,kb as Mi,kd as ji,ke as Pe,kf as zr,la as Ei,ld as Wi,le as _r,ma as b,mc as ne,md as Ui,me as On,mf as jr,mg as bn,na as xe,nd as Hi,ne as wr,oa as le,oc as ue,od as Ye,oe as Qr,pa as me,pc as fe,pd as Ut,pe as Pr,q as Ai,qa as d,qc as U,qd as Ln,qe as Tr,qg as Ae,ra as p,rc as Ot,rd as Zi,re as Ar,sa as c,sb as W,sc as N,sd as Ge,se as Er,ta as O,tc as H,td as Ki,te as Vr,uc as be,ud as Ji,vc as Fi,vd as hn,ve as Ir,wc as ae,wd as er,wf as Te,wh as Le,xa as pe,xc as Z,xd as st,xf as Wr,xg as K,y as G,ya as ce,yc as Yi,yd as C,ye as $r,zc as Gi,zd as tr,ze as Nr}from"./chunk-OXOWQRWE.js";function ns(n,t){if(n&1&&(p(0,"mat-icon",1),u(1," schedule "),c()),n&2){let e=f(2);d("matTooltip",e.ack.name+": Scheduled")}}function is(n,t){if(n&1&&(p(0,"mat-icon",2),u(1,"check_circle_outline"),c()),n&2){let e=f(2);d("matTooltip",e.ack.name+": OK")}}function rs(n,t){if(n&1&&(p(0,"mat-icon",3),u(1,"lens"),c()),n&2){let e=f(2);d("matTooltip",e.ack.name+": PENDING")}}function os(n,t){if(n&1&&(p(0,"mat-icon",4),u(1,"block"),c()),n&2){let e=f(2);d("matTooltip",e.ack.name+": CANCELLED")}}function as(n,t){if(n&1&&(p(0,"mat-icon",5),u(1,"block"),c()),n&2){let e=f(2);d("matTooltip",e.ack.name+": DISABLED")}}function ss(n,t){if(n&1&&(p(0,"mat-icon",6),u(1," highlight_off "),c()),n&2){let e=f(2);d("matTooltip",e.ack.name+": TIMEOUT")}}function ls(n,t){if(n&1&&(p(0,"mat-icon",7),u(1," highlight_off "),c()),n&2){let e=f(2);d("matTooltip",e.ack.name+": "+e.ack.status+" ("+e.ack.message+")")}}function ms(n,t){if(n&1&&x(0,ns,2,1,"mat-icon",1)(1,is,2,1,"mat-icon",2)(2,rs,2,1,"mat-icon",3)(3,os,2,1,"mat-icon",4)(4,as,2,1,"mat-icon",5)(5,ss,2,1,"mat-icon",6)(6,ls,2,1,"mat-icon",7),n&2){let e,i=f();b((e=i.ack.status)==="SCHEDULED"?0:e==="OK"?1:e==="PENDING"?2:e==="CANCELLED"?3:e==="DISABLED"?4:e==="TIMEOUT"?5:6)}}function ps(n,t){n&1&&(p(0,"mat-icon",0),u(1,"lens"),c()),n&2&&d("matTooltip","Unknown")}var vt=class vt{};vt.\u0275fac=function(e){return new(e||vt)},vt.\u0275cmp=w({type:vt,selectors:[["app-acknowledgment-icon"]],inputs:{ack:"ack"},decls:2,vars:1,consts:[[1,"icon16","no-ack",3,"matTooltip"],[1,"icon16","scheduled",3,"matTooltip"],[1,"icon16","ok",3,"matTooltip"],[1,"icon16","pending",3,"matTooltip"],[1,"icon16","cancelled",3,"matTooltip"],[1,"icon16","disabled",3,"matTooltip"],[1,"icon16","timeout",3,"matTooltip"],[1,"icon16","failed",3,"matTooltip"]],template:function(e,i){e&1&&x(0,ms,7,1)(1,ps,2,1,"mat-icon",0),e&2&&b(i.ack?0:1)},dependencies:[Q,yt,ve],styles:["[_nghost-%COMP%]{line-height:0;font-size:0}.scheduled[_ngcontent-%COMP%]{color:#d3d3d3}.ok[_ngcontent-%COMP%]{color:#00c752}.pending[_ngcontent-%COMP%], .cancelled[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]{color:#d3d3d3}.timeout[_ngcontent-%COMP%], .failed[_ngcontent-%COMP%]{color:var(--y-error-color)}.no-ack[_ngcontent-%COMP%]{color:#d3d3d3}"],changeDetection:0});var kt=vt;var cs=(n,t)=>t.name;function ds(n,t){if(n&1&&(p(0,"td",0)(1,"div",4),O(2,"app-acknowledgment-icon",5),c()()),n&2){let e=f().$implicit;m(2),d("ack",e)}}function us(n,t){n&1&&(p(0,"span"),u(1,"-"),c())}function fs(n,t){n&1&&(p(0,"span"),u(1,"-"),c())}function hs(n,t){if(n&1&&(p(0,"span",3),A(1,"datetime"),u(2),A(3,"deltaWith"),c()),n&2){let e=f().$implicit,i=f();d("matTooltip",E(1,2,e.time)),m(2),V(" ",gt(3,4,e.time,i.command.generationTime)," ")}}function gs(n,t){if(n&1&&(p(0,"tr"),x(1,ds,3,1,"td",0),p(2,"td",1),u(3),c(),p(4,"td",2),u(5),c(),p(6,"td"),x(7,us,2,0,"span")(8,fs,2,0,"span")(9,hs,4,7,"span",3),c()()),n&2){let e,i=t.$implicit,r=f();m(),b(r.showIcons?1:-1),m(2),$(i.name==null?null:i.name.replace("Acknowledge_","")),m(2),$(i.status),m(2),b((e=i.status)==="SCHEDULED"?7:e==="PENDING"?8:9)}}var _t=class _t{constructor(){this.inline=!1;this.showIcons=!0}};_t.\u0275fac=function(e){return new(e||_t)},_t.\u0275cmp=w({type:_t,selectors:[["app-extra-acknowledgments-table"]],inputs:{command:"command",inline:"inline",showIcons:"showIcons"},decls:3,vars:0,consts:[[2,"width","16px"],[2,"width","150px"],[2,"width","70px"],[3,"matTooltip"],[2,"display","flex","align-items","center"],[3,"ack"]],template:function(e,i){e&1&&(p(0,"table"),le(1,gs,10,4,"tr",null,cs),c()),e&2&&(m(),me(i.command.extraAcks))},dependencies:[kt,Q,ve,bn,vn],styles:["table[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child){padding-left:10px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;line-height:16px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#000000a7}"],changeDetection:0});var uo=_t;function Os(n,t){n&1&&(p(0,"mat-icon",0),u(1," cached "),c())}function ys(n,t){n&1&&(p(0,"mat-icon",1),u(1,"lens"),c())}var wt=class wt{};wt.\u0275fac=function(e){return new(e||wt)},wt.\u0275cmp=w({type:wt,selectors:[["app-transmission-constraints-icon"]],inputs:{command:"command"},decls:2,vars:1,consts:[["matTooltip","Checking transmission constraints",1,"pending","icon16","spin"],[1,"not-pending","icon16"]],template:function(e,i){if(e&1&&x(0,Os,2,0,"mat-icon",0)(1,ys,2,0,"mat-icon",1),e&2){let r;b((r=i.command.transmissionConstraints==null?null:i.command.transmissionConstraints.status)==="PENDING"?0:1)}},dependencies:[Q,yt,ve],styles:["[_nghost-%COMP%]{line-height:0;font-size:0}.pending[_ngcontent-%COMP%]{color:#d3d3d3;animation:_ngcontent-%COMP%_yspin 2s infinite linear}.not-pending[_ngcontent-%COMP%]{color:#d3d3d3}@keyframes _ngcontent-%COMP%_yspin{0%{-webkit-transform:rotate(0deg) scaleX(-1);transform:rotate(0) scaleX(-1)}to{-webkit-transform:rotate(359deg) scaleX(-1);transform:rotate(359deg) scaleX(-1)}}"],changeDetection:0});var _n=wt;function Cs(n,t){if(n&1&&(p(0,"td",0)(1,"div",4),O(2,"app-acknowledgment-icon",5),c()()),n&2){let e=f(2);m(2),d("ack",e.command.queued)}}function Ss(n,t){if(n&1&&O(0,"app-transmission-constraints-icon",6),n&2){let e=f(3);d("command",e.command)}}function xs(n,t){if(n&1&&O(0,"app-acknowledgment-icon",5),n&2){let e=f(3);d("ack",e.command.released)}}function bs(n,t){if(n&1&&(p(0,"td")(1,"div",4),x(2,Ss,1,1,"app-transmission-constraints-icon",6),x(3,xs,1,1,"app-acknowledgment-icon",5),c()()),n&2){let e=f(2);m(2),b(e.command.released?-1:2),m(),b(e.command.released?3:-1)}}function vs(n,t){if(n&1&&(p(0,"td")(1,"div",4),O(2,"app-acknowledgment-icon",5),c()()),n&2){let e=f(2);m(2),d("ack",e.command.sent)}}function ks(n,t){if(n&1&&(p(0,"table")(1,"tr"),x(2,Cs,3,1,"td",0),p(3,"td",1),u(4,"Queued"),c(),p(5,"td",2),u(6),c(),p(7,"td")(8,"span",3),A(9,"datetime"),u(10),A(11,"deltaWith"),c()()(),p(12,"tr"),x(13,bs,4,2,"td"),p(14,"td"),u(15,"Released"),c(),p(16,"td"),u(17),c(),p(18,"td")(19,"span",3),A(20,"datetime"),u(21),A(22,"deltaWith"),c()()(),p(23,"tr"),x(24,vs,3,1,"td"),p(25,"td"),u(26,"Sent"),c(),p(27,"td"),u(28),c(),p(29,"td")(30,"span",3),A(31,"datetime"),u(32),A(33,"deltaWith"),c()()()()),n&2){let e=f();m(2),b(e.showIcons?2:-1),m(4),$((e.command.queued==null?null:e.command.queued.status)||"-"),m(2),d("matTooltip",E(9,12,e.command.queued==null?null:e.command.queued.time)),m(2),V(" ",gt(11,14,e.command.queued==null?null:e.command.queued.time,e.command.generationTime)||"-"," "),m(3),b(e.showIcons?13:-1),m(4),V(" ",(e.command.released==null?null:e.command.released.status)||(e.command.transmissionConstraints==null?null:e.command.transmissionConstraints.status)||"-"," "),m(2),d("matTooltip",E(20,17,e.command.released==null?null:e.command.released.time)),m(2),V(" ",gt(22,19,e.command.released==null?null:e.command.released.time,e.command.generationTime)||"-"," "),m(3),b(e.showIcons?24:-1),m(4),$((e.command.sent==null?null:e.command.sent.status)||"-"),m(2),d("matTooltip",E(31,22,e.command.sent==null?null:e.command.sent.time)),m(2),V(" ",gt(33,24,e.command.sent==null?null:e.command.sent.time,e.command.generationTime)||"-"," ")}}var Qt=class Qt{constructor(){this.inline=!1;this.showIcons=!0}};Qt.\u0275fac=function(e){return new(e||Qt)},Qt.\u0275cmp=w({type:Qt,selectors:[["app-yamcs-acknowledgments-table"]],inputs:{command:"command",inline:"inline",showIcons:"showIcons"},decls:1,vars:1,consts:[[2,"width","16px"],[2,"width","150px"],[2,"width","70px"],[3,"matTooltip"],[2,"display","flex","align-items","center"],[3,"ack"],[3,"command"]],template:function(e,i){e&1&&x(0,ks,34,27,"table"),e&2&&b(i.command?0:-1)},dependencies:[kt,Q,ve,_n,bn,vn],styles:["table[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child){padding-left:10px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;line-height:16px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#000000a7}"],changeDetection:0});var fo=Qt;function _s(n,t){if(n&1&&(p(0,"tr")(1,"th"),u(2),c(),p(3,"td"),u(4),c()()),n&2){let e=t.$implicit;m(2),$(e.name),m(2),$(e.description||"-")}}function ws(n,t){if(n&1&&(p(0,"p"),u(1,"\xA0"),c(),p(2,"p"),u(3,"Verifiers:"),c(),p(4,"table",1),le(5,_s,5,2,"tr",null,xe),c()),n&2){let e=f();m(5),me(e.verifiers)}}function Qs(n,t){if(n&1&&(p(0,"tr")(1,"th"),u(2),c(),p(3,"td"),u(4),c()()),n&2){let e=t.$implicit;m(2),$(e.name.replace("Acknowledge_","")),m(2),$(e.description||"-")}}function Ps(n,t){if(n&1&&(p(0,"p"),u(1,"\xA0"),c(),p(2,"p"),u(3,"Extra acknowledgments:"),c(),p(4,"table",1),le(5,Qs,5,2,"tr",null,xe),c()),n&2){let e=f();m(5),me(e.extra)}}var Pt=class Pt{constructor(){this.verifiers=[];this.extra=[]}};Pt.\u0275fac=function(e){return new(e||Pt)},Pt.\u0275cmp=w({type:Pt,selectors:[["app-advance-ack-help"]],inputs:{verifiers:"verifiers",extra:"extra"},decls:29,vars:2,consts:[["dialogTitle","Await acknowledgement success","dialogWidth","800px"],["yaDataTable","",2,"width","100%"],["width","1"]],template:function(e,i){e&1&&(p(0,"ya-help",0)(1,"p"),u(2," Configure the acknowledgment which is required to be successful before advancing to the next command in the stack. "),c(),p(3,"table",1)(4,"tr")(5,"th",2),u(6,"Queued"),c(),p(7,"td"),u(8,"The command was accepted into a Yamcs queue."),c()(),p(9,"tr")(10,"th"),u(11,"Released"),c(),p(12,"td"),u(13,"The command was released from its assigned Yamcs queue."),c()(),p(14,"tr")(15,"th"),u(16,"Sent"),c(),p(17,"td"),u(18,"The command went through a Yamcs link."),c()(),p(19,"tr")(20,"th"),u(21,"Completed"),c(),p(22,"td")(23,"p"),u(24,"The command completed successfully."),c(),p(25,"p"),u(26," This requires the configuration of a success verifier in the Mission Database specification. "),c()()()(),x(27,ws,7,0),x(28,Ps,7,0),c()),e&2&&(m(27),b(i.verifiers.length?27:-1),m(),b(i.extra.length?28:-1))},dependencies:[Q,ro,Y],encapsulation:2,changeDetection:0});var wn=Pt;function Ts(n,t){if(n&1&&(p(0,"ya-meta"),u(1," bytes: "),O(2,"ya-interval",4),c()),n&2){let e=f();m(2),d("left",e.type.minBytes)("right",e.type.maxBytes)("singleValueIfEqual",!0)}}function As(n,t){if(n&1&&(p(0,"ya-help"),u(1),c()),n&2){let e=f();m(),V(" ",e.description," ")}}var Re=class Re{constructor(){this.formControl=new Z;this.validators=[];this.onChange=t=>{};this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let t=this.formControl.value;this.onChange(t)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.type.minBytes!==void 0&&this.type.minBytes!==0&&this.validators.push(U.required),this.validators.push(Te.requireHex),this.type.minBytes!==void 0&&this.validators.push(Te.minHexLengthValidator(this.type.minBytes)),this.type.maxBytes!==void 0&&this.validators.push(Te.maxHexLengthValidator(this.type.maxBytes))}get label(){return this.index!==void 0?L.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(t){this.formControl.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){}validate(t){for(let e of this.validators){let i=e(t);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}};Re.\u0275fac=function(e){return new(e||Re)},Re.\u0275cmp=w({type:Re,selectors:[["app-binary-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:G(()=>Re),multi:!0},{provide:fe,useExisting:G(()=>Re),multi:!0}])],decls:9,vars:10,consts:[["err",""],[3,"label"],[3,"controlName"],[3,"formControl"],[3,"left","right","singleValueIfEqual"]],template:function(e,i){if(e&1&&(p(0,"ya-field",1),A(1,"async"),x(2,Ts,3,3,"ya-meta"),p(3,"ya-meta"),u(4),c(),x(5,As,2,1,"ya-help"),O(6,"ya-errors",2,0)(8,"ya-binary-input",3),c()),e&2){let r=ee(7);X("error",E(1,8,r.invalid$)),d("label",i.label),m(2),b(i.type.minBytes!==void 0||i.type.maxBytes!==void 0?2:-1),m(2),$(i.type.engType),m(),b(i.description?5:-1),m(),d("controlName",i.controlName),m(2),d("formControl",i.formControl)}},dependencies:[Q,N,he,Wr,re,z,Y,Ae,K,W],styles:[".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}"],changeDetection:0});var Be=Re;function Es(n,t){if(n&1&&(p(0,"ya-meta"),O(1,"ya-interval",7),c()),n&2){let e=f();m(),d("left",e.type.rangeMin)("right",e.type.rangeMax)}}function Vs(n,t){if(n&1&&(p(0,"ya-meta"),u(1),A(2,"units"),c()),n&2){let e=f();m(),V(" ",E(2,1,e.type.unitSet)," ")}}function Is(n,t){n&1&&(p(0,"ya-meta"),u(1,"unsigned"),c())}function $s(n,t){if(n&1&&(p(0,"ya-help"),u(1),c()),n&2){let e=f();m(),V(" ",e.description," ")}}var qe=class qe{constructor(){this.validators=[];this.onChange=t=>{};this.subscriptions=[];this.formGroup=new be({enabled:new ae(null)})}ngOnInit(){this.subscriptions.push(this.formGroup.valueChanges.subscribe(()=>{let t=this.formGroup.get("enabled").value;this.onChange(t)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.validators.push(U.required)}get label(){return this.index!==void 0?L.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(t){t==="true"?this.formGroup.setValue({enabled:"true"}):t==="false"&&this.formGroup.setValue({enabled:"false"})}registerOnChange(t){this.onChange=t}registerOnTouched(t){}validate(t){for(let e of this.validators){let i=e(t);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}};qe.\u0275fac=function(e){return new(e||qe)},qe.\u0275cmp=w({type:qe,selectors:[["app-boolean-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:G(()=>qe),multi:!0},{provide:fe,useExisting:G(()=>qe),multi:!0}])],decls:17,vars:18,consts:[["err",""],[3,"label"],[3,"controlName"],[1,"radio-group",3,"formGroup"],[1,"radio"],["type","radio","formControlName","enabled","value","true"],["type","radio","formControlName","enabled","value","false"],[3,"left","right"]],template:function(e,i){if(e&1&&(p(0,"ya-field",1),A(1,"async"),x(2,Es,2,2,"ya-meta"),x(3,Vs,3,3,"ya-meta"),x(4,Is,2,0,"ya-meta"),p(5,"ya-meta"),u(6),c(),x(7,$s,2,1,"ya-help"),O(8,"ya-errors",2,0),p(10,"div",3)(11,"label",4),O(12,"input",5),u(13),c(),p(14,"label",4),O(15,"input",6),u(16),c()()()),e&2){let r=ee(9);X("error",E(1,16,r.invalid$)),d("label",i.label),m(2),b(i.type.rangeMin!==void 0||i.type.rangeMax!==void 0?2:-1),m(),b(i.type.unitSet?3:-1),m(),b(i.type.signed===!1?4:-1),m(2),$(i.type.engType),m(),b(i.description?7:-1),m(),d("controlName",i.controlName),m(2),d("formGroup",i.formGroup),m(),X("checked",i.formGroup.controls.enabled.value==="true"),m(2),V(" ",i.type.oneStringValue," "),m(),X("checked",i.formGroup.controls.enabled.value==="false"),m(2),V(" ",i.type.zeroStringValue," ")}},dependencies:[Q,ue,dn,N,H,ge,ie,re,z,Y,Ae,K,W,Le],styles:[".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}"],changeDetection:0});var ze=qe;function Ds(n,t){n&1&&(p(0,"th",16),u(1,"Value"),c())}function Ms(n,t){if(n&1&&(p(0,"td",17),u(1),c()),n&2){let e=t.$implicit;m(),V(" ",e.value," ")}}function Xs(n,t){n&1&&(p(0,"th",16),u(1,"Label"),c())}function Fs(n,t){if(n&1&&(p(0,"td",17)(1,"strong"),u(2),c()()),n&2){let e=t.$implicit;m(2),$(e.label)}}function Ys(n,t){n&1&&(p(0,"th",16),u(1,"Hex value"),c())}function Gs(n,t){if(n&1&&(p(0,"td",17),u(1),c()),n&2){let e=t.$implicit,i=f();m(),V(" ",i.toHex(e.value)," ")}}function Ls(n,t){n&1&&O(0,"tr",18)}function Rs(n,t){if(n&1){let e=_e();p(0,"tr",19),de("click",function(){let r=Ce(e).$implicit,o=f();return Se(o.selection.toggle(r))}),c()}if(n&2){let e=t.$implicit,i=f();X("selected",i.selection.isSelected(e))}}var Tt=class Tt{constructor(t,e){this.dialogRef=t;this.data=e;this.filterControl=new Z;this.dataSource=new zr([]);this.selection=new Ir;this.displayedColumns=["name","value"];let i=e.type,r=i.dataEncoding?.encoding==="UNSIGNED";this.dataSource.filterPredicate=(o,a)=>{let{label:s,value:l}=o;return s.toLowerCase().indexOf(a)>=0||String(l).indexOf(a)>=0||r&&Number(l).toString(16).indexOf(a)>=0},this.dataSource.data=i.enumValue||[],r&&this.displayedColumns.push("hex")}ngAfterViewInit(){this.filterControl.valueChanges.subscribe(()=>{let t=this.filterControl.value||"";this.dataSource.filter=t.toLowerCase()}),this.dataSource.paginator=this.paginator}selectNext(){let t=this.dataSource.filteredData,e=0;if(this.selection.hasValue()){let i=this.selection.selected[0];t.indexOf(i)!==-1&&(e=Math.min(t.indexOf(i)+1,t.length-1))}this.selection.select(t[e])}selectPrevious(){let t=this.dataSource.filteredData,e=0;if(this.selection.hasValue()){let i=this.selection.selected[0];t.indexOf(i)!==-1&&(e=Math.max(t.indexOf(i)-1,0))}this.selection.select(t[e])}toHex(t){return Number(t).toString(16)}applySelection(){let t=this.selection.selected;t.length&&this.dialogRef.close(t[0])}};Tt.\u0275fac=function(e){return new(e||Tt)(F(wr),F(Qr))},Tt.\u0275cmp=w({type:Tt,selectors:[["app-select-enumeration-dialog"]],viewQuery:function(e,i){if(e&1&&Ii(yn,7),e&2){let r;$i(r=Ni())&&(i.paginator=r.first)}},decls:25,vars:8,consts:[["mat-dialog-title",""],["width","100%",2,"flex","1 1 auto",3,"onArrowDown","onArrowUp","onEnter","formControl"],[1,"scrollpane"],["mat-table","",1,"ya-data-table",2,"width","100%",3,"dataSource"],["cdkColumnDef","value"],["mat-header-cell","",4,"cdkHeaderCellDef"],["mat-cell","",4,"cdkCellDef"],["cdkColumnDef","name"],["cdkColumnDef","hex"],["mat-header-row","",4,"cdkHeaderRowDef"],["mat-row","",3,"selected","click",4,"cdkRowDef","cdkRowDefColumns"],["align","end"],[3,"pageSize","hidePageSize","showFirstLastButtons"],[2,"flex","1 1 auto"],["mat-dialog-close",""],["appearance","primary",3,"click","disabled"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,i){e&1&&(p(0,"h2",0),u(1,"Select enumeration state"),c(),p(2,"mat-dialog-content")(3,"ya-filter-bar")(4,"ya-search-filter",1),de("onArrowDown",function(){return i.selectNext()})("onArrowUp",function(){return i.selectPrevious()})("onEnter",function(){return i.applySelection()}),c()(),p(5,"div",2)(6,"table",3),pe(7,4),rt(8,Ds,2,0,"th",5)(9,Ms,2,1,"td",6),ce(),pe(10,7),rt(11,Xs,2,0,"th",5)(12,Fs,3,1,"td",6),ce(),pe(13,8),rt(14,Ys,2,0,"th",5)(15,Gs,2,1,"td",6),ce(),rt(16,Ls,1,0,"tr",9)(17,Rs,1,2,"tr",10),c()()(),p(18,"mat-dialog-actions",11),O(19,"mat-paginator",12)(20,"div",13),p(21,"ya-button",14),u(22,"CANCEL"),c(),p(23,"ya-button",15),de("click",function(){return i.applySelection()}),u(24," SELECT "),c()()),e&2&&(m(4),d("formControl",i.filterControl),m(2),d("dataSource",i.dataSource),m(10),d("cdkHeaderRowDef",i.displayedColumns),m(),d("cdkRowDefColumns",i.displayedColumns),m(2),d("pageSize",100)("hidePageSize",!0)("showFirstLastButtons",!0),m(4),d("disabled",i.selection.isEmpty()))},dependencies:[Q,N,he,Yr,Dr,Mr,Xr,Fr,Tr,Ar,Vr,Er,yn,Gr,Lr,Rr,Br,qr,Cn,Zr,to],styles:["td[_ngcontent-%COMP%]{cursor:pointer}.scrollpane[_ngcontent-%COMP%]{overflow:auto;height:200px}"],changeDetection:0});var Qn=Tt;function Bs(n,t){if(n&1&&(p(0,"ya-help"),u(1),c()),n&2){let e=f();m(),V(" ",e.description," ")}}var je=class je{constructor(t){this.dialog=t;this.formControl=new Z;this.selectOptions$=new te([]);this.validators=[];this.onChange=t=>{};this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let e=this.formControl.value;this.onChange(e)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index);let t=[];for(let e of this.type.enumValue||[])t.push({id:e.label,label:e.label});this.selectOptions$.next(t),this.validators.push(U.required)}get label(){return this.index!==void 0?L.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(t){this.formControl.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){}openSelectEnumerationDialog(){this.dialog.open(Qn,{width:"600px",data:{type:this.type},panelClass:["no-padding-dialog"]}).afterClosed().subscribe(t=>{t&&this.writeValue(t.label)})}validate(t){for(let e of this.validators){let i=e(t);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}};je.\u0275fac=function(e){return new(e||je)(F(Pr))},je.\u0275cmp=w({type:je,selectors:[["app-enumeration-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:G(()=>je),multi:!0},{provide:fe,useExisting:G(()=>je),multi:!0}])],decls:12,vars:12,consts:[["err",""],[3,"label"],[3,"controlName"],[1,"control-group"],[3,"formControl","options"],["matTooltip","Lookup enumeration state","icon","search",3,"click"]],template:function(e,i){if(e&1){let r=_e();p(0,"ya-field",1),A(1,"async"),p(2,"ya-meta"),u(3),c(),x(4,Bs,2,1,"ya-help"),O(5,"ya-errors",2,0),p(7,"div",3),O(8,"ya-select",4),A(9,"async"),u(10," \xA0 "),p(11,"ya-icon-button",5),de("click",function(){return Ce(r),Se(i.openSelectEnumerationDialog())}),c()()()}if(e&2){let r=ee(6);X("error",E(1,8,r.invalid$)),d("label",i.label),m(3),$(i.type.engType),m(),b(i.description?4:-1),m(),d("controlName",i.controlName),m(3),d("formControl",i.formControl)("options",E(9,10,i.selectOptions$))}},dependencies:[Q,N,he,ve,re,z,Y,eo,K,bt,W],styles:[".control-group[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0});var We=je;function qs(n,t){if(n&1&&(p(0,"ya-meta"),O(1,"ya-interval",4),c()),n&2){let e=f();m(),d("left",e.type.rangeMin)("right",e.type.rangeMax)}}function zs(n,t){if(n&1&&(p(0,"ya-meta"),u(1),A(2,"units"),c()),n&2){let e=f();m(),$(E(2,1,e.type.unitSet))}}function js(n,t){n&1&&(p(0,"ya-meta"),u(1,"unsigned"),c())}function Ws(n,t){if(n&1&&(p(0,"ya-help"),u(1),c()),n&2){let e=f();m(),V(" ",e.description," ")}}var Ue=class Ue{constructor(){this.formControl=new Z;this.validators=[];this.onChange=t=>{};this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let t=this.formControl.value;this.onChange(t)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.validators.push(U.required),this.validators.push(Te.requireFloat),this.type.signed===!1&&this.validators.push(Te.requireUnsigned),this.type.rangeMax!==void 0&&this.validators.push(U.max(this.type.rangeMax)),this.type.rangeMin!==void 0&&this.validators.push(U.min(this.type.rangeMin))}get label(){return this.index!==void 0?L.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(t){this.formControl.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){}validate(t){for(let e of this.validators){let i=e(t);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}};Ue.\u0275fac=function(e){return new(e||Ue)},Ue.\u0275cmp=w({type:Ue,selectors:[["app-float-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:G(()=>Ue),multi:!0},{provide:fe,useExisting:G(()=>Ue),multi:!0}])],decls:11,vars:12,consts:[["err",""],[3,"label"],[3,"controlName"],["type","text","autocomplete","off",3,"formControl"],[3,"left","right"]],template:function(e,i){if(e&1&&(p(0,"ya-field",1),A(1,"async"),x(2,qs,2,2,"ya-meta"),x(3,zs,3,3,"ya-meta"),x(4,js,2,0,"ya-meta"),p(5,"ya-meta"),u(6),c(),x(7,Ws,2,1,"ya-help"),O(8,"ya-errors",2,0)(10,"input",3),c()),e&2){let r=ee(9);X("error",E(1,10,r.invalid$)),d("label",i.label),m(2),b(i.type.rangeMin!==void 0||i.type.rangeMax!==void 0?2:-1),m(),b(i.type.unitSet?3:-1),m(),b(i.type.signed===!1?4:-1),m(2),$(i.type.engType),m(),b(i.description?7:-1),m(),d("controlName",i.controlName),m(2),d("formControl",i.formControl)}},dependencies:[Q,ue,N,he,re,z,Y,Ae,K,W,Le],styles:[".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}"],changeDetection:0});var He=Ue;function Us(n,t){if(n&1&&(p(0,"ya-meta"),O(1,"ya-interval",9),c()),n&2){let e=f();m(),d("left",e.type.rangeMin)("right",e.type.rangeMax)}}function Hs(n,t){if(n&1&&(p(0,"ya-meta"),u(1),A(2,"units"),c()),n&2){let e=f();m(),$(E(2,1,e.type.unitSet))}}function Zs(n,t){n&1&&(p(0,"ya-meta"),u(1,"unsigned"),c())}function Ks(n,t){if(n&1){let e=_e();p(0,"ya-meta",10),de("click",function(r){return Ce(e),Se(r.stopPropagation())}),u(1," \u2630 "),c()}if(n&2){f();let e=ee(9);d("matMenuTriggerFor",e)}}function Js(n,t){if(n&1&&(p(0,"ya-help"),u(1),c()),n&2){let e=f();m(),V(" ",e.description," ")}}function el(n,t){if(n&1&&O(0,"ya-hex-integer-input",7),n&2){let e=f();d("formControl",e.formControl)}}function tl(n,t){if(n&1&&O(0,"input",8),n&2){let e=f();d("formControl",e.formControl)}}var Ze=class Ze{constructor(){this.formControl=new Z;this.validators=[];this.onChange=t=>{};this.subscriptions=[];this.hexToggle$=new te(!1)}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let t=this.formControl.value;t!==null&&this.hexToggle$.value&&(t=String(t)),this.onChange(t)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.validators.push(U.required),this.validators.push(Te.requireInteger),this.type.signed===!1&&this.validators.push(Te.requireUnsigned),this.type.rangeMax!==void 0&&this.validators.push(U.max(this.type.rangeMax)),this.type.rangeMin!==void 0&&this.validators.push(U.min(this.type.rangeMin))}get label(){return this.index!==void 0?L.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(t){this.formControl.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){}setDisabledState(t){}validate(t){for(let e of this.validators){let i=e(t);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}};Ze.\u0275fac=function(e){return new(e||Ze)},Ze.\u0275cmp=w({type:Ze,selectors:[["app-integer-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:G(()=>Ze),multi:!0},{provide:fe,useExisting:G(()=>Ze),multi:!0}])],decls:26,vars:23,consts:[["argMenu","matMenu"],["err",""],[3,"label"],["action","true","matTooltip","Input options",3,"matMenuTriggerFor"],[1,"ya-menu"],["mat-menu-item","",3,"click"],[3,"controlName"],[3,"formControl"],["type","text","autocomplete","off",3,"formControl"],[3,"left","right"],["action","true","matTooltip","Input options",3,"click","matMenuTriggerFor"]],template:function(e,i){if(e&1){let r=_e();p(0,"ya-field",2),A(1,"async"),x(2,Us,2,2,"ya-meta"),x(3,Hs,3,3,"ya-meta"),x(4,Zs,2,0,"ya-meta"),p(5,"ya-meta"),u(6),c(),x(7,Ks,2,1,"ya-meta",3),p(8,"mat-menu",4,0)(10,"button",5),de("click",function(){return Ce(r),Se(i.hexToggle$.next(!0))}),p(11,"mat-icon"),A(12,"async"),u(13,"check"),c(),u(14," Hex input "),c(),p(15,"button",5),de("click",function(){return Ce(r),Se(i.hexToggle$.next(!1))}),p(16,"mat-icon"),A(17,"async"),u(18,"check"),c(),u(19," Decimal input "),c()(),x(20,Js,2,1,"ya-help"),O(21,"ya-errors",6,1),x(23,el,1,1,"ya-hex-integer-input",7),A(24,"async"),Ei(25,tl,1,1,"input",8),c()}if(e&2){let r=ee(22);X("error",E(1,15,r.invalid$)),d("label",i.label),m(2),b(i.type.rangeMin!==void 0||i.type.rangeMax!==void 0?2:-1),m(),b(i.type.unitSet?3:-1),m(),b(i.type.signed===!1?4:-1),m(2),$(i.type.engType),m(),b(i.type.signed===!1?7:-1),m(4),ot("visibility",E(12,17,i.hexToggle$)?"visible":"hidden"),m(5),ot("visibility",E(17,19,i.hexToggle$)?"hidden":"visible"),m(4),b(i.description?20:-1),m(),d("controlName",i.controlName),m(2),b(E(24,21,i.hexToggle$)?23:25)}},dependencies:[Q,ue,N,he,yt,Bi,Ri,qi,ve,re,z,Y,Jr,Ae,K,W,Le],styles:[".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}"],changeDetection:0});var Ke=Ze;function nl(n,t){if(n&1&&(p(0,"ya-meta"),u(1," chars: "),O(2,"ya-interval",4),c()),n&2){let e=f();m(2),d("left",e.type.minChars)("right",e.type.maxChars)("singleValueIfEqual",!0)}}function il(n,t){if(n&1&&(p(0,"ya-meta"),u(1),A(2,"units"),c()),n&2){let e=f();m(),V(" ",E(2,1,e.type.unitSet)," ")}}function rl(n,t){if(n&1&&(p(0,"ya-help"),u(1),c()),n&2){let e=f();m(),V(" ",e.description," ")}}var Je=class Je{constructor(){this.formControl=new Z;this.validators=[];this.onChange=t=>{};this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let t=this.formControl.value;this.onChange(t)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.type.minChars!==void 0&&this.type.minChars!==0&&this.validators.push(U.required),this.type.minChars!==void 0&&this.validators.push(U.minLength(this.type.minChars)),this.type.maxChars!==void 0&&this.validators.push(U.maxLength(this.type.maxChars))}get label(){return this.index!==void 0?L.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(t){this.formControl.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){}validate(t){for(let e of this.validators){let i=e(t);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}};Je.\u0275fac=function(e){return new(e||Je)},Je.\u0275cmp=w({type:Je,selectors:[["app-string-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:G(()=>Je),multi:!0},{provide:fe,useExisting:G(()=>Je),multi:!0}])],decls:10,vars:11,consts:[["err",""],[3,"label"],[3,"controlName"],["type","text","autocomplete","off",3,"formControl"],[3,"left","right","singleValueIfEqual"]],template:function(e,i){if(e&1&&(p(0,"ya-field",1),A(1,"async"),x(2,nl,3,3,"ya-meta"),x(3,il,3,3,"ya-meta"),p(4,"ya-meta"),u(5),c(),x(6,rl,2,1,"ya-help"),O(7,"ya-errors",2,0)(9,"input",3),c()),e&2){let r=ee(8);X("error",E(1,9,r.invalid$)),d("label",i.label),m(2),b(i.type.minChars!==void 0||i.type.maxChars!==void 0?2:-1),m(),b(i.type.unitSet?3:-1),m(2),$(i.type.engType),m(),b(i.description?6:-1),m(),d("controlName",i.controlName),m(2),d("formControl",i.formControl)}},dependencies:[Q,ue,N,he,re,z,Y,Ae,K,W,Le],styles:[".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}"],changeDetection:0});var et=Je;function ol(n,t){if(n&1&&(p(0,"ya-help"),u(1),c()),n&2){let e=f();m(),V(" ",e.description," ")}}var tt=class tt{constructor(){this.formControl=new Z;this.validators=[];this.onChange=t=>{};this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let t=this.formControl.value;this.onChange(t)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.validators.push(U.required)}get label(){return this.index!==void 0?L.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(t){this.formControl.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){}validate(t){for(let e of this.validators){let i=e(t);if(i)return i}return this.formControl.errors}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}};tt.\u0275fac=function(e){return new(e||tt)},tt.\u0275cmp=w({type:tt,selectors:[["app-time-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:G(()=>tt),multi:!0},{provide:fe,useExisting:G(()=>tt),multi:!0}])],decls:8,vars:11,consts:[["err",""],[3,"label"],[3,"controlName"],[3,"formControl","showMillis","showNow"]],template:function(e,i){if(e&1&&(p(0,"ya-field",1),A(1,"async"),p(2,"ya-meta"),u(3),c(),x(4,ol,2,1,"ya-help"),O(5,"ya-errors",2,0)(7,"ya-date-time-input",3),c()),e&2){let r=ee(6);X("error",E(1,9,r.invalid$)),d("label",i.label),m(3),$(i.type.engType),m(),b(i.description?4:-1),m(),d("controlName",i.controlName),m(2),d("formControl",i.formControl)("showMillis",!0)("showNow",!0)}},dependencies:[Q,N,he,xn,re,z,Y,K,W],styles:[".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}"],changeDetection:0});var nt=tt;function al(n,t){if(n&1&&(p(0,"ya-help"),u(1),c()),n&2){let e=f();m(),V(" ",e.description," ")}}function sl(n,t){if(n&1&&O(0,"app-aggregate-argument",5),n&2){let e=f().$index,i=f();d("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("initialValue",i.entryInitialValues[e])}}function ll(n,t){if(n&1&&O(0,"app-binary-argument",6),n&2){let e=f().$index,i=f();d("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function ml(n,t){if(n&1&&O(0,"app-boolean-argument",6),n&2){let e=f().$index,i=f();d("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function pl(n,t){if(n&1&&O(0,"app-enumeration-argument",6),n&2){let e=f().$index,i=f();d("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function cl(n,t){if(n&1&&O(0,"app-float-argument",6),n&2){let e=f().$index,i=f();d("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function dl(n,t){if(n&1&&O(0,"app-integer-argument",6),n&2){let e=f().$index,i=f();d("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function ul(n,t){if(n&1&&O(0,"app-string-argument",6),n&2){let e=f().$index,i=f();d("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function fl(n,t){if(n&1&&O(0,"app-time-argument",6),n&2){let e=f().$index,i=f();d("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function hl(n,t){if(n&1&&O(0,"app-array-argument",5),n&2){let e=f().$index,i=f();d("name",e)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("initialValue",i.entryInitialValues[e])}}function gl(n,t){if(n&1&&(p(0,"div"),x(1,sl,1,5,"app-aggregate-argument",5)(2,ll,1,5,"app-binary-argument",6)(3,ml,1,5,"app-boolean-argument",6)(4,pl,1,5,"app-enumeration-argument",6)(5,cl,1,5,"app-float-argument",6)(6,dl,1,5,"app-integer-argument",6)(7,ul,1,5,"app-string-argument",6)(8,fl,1,5,"app-time-argument",6)(9,hl,1,5,"app-array-argument",5),c()),n&2){let e,i=t.$index,r=f();ot("padding-top",i===0?0:10,"px"),m(),b((e=r.type.elementType.engType)==="aggregate"?1:e==="binary"?2:e==="boolean"?3:e==="enumeration"?4:e==="float"?5:e==="integer"?6:e==="string"?7:e==="time"?8:e===(r.type.elementType.engType.endsWith("[]")?r.type.elementType.engType:"")?9:-1)}}var pt=class pt{constructor(t,e,i,r){this.formGroupName=t;this.yamcs=e;this.formArrayName=i;this.ownDimensions=[];this.engType$=new te(null);this.arrayLength$=new te(0);this.formArray=new Gn([]);this.entryInitialValues=[];this.subscriptions=[];this.pvalCache={};this.topLevelForm.valueChanges.subscribe(()=>{this.updateOwnDimensions(),this.formArray.updateValueAndValidity({onlySelf:!0}),this.formArray.updateValueAndValidity({emitEvent:!1}),r.detectChanges()})}get topLevelForm(){return this.formGroupName.formDirective}ngOnInit(){this.formGroupName.control.addControl(this.name,this.formArray),this.updateOwnDimensions();let e=this.type.dimensions.filter(r=>r.parameter!==void 0).map(r=>r.parameter.qualifiedName);if(e=[...new Set(e)],e.length){let r=e.map(a=>({name:a})),o;this.parameterSubscription=this.yamcs.yamcsClient.createParameterSubscription({instance:this.yamcs.instance,processor:this.yamcs.processor,id:r,abortOnInvalid:!1,sendFromCache:!0,updateOnExpiration:!1,action:"REPLACE"},a=>{a.mapping&&(o=Ee(Ee({},o),a.mapping));for(let s of a.values||[])if(s.engValue){let l=o[s.numericId];this.pvalCache[l.name]=L.convertValue(s.engValue),this.updateOwnDimensions()}})}this.formArray.addValidators(()=>{for(let r=0;r<this.ownDimensions.length;r++){let o=this.ownDimensions[r],a=this.type.dimensions[r];if(o!==void 0&&o<0)return{invalidDimension:{dimension:o}};if(a.argument){if(o===void 0)return{argumentRequired:{name:a.argument}}}else if(a.parameter&&o===void 0)return{parameterRequired:{qualifiedName:a.parameter.qualifiedName,name:a.parameter.name}}}return null}),this.formArray.updateValueAndValidity(),this.initialValue?.length===this.arrayLength$.value&&(this.entryInitialValues=[...this.initialValue]);let i=!0;this.subscriptions.push(this.arrayLength$.pipe(Ai()).subscribe(r=>{this.formArray.clear();for(let o=0;o<r;o++)if(!this.type.elementType.engType.endsWith("[]")&&this.type.elementType.engType!=="aggregate"){let a=i?this.entryInitialValues[o]??"":"";this.formArray.setControl(o,new ae(a))}else this.type.elementType.engType==="aggregate"?this.formArray.setControl(o,new Fi({})):this.formArray.setControl(o,new Gn([]))})),i=!1}get label(){return this.index!==void 0?L.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}updateEngType(){let t=this.type.elementType.engType;t.endsWith("[]")&&(t="array");for(let e of this.ownDimensions)t+=e!==void 0?`[${e}]`:"[?]";this.engType$.next(t)}updateOwnDimensions(){let{dimensions:t}=this.type;if(t){let e=[];for(let r of t)if(r.fixedValue!==void 0)e.push(Number(r.fixedValue));else if(r.argument){let o=this.findClosestControl(r.argument);if(o?.valid&&o.value!==""){let a=Number(o.value);if(isNaN(a))e.push(void 0);else{let s=a*Number(r.slope);s+=Number(r.intercept),e.push(s)}}else e.push(void 0)}else if(r.parameter){let o=this.pvalCache[r.parameter.qualifiedName];if(o!==void 0){let a=Number(o);if(isNaN(a))e.push(void 0);else{let s=a*Number(r.slope);s+=Number(r.intercept),e.push(s)}}else e.push(void 0)}else e.push(void 0);this.ownDimensions=e,this.updateEngType();let i=1;for(let r of this.ownDimensions)if(r===void 0){i=0;break}else i*=r;this.arrayLength$.next(i)}}findClosestControl(t){let e=this.formGroupName.control;for(;e&&e!==this.topLevelForm.control;){if(e instanceof be&&t in e.controls)return e.controls[t];e=e.parent}}ngOnDestroy(){this.parameterSubscription?.cancel(),this.subscriptions.forEach(t=>t.unsubscribe())}};pt.\u0275fac=function(e){return new(e||pt)(F(se),F(xt),F(Ve,8),F(Mi))},pt.\u0275cmp=w({type:pt,selectors:[["app-array-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions",initialValue:"initialValue"},features:[q([],[{provide:Ot,useFactory:(t,e)=>t&&t.control.parent===e.control?t:e,deps:[[new mn,new ln,Ve],se]}])],decls:11,vars:11,consts:[["err",""],[3,"label"],[3,"controlName"],[1,"entries",3,"formArrayName"],[3,"paddingTop"],[3,"name","type","index","dimensions","initialValue"],[3,"name","type","index","dimensions","formControlName"]],template:function(e,i){if(e&1&&(p(0,"ya-field",1),A(1,"async"),x(2,al,2,1,"ya-help"),p(3,"ya-meta"),u(4),A(5,"async"),c(),O(6,"ya-errors",2,0),p(8,"div",3),le(9,gl,10,3,"div",4,xe),c()()),e&2){let r=ee(7);X("error",E(1,7,r.invalid$)),d("label",i.label),m(2),b(i.description?2:-1),m(2),$(E(5,9,i.engType$)),m(2),d("controlName",i.name),m(2),d("formArrayName",i.name),m(),me(i.formArray.controls)}},dependencies:()=>[pt,Et,Be,ze,We,He,Ke,Q,N,H,ie,Ve,re,z,Y,K,et,nt,W],styles:[".entries[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}"],changeDetection:0});var At=pt;function Ol(n,t){if(n&1&&(p(0,"ya-help"),u(1),c()),n&2){let e=f();m(),V(" ",e.description," ")}}function yl(n,t){if(n&1&&O(0,"app-aggregate-argument",3),n&2){let e=f(),i=e.$implicit,r=e.$index,o=f();d("name",i.name)("type",i.type)("description",i.shortDescription)("initialValue",o.memberInitialValues[r])}}function Cl(n,t){if(n&1&&O(0,"app-binary-argument",4),n&2){let e=f().$implicit;d("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function Sl(n,t){if(n&1&&O(0,"app-boolean-argument",4),n&2){let e=f().$implicit;d("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function xl(n,t){if(n&1&&O(0,"app-enumeration-argument",4),n&2){let e=f().$implicit;d("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function bl(n,t){if(n&1&&O(0,"app-float-argument",4),n&2){let e=f().$implicit;d("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function vl(n,t){if(n&1&&O(0,"app-integer-argument",4),n&2){let e=f().$implicit;d("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function kl(n,t){if(n&1&&O(0,"app-string-argument",4),n&2){let e=f().$implicit;d("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function _l(n,t){if(n&1&&O(0,"app-time-argument",4),n&2){let e=f().$implicit;d("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function wl(n,t){if(n&1&&O(0,"app-array-argument",3),n&2){let e=f(),i=e.$implicit,r=e.$index,o=f();d("name",i.name)("type",i.type)("description",i.shortDescription)("initialValue",o.memberInitialValues[r])}}function Ql(n,t){if(n&1&&(p(0,"div"),x(1,yl,1,4,"app-aggregate-argument",3)(2,Cl,1,4,"app-binary-argument",4)(3,Sl,1,4,"app-boolean-argument",4)(4,xl,1,4,"app-enumeration-argument",4)(5,bl,1,4,"app-float-argument",4)(6,vl,1,4,"app-integer-argument",4)(7,kl,1,4,"app-string-argument",4)(8,_l,1,4,"app-time-argument",4)(9,wl,1,4,"app-array-argument",3),c()),n&2){let e,i=t.$implicit,r=t.$index;ot("padding-top",r===0?0:10,"px"),m(),b((e=i.type.engType)==="aggregate"?1:e==="binary"?2:e==="boolean"?3:e==="enumeration"?4:e==="float"?5:e==="integer"?6:e==="string"?7:e==="time"?8:e===(i.type.engType.endsWith("[]")?i.type.engType:"")?9:-1)}}var ct=class ct{constructor(t,e){this.formGroupName=t;this.formArrayName=e;this.memberInitialValues=[]}ngOnInit(){let t=this.formGroupName.control,e;if(this.index===void 0)this.controlName=this.name,e=new be({}),t.setControl(this.name,e);else{this.controlName=String(this.index);let i=Number(this.index);e=t.controls[this.name].at(i)}for(let i of this.type.member||[]){let r;if(i.type.engType==="aggregate")r={},this.initialValue&&this.initialValue.hasOwnProperty(i.name)&&(r=this.initialValue[i.name]);else if(i.type.engType.endsWith("[]"))r=[],this.initialValue&&this.initialValue.hasOwnProperty(i.name)&&(r=this.initialValue[i.name]);else{r=i.initialValue??"",this.initialValue&&this.initialValue.hasOwnProperty(i.name)&&(r=this.initialValue[i.name]);let o=new Z(r);e.setControl(i.name,o,{emitEvent:!1})}this.memberInitialValues.push(r)}}get label(){return this.index===void 0?this.name:L.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join("")}};ct.\u0275fac=function(e){return new(e||ct)(F(se),F(Ve,8))},ct.\u0275cmp=w({type:ct,selectors:[["app-aggregate-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions",initialValue:"initialValue"},features:[q([],[{provide:Ot,useFactory:(t,e)=>t&&t.control.parent===e.control?t:e,deps:[[new mn,new ln,Ve],se]}])],decls:7,vars:3,consts:[[3,"label"],[1,"members",3,"formGroupName"],[3,"paddingTop"],[3,"name","type","description","initialValue"],[3,"name","type","description","formControlName"]],template:function(e,i){e&1&&(p(0,"ya-field",0)(1,"ya-meta"),u(2,"aggregate"),c(),x(3,Ol,2,1,"ya-help"),p(4,"div",1),le(5,Ql,10,3,"div",2,xe),c()()),e&2&&(d("label",i.label),m(3),b(i.description?3:-1),m(),d("formGroupName",i.controlName),m(),me(i.type.member))},dependencies:()=>[ct,At,Be,ze,We,He,Ke,Q,N,H,ie,se,z,Y,K,et,nt],styles:[".members[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}"],changeDetection:0});var Et=ct;function Pl(n,t){if(n&1&&O(0,"app-aggregate-argument",0),n&2){let e=f();d("name",e.name)("description",e.description)("type",e.type)("initialValue",e.parsedInitialValue)}}function Tl(n,t){if(n&1&&O(0,"app-binary-argument",1),n&2){let e=f();d("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function Al(n,t){if(n&1&&O(0,"app-boolean-argument",1),n&2){let e=f();d("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function El(n,t){if(n&1&&O(0,"app-enumeration-argument",1),n&2){let e=f();d("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function Vl(n,t){if(n&1&&O(0,"app-float-argument",1),n&2){let e=f();d("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function Il(n,t){if(n&1&&O(0,"app-integer-argument",1),n&2){let e=f();d("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function $l(n,t){if(n&1&&O(0,"app-string-argument",1),n&2){let e=f();d("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function Nl(n,t){if(n&1&&O(0,"app-time-argument",1),n&2){let e=f();d("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function Dl(n,t){if(n&1&&O(0,"app-array-argument",0),n&2){let e=f();d("name",e.name)("description",e.description)("type",e.type)("initialValue",e.parsedInitialValue)}}function Ne(n){switch(n.type){case"BOOLEAN":return""+n.booleanValue;case"FLOAT":return""+n.floatValue;case"DOUBLE":return""+n.doubleValue;case"UINT32":return""+n.uint32Value;case"SINT32":return""+n.sint32Value;case"BINARY":return L.convertBase64ToHex(n.binaryValue);case"ENUMERATED":case"STRING":case"TIMESTAMP":return n.stringValue;case"UINT64":return""+n.uint64Value;case"SINT64":return""+n.sint64Value;case"AGGREGATE":let{name:t,value:e}=n.aggregateValue,i={};for(let r=0;r<t.length;r++)i[t[r]]=Ne(e[r]);return i;case"ARRAY":return(n.arrayValue||[]).map(r=>Ne(r))}}function Bn(n){if(Array.isArray(n))return n.map(t=>Bn(t));if(typeof n=="object"){let t={};for(let e in n)t[e]=Bn(n[e]);return t}else return""+n}var Vt=class Vt{ngOnInit(){if(this.initialValue&&(this.type.engType==="AGGREGATE"||this.type.engType==="ARRAY"?this.parsedInitialValue=Bn(JSON.parse(this.initialValue)):this.type.engType==="BOOLEAN"?this.parsedInitialValue=""+(this.initialValue===this.type.oneStringValue):this.parsedInitialValue=this.initialValue),this.templateProvider){let t=this.templateProvider.getAssignment(this.name);t?.type==="AGGREGATE"?this.parsedInitialValue=Ee(Ee({},this.parsedInitialValue||{}),Ne(t)):t?.type==="ARRAY"&&(this.parsedInitialValue=Ne(t))}}};Vt.\u0275fac=function(e){return new(e||Vt)},Vt.\u0275cmp=w({type:Vt,selectors:[["app-argument"]],inputs:{name:"name",description:"description",type:"type",initialValue:"initialValue",templateProvider:"templateProvider"},features:[q([],[{provide:Ot,useExisting:se}])],decls:9,vars:1,consts:[[3,"name","description","type","initialValue"],[3,"name","description","type","formControlName"]],template:function(e,i){if(e&1&&x(0,Pl,1,4,"app-aggregate-argument",0)(1,Tl,1,4,"app-binary-argument",1)(2,Al,1,4,"app-boolean-argument",1)(3,El,1,4,"app-enumeration-argument",1)(4,Vl,1,4,"app-float-argument",1)(5,Il,1,4,"app-integer-argument",1)(6,$l,1,4,"app-string-argument",1)(7,Nl,1,4,"app-time-argument",1)(8,Dl,1,4,"app-array-argument",0),e&2){let r;b((r=i.type.engType)==="aggregate"?0:r==="binary"?1:r==="boolean"?2:r==="enumeration"?3:r==="float"?4:r==="integer"?5:r==="string"?6:r==="time"?7:r===(i.type.engType.endsWith("[]")?i.type.engType:"")?8:-1)}},dependencies:[Et,At,Be,ze,We,He,Ke,Q,N,ie,et,nt],encapsulation:2,changeDetection:0});var Pn=Vt;function Ml(n,t){n&1&&u(0," No arguments ")}function Xl(n,t){n&1&&O(0,"br")}function Fl(n,t){if(n&1&&(x(0,Xl,1,0,"br"),O(1,"app-argument",2)),n&2){let e=t.$implicit,i=t.$index,r=f();b(i!==0?0:-1),m(),d("name",e.name)("description",e.description)("type",e.type)("initialValue",e.initialValue)("templateProvider",r.templateProvider)}}function Yl(n,t){n&1&&O(0,"br",3)}function Gl(n,t){if(n&1&&(x(0,Yl,1,0,"br",3),O(1,"app-argument",4)),n&2){let e=t.$implicit,i=t.$index,r=f();b(i!==0||r.arguments.length?0:-1),m(),d("name",e.name)("description",e.description)("type",e.type)("initialValue",e.initialValue)("templateProvider",r.templateProvider)}}function Ll(n,t){n&1&&O(0,"br")}function Rl(n,t){n&1&&u(0," argument ")}function Bl(n,t){n&1&&u(0," arguments ")}function ql(n,t){if(n&1){let e=_e();x(0,Ll,1,0,"br"),p(1,"ya-text-action",5),de("click",function(){Ce(e);let r=f(2);return Se(r.showAll$.next(!0))}),u(2),x(3,Rl,1,0)(4,Bl,1,0),u(5," with defaults "),c()}if(n&2){let e=f(2);b(e.arguments.length?0:-1),m(2),V(" Show ",e.argumentsWithInitial.length," "),m(),b(e.argumentsWithInitial.length===1?3:4)}}function zl(n,t){if(n&1&&(x(0,ql,6,3),A(1,"async")),n&2){let e=f();b(e.argumentsWithInitial.length&&!E(1,1,e.showAll$)?0:-1)}}var It=class It{constructor(t){this.arguments=[];this.argumentsWithInitial=[];this.showAll$=new te(!1);this.hasArguments$=new te(!1);this.config=t.getConfig(),this.showAll$.next(!this.config.collapseInitializedArguments)}ngOnChanges(){this.formGroup.contains("args")||this.formGroup.addControl("args",new be({})),this.arguments=[],this.argumentsWithInitial=[],this.showAll$.next(!this.config.collapseInitializedArguments);for(let r in this.argsGroup.controls)this.argsGroup.removeControl(r);if(this.argsGroup.reset(),!this.command)return;let t=[],e=this.command;for(;e;)t.unshift(e),e=e.baseCommand;let i=new Map;for(let r of t){if(r.argument)for(let o of r.argument){if(this.templateProvider){let s=this.templateProvider.getAssignment(o.name);if(s!==void 0){let l=Ne(s),h=o.initialValue;o.type.engType==="boolean"&&h!==void 0&&(h=""+(o.type.oneStringValue===h)),l===h?this.argumentsWithInitial.push(o):this.arguments.push(o);continue}}let a=o.initialValue!==void 0;if(a&&o.type.engType==="aggregate"){let s=JSON.parse(o.initialValue);a=this.isAggregateFullyInitialized(o,s)}a?this.argumentsWithInitial.push(o):this.arguments.push(o)}if(r.argumentAssignment)for(let o of r.argumentAssignment)i.set(o.name,o.value)}this.arguments=this.arguments.filter(r=>!i.has(r.name)),this.argumentsWithInitial=this.argumentsWithInitial.filter(r=>!i.has(r.name));for(let r of this.arguments)this.addControl(r,this.templateProvider);for(let r of this.argumentsWithInitial)this.addControl(r,this.templateProvider);this.hasArguments$.next(this.arguments.length>0||this.argumentsWithInitial.length>0)}get argsGroup(){return this.formGroup.get("args")}addControl(t,e){if(t.type.engType!=="aggregate"){if(!t.type.engType.endsWith("[]")){let i;if(t.type.engType==="boolean"&&t.initialValue?i=""+(t.initialValue===t.type.oneStringValue):i=t.initialValue,e){let r=e.getAssignment(t.name);r!==void 0&&(i=Ne(r))}i===void 0&&(i=""),this.argsGroup.addControl(t.name,new Z(i))}}}isArgumentWithInitialValue(t){for(let e of this.argumentsWithInitial)if(e.name===t)return!0;return!1}isAggregateFullyInitialized(t,e){for(let i of t.type.member||[]){if(!e.hasOwnProperty(i.name)&&t.initialValue===void 0)return!1;if(i.type.engType==="aggregate"){let r=e[i.name];if(!this.isAggregateFullyInitialized(i,r))return!1}}return!0}getResult(){let t={};for(let e of[...this.arguments,...this.argumentsWithInitial])if(e.type.engType==="aggregate"){let i=this.argsGroup.get(e.name);t[e.name]=this.getMemberAssignments(i,e.type)}else if(e.type.engType.endsWith("[]")){let i=this.argsGroup.get(e.name);t[e.name]=this.getArrayAssignment(i,e.type.elementType)}else{let i=this.argsGroup.controls[e.name];(!this.isArgumentWithInitialValue(e.name)||i.dirty)&&(e.type.engType==="boolean"?t[e.name]=this.argsGroup.value[e.name]==="true":t[e.name]=String(this.argsGroup.value[e.name]))}return t}getMemberAssignments(t,e){let i={};for(let r of e.member||[])if(r.type.engType==="aggregate"){let o=t.get(r.name);i[r.name]=this.getMemberAssignments(o,r.type)}else if(r.type.engType.endsWith("[]")){let o=t.get(r.name);i[r.name]=this.getArrayAssignment(o,r.type.elementType)}else if(r.type.engType==="boolean"){let o=t.get(r.name);i[r.name]=o.value==="true"}else{let o=t.get(r.name);i[r.name]=o.value}return i}getArrayAssignment(t,e){let i=[];for(let r of t.controls)if(e.engType==="aggregate"){let o=r;i.push(this.getMemberAssignments(o,e))}else if(e.engType.endsWith("[]")){let o=r;i.push(this.getArrayAssignment(o,e))}else e.engType==="boolean"?i.push(r.value==="true"):i.push(r.value);return i}};It.\u0275fac=function(e){return new(e||It)(F(Sn))},It.\u0275cmp=w({type:It,selectors:[["app-command-arguments-form"]],inputs:{formGroup:"formGroup",command:"command",templateProvider:"templateProvider"},features:[we],decls:10,vars:9,consts:[[3,"formGroup"],["formGroupName","args"],[3,"name","description","type","initialValue","templateProvider"],[1,"hasInitial"],[1,"hasInitial",3,"name","description","type","initialValue","templateProvider"],["icon","double_arrow",3,"click"]],template:function(e,i){e&1&&(pe(0,0),p(1,"div",1),A(2,"async"),x(3,Ml,1,0),A(4,"async"),le(5,Fl,2,6,null,null,xe),le(7,Gl,2,6,null,null,xe),x(9,zl,2,3),c(),ce()),e&2&&(d("formGroup",i.formGroup),m(),X("showAll",E(2,5,i.showAll$)),m(2),b(E(4,7,i.hasArguments$)?-1:3),m(2),me(i.arguments),m(2),me(i.argumentsWithInitial),m(2),b(i.config.collapseInitializedArguments?9:-1))},dependencies:[Pn,Q,H,ge,se,Kr,W],styles:[".hasInitial[_ngcontent-%COMP%]{display:none}.showAll[_ngcontent-%COMP%]   .hasInitial[_ngcontent-%COMP%]{display:block}"],changeDetection:0});var $t=It;var Nt=class Nt{ngOnInit(){this.formGroup.addControl("comment",new ae(""))}ngOnChanges(){this.templateProvider&&this.formGroup.patchValue({comment:this.templateProvider.getComment()||""})}getResult(){return this.formGroup.value.comment||void 0}};Nt.\u0275fac=function(e){return new(e||Nt)},Nt.\u0275cmp=w({type:Nt,selectors:[["app-command-comment-form"]],inputs:{formGroup:"formGroup",templateProvider:"templateProvider"},features:[we],decls:3,vars:1,consts:[[3,"formGroup"],["formControlName","comment","rows","5",2,"width","100%","resize","none"]],template:function(e,i){e&1&&(pe(0,0),u(1," Attach a comment to this command. "),O(2,"textarea",1),ce()),e&2&&d("formGroup",i.formGroup)},dependencies:[Q,ue,N,H,ge,ie],encapsulation:2,changeDetection:0});var Dt=Nt;function jl(n,t){if(n&1&&O(0,"span",5),n&2){let e=f(2).$implicit;d("innerHTML",e.help,pn)}}function Wl(n,t){if(n&1&&(p(0,"ya-field",4),x(1,jl,1,1,"span",5),p(2,"div",6)(3,"label",7),O(4,"input",8),u(5," true "),c(),p(6,"label",7),O(7,"input",9),u(8," false "),c()()()),n&2){let e=f().$implicit,i=f();d("label",e.verboseName||e.id),m(),b(e.help?1:-1),m(2),X("checked",i.formGroup.controls["extra__"+e.id].value==="true"),m(),d("formControlName","extra__"+e.id),m(2),X("checked",i.formGroup.controls["extra__"+e.id].value==="false"),m(),d("formControlName","extra__"+e.id)}}function Ul(n,t){if(n&1&&(p(0,"ya-help",10),O(1,"div",12),c()),n&2){let e=f(2).$implicit;d("dialogTitle",e.verboseName||e.id),m(),d("innerHTML",e.help,pn)}}function Hl(n,t){if(n&1&&(p(0,"ya-field",4),x(1,Ul,2,2,"ya-help",10),O(2,"ya-date-time-input",11),c()),n&2){let e=f().$implicit;d("label",e.verboseName||e.id),m(),b(e.help?1:-1),m(),d("formControlName","extra__"+e.id)("showMillis",!0)("showClear",!0)("showNow",!0)}}function Zl(n,t){if(n&1&&(p(0,"ya-help",10),O(1,"div",12),c()),n&2){let e=f(2).$implicit;d("dialogTitle",e.verboseName||e.id),m(),d("innerHTML",e.help,pn)}}function Kl(n,t){if(n&1&&(p(0,"ya-field",4),x(1,Zl,2,2,"ya-help",10),O(2,"input",13),c()),n&2){let e=f().$implicit;d("label",e.verboseName||e.id),m(),b(e.help?1:-1),m(),d("formControlName","extra__"+e.id)}}function Jl(n,t){if(n&1&&x(0,Wl,9,8,"ya-field",4)(1,Hl,3,6,"ya-field",4)(2,Kl,3,3,"ya-field",4),n&2){let e,i=t.$implicit;b((e=i.type)==="BOOLEAN"?0:e==="TIMESTAMP"?1:2)}}var Mt=class Mt{constructor(t){this.streamOptions$=new te([]);this.commandOptions=t.getCommandOptions();let e=t.getTcStreams().map(i=>({id:i,label:i}));this.streamOptions$.next(e)}ngOnInit(){this.formGroup.addControl("stream",new ae(""));for(let t of this.commandOptions)this.formGroup.addControl("extra__"+t.id,new ae(null))}ngOnChanges(){if(this.templateProvider)for(let t of this.commandOptions||[]){let e=this.templateProvider.getOption(t.id,t.type);e!==void 0&&this.formGroup.controls["extra__"+t.id].setValue(Ne(e))}}getStream(){return this.formGroup.controls.stream.value||void 0}getResult(t=!1){let e={};for(let i in this.formGroup.controls)if(i.startsWith("extra__")){let r=this.formGroup.controls[i];if(r.value!==null){let o=i.replace("extra__","");t?e[o]=this.toStructValue(o,r.value):e[o]=this.toYamcsValue(o,r.value)}}return e}toStructValue(t,e){let i;for(let r of this.commandOptions)r.id===t&&(i=r);switch(i.type){case"BOOLEAN":return e==="true";case"NUMBER":return Number(e);default:return String(e)}}toYamcsValue(t,e){let i;for(let r of this.commandOptions)r.id===t&&(i=r);switch(i.type){case"BOOLEAN":return e==="true"?{type:"BOOLEAN",booleanValue:!0}:{type:"BOOLEAN",booleanValue:!1};case"NUMBER":return{type:"SINT32",sint32Value:Number(e)};default:return{type:"STRING",stringValue:String(e)}}}};Mt.\u0275fac=function(e){return new(e||Mt)(F(Sn))},Mt.\u0275cmp=w({type:Mt,selectors:[["app-command-options-form"]],inputs:{formGroup:"formGroup",templateProvider:"templateProvider"},features:[we],decls:9,vars:5,consts:[[3,"formGroup"],["label","Stream"],[1,"hint"],["formControlName","stream",3,"options","showClear"],[3,"label"],[1,"hint",3,"innerHTML"],[1,"radio-group"],[1,"radio"],["type","radio","value","true",3,"formControlName"],["type","radio","value","false",3,"formControlName"],[3,"dialogTitle"],[3,"formControlName","showMillis","showClear","showNow"],[3,"innerHTML"],["type","text",3,"formControlName"]],template:function(e,i){e&1&&(pe(0,0),p(1,"ya-field",1)(2,"span",2),u(3,"Override the stream the command is sent through."),c(),O(4,"br")(5,"ya-select",3),A(6,"async"),c(),le(7,Jl,3,1,null,null,xe),ce()),e&2&&(d("formGroup",i.formGroup),m(5),d("options",E(6,3,i.streamOptions$))("showClear",!0),m(2),me(i.commandOptions))},dependencies:[Q,ue,dn,N,H,ge,ie,xn,z,Y,bt,W],encapsulation:2,changeDetection:0});var Xt=Mt;function em(n,t){if(n&1&&(u(0," Advance when "),O(1,"app-advance-ack-help",10)),n&2){let e=f();m(),d("verifiers",e.verifierAcknowledgments)("extra",e.extraAcknowledgments)}}function tm(n,t){n&1&&O(0,"input",6)}var Ft=class Ft{constructor(t){this.yamcs=t;this.verifierAcknowledgments=[];this.extraAcknowledgments=[];this.ackOptions=[{id:"",label:"Inherit"},{id:"Acknowledge_Queued",label:"Queued",group:!0},{id:"Acknowledge_Released",label:"Released"},{id:"Acknowledge_Sent",label:"Sent"},{id:"CommandComplete",label:"Completed"}]}ngOnInit(){this.verifierAcknowledgments=[];let t=[],e=this.command;for(;e;)t.unshift(e),e=e.baseCommand;for(let r of t)for(let o of r.verifier??[])this.verifierAcknowledgments.push({name:`Verifier_${o.stage}`});let i=!0;for(let r of this.verifierAcknowledgments)this.ackOptions.push({id:r.name,label:r.name,group:i}),i=!1;this.extraAcknowledgments=this.yamcs.getProcessor()?.acknowledgments??[],i=!0;for(let r of this.extraAcknowledgments)this.ackOptions.push({id:r.name,label:r.name.replace("Acknowledge_",""),group:i}),i=!1;this.ackOptions.push({id:"custom",label:"Custom",group:!0})}ngOnChanges(){if(!this.formGroup.contains("advancement")){let t=new be({acknowledgment:new ae(""),ackCustom:new ae(""),wait:new ae(null)});this.formGroup.addControl("advancement",t),t.valueChanges.subscribe(e=>{e.acknowledgment!=="custom"&&t.patchValue({ackCustom:void 0},{emitEvent:!1})})}if(this.templateProvider){this.formGroup.patchValue({comment:this.templateProvider.getComment()||"",stream:this.templateProvider.getStream()||""});let t=this.templateProvider.getAdvancementParams();if(t){let e=this.ackOptions.find(a=>a.id===t.acknowledgment),i=e?e.id:"custom",r=i==="custom"?t.acknowledgment:"",o=t.wait??null;this.advancementGroup.patchValue({acknowledgment:i,ackCustom:r,wait:o})}}}get advancementGroup(){return this.formGroup.controls.advancement}get custom(){return this.advancementGroup.controls.acknowledgment.value==="custom"}getResult(){let t=this.advancementGroup.get("acknowledgment")?.value;t==="custom"&&(t=this.advancementGroup.get("ackCustom")?.value?.trim());let e=this.advancementGroup.get("wait")?.value??void 0;if(t||e!==void 0)return{acknowledgment:t,wait:e}}};Ft.\u0275fac=function(e){return new(e||Ft)(F(xt))},Ft.\u0275cmp=w({type:Ft,selectors:[["app-stack-advancement-form"]],inputs:{formGroup:"formGroup",command:"command",templateProvider:"templateProvider"},features:[we],decls:15,vars:3,consts:[["ackSelect",""],[3,"formGroup"],["formGroupName","advancement"],["ya-field-label",""],[2,"display","flex","align-items","flex-start"],["formControlName","acknowledgment","emptyOption","Inherit",3,"options"],["type","text","formControlName","ackCustom",2,"width","200px","margin-left","-1px"],["label","Wait (ms)"],["dialogTitle","Wait time"],["type","number","formControlName","wait","placeholder","Inherit","step","1000","min","0"],[3,"verifiers","extra"]],template:function(e,i){e&1&&(pe(0,1)(1,2),p(2,"ya-field"),rt(3,em,2,2,"ng-template",3),p(4,"div",4),O(5,"ya-select",5,0),x(7,tm,1,0,"input",6),c()(),p(8,"ya-field",7)(9,"ya-help",8)(10,"p"),u(11,"Wait time before advancing to the next command in the stack."),c(),p(12,"p"),u(13,"This triggers after successful acknowledgment."),c()(),O(14,"input",9),c(),ce()()),e&2&&(d("formGroup",i.formGroup),m(5),d("options",i.ackOptions),m(2),b(i.custom?7:-1))},dependencies:[wn,Q,ue,Gi,N,H,Li,ge,ie,se,Hr,z,Y,bt],encapsulation:2,changeDetection:0});var Yt=Ft;var En=class n{static create(t,e,i,r,o){let a=r+(r<<8)+t+(e<<4)|0;return new n(t,e,i,a,o,[],[])}constructor(t,e,i,r,o,a,s){this.type=t,this.value=e,this.from=i,this.hash=r,this.end=o,this.children=a,this.positions=s,this.hashProp=[[Ye.contextHash,r]]}addChild(t,e){t.prop(Ye.contextHash)!=this.hash&&(t=new Ge(t.type,t.children,t.positions,t.length,this.hashProp)),this.children.push(t),this.positions.push(e)}toTree(t,e=this.end){let i=this.children.length-1;return i>=0&&(e=Math.max(e,this.positions[i]+this.children[i].length+this.from)),new Ge(t.types[this.type],this.children,this.positions,e-this.from).balance({makeTree:(r,o,a)=>new Ge(Ut.none,r,o,a,this.hashProp)})}},y=function(n){return n[n.Document=1]="Document",n[n.CodeBlock=2]="CodeBlock",n[n.FencedCode=3]="FencedCode",n[n.Blockquote=4]="Blockquote",n[n.HorizontalRule=5]="HorizontalRule",n[n.BulletList=6]="BulletList",n[n.OrderedList=7]="OrderedList",n[n.ListItem=8]="ListItem",n[n.ATXHeading1=9]="ATXHeading1",n[n.ATXHeading2=10]="ATXHeading2",n[n.ATXHeading3=11]="ATXHeading3",n[n.ATXHeading4=12]="ATXHeading4",n[n.ATXHeading5=13]="ATXHeading5",n[n.ATXHeading6=14]="ATXHeading6",n[n.SetextHeading1=15]="SetextHeading1",n[n.SetextHeading2=16]="SetextHeading2",n[n.HTMLBlock=17]="HTMLBlock",n[n.LinkReference=18]="LinkReference",n[n.Paragraph=19]="Paragraph",n[n.CommentBlock=20]="CommentBlock",n[n.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",n[n.Escape=22]="Escape",n[n.Entity=23]="Entity",n[n.HardBreak=24]="HardBreak",n[n.Emphasis=25]="Emphasis",n[n.StrongEmphasis=26]="StrongEmphasis",n[n.Link=27]="Link",n[n.Image=28]="Image",n[n.InlineCode=29]="InlineCode",n[n.HTMLTag=30]="HTMLTag",n[n.Comment=31]="Comment",n[n.ProcessingInstruction=32]="ProcessingInstruction",n[n.Autolink=33]="Autolink",n[n.HeaderMark=34]="HeaderMark",n[n.QuoteMark=35]="QuoteMark",n[n.ListMark=36]="ListMark",n[n.LinkMark=37]="LinkMark",n[n.EmphasisMark=38]="EmphasisMark",n[n.CodeMark=39]="CodeMark",n[n.CodeText=40]="CodeText",n[n.CodeInfo=41]="CodeInfo",n[n.LinkTitle=42]="LinkTitle",n[n.LinkLabel=43]="LinkLabel",n[n.URL=44]="URL",n}(y||{}),jn=class{constructor(t,e){this.start=t,this.content=e,this.marks=[],this.parsers=[]}},Wn=class{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let t=this.skipSpace(this.basePos);this.indent=this.countIndent(t,this.pos,this.indent),this.pos=t,this.next=t==this.text.length?-1:this.text.charCodeAt(t)}skipSpace(t){return Kt(this.text,t)}reset(t){for(this.text=t,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(t){this.basePos=t,this.baseIndent=this.countIndent(t,this.pos,this.indent)}moveBaseColumn(t){this.baseIndent=t,this.basePos=this.findColumn(t)}addMarker(t){this.markers.push(t)}countIndent(t,e=0,i=0){for(let r=e;r<t;r++)i+=this.text.charCodeAt(r)==9?4-i%4:1;return i}findColumn(t){let e=0;for(let i=0;e<this.text.length&&i<t;e++)i+=this.text.charCodeAt(e)==9?4-i%4:1;return e}scrub(){if(!this.baseIndent)return this.text;let t="";for(let e=0;e<this.basePos;e++)t+=" ";return t+this.text.slice(this.basePos)}};function ho(n,t,e){if(e.pos==e.text.length||n!=t.block&&e.indent>=t.stack[e.depth+1].value+e.baseIndent)return!0;if(e.indent>=e.baseIndent+4)return!1;let i=(n.type==y.OrderedList?li:si)(e,t,!1);return i>0&&(n.type!=y.BulletList||ai(e,t,!1)<0)&&e.text.charCodeAt(e.pos+i-1)==n.value}var wo={[y.Blockquote](n,t,e){return e.next!=62?!1:(e.markers.push(I(y.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1)),e.moveBase(e.pos+(ke(e.text.charCodeAt(e.pos+1))?2:1)),n.end=t.lineStart+e.text.length,!0)},[y.ListItem](n,t,e){return e.indent<e.baseIndent+n.value&&e.next>-1?!1:(e.moveBaseColumn(e.baseIndent+n.value),!0)},[y.OrderedList]:ho,[y.BulletList]:ho,[y.Document](){return!0}};function ke(n){return n==32||n==9||n==10||n==13}function Kt(n,t=0){for(;t<n.length&&ke(n.charCodeAt(t));)t++;return t}function go(n,t,e){for(;t>e&&ke(n.charCodeAt(t-1));)t--;return t}function Qo(n){if(n.next!=96&&n.next!=126)return-1;let t=n.pos+1;for(;t<n.text.length&&n.text.charCodeAt(t)==n.next;)t++;if(t<n.pos+3)return-1;if(n.next==96){for(let e=t;e<n.text.length;e++)if(n.text.charCodeAt(e)==96)return-1}return t}function Po(n){return n.next!=62?-1:n.text.charCodeAt(n.pos+1)==32?2:1}function ai(n,t,e){if(n.next!=42&&n.next!=45&&n.next!=95)return-1;let i=1;for(let r=n.pos+1;r<n.text.length;r++){let o=n.text.charCodeAt(r);if(o==n.next)i++;else if(!ke(o))return-1}return e&&n.next==45&&Eo(n)>-1&&n.depth==t.stack.length&&t.parser.leafBlockParsers.indexOf(No.SetextHeading)>-1||i<3?-1:1}function To(n,t){for(let e=n.stack.length-1;e>=0;e--)if(n.stack[e].type==t)return!0;return!1}function si(n,t,e){return(n.next==45||n.next==43||n.next==42)&&(n.pos==n.text.length-1||ke(n.text.charCodeAt(n.pos+1)))&&(!e||To(t,y.BulletList)||n.skipSpace(n.pos+2)<n.text.length)?1:-1}function li(n,t,e){let i=n.pos,r=n.next;for(;r>=48&&r<=57;){i++;if(i==n.text.length)return-1;r=n.text.charCodeAt(i)}return i==n.pos||i>n.pos+9||r!=46&&r!=41||i<n.text.length-1&&!ke(n.text.charCodeAt(i+1))||e&&!To(t,y.OrderedList)&&(n.skipSpace(i+1)==n.text.length||i>n.pos+1||n.next!=49)?-1:i+1-n.pos}function Ao(n){if(n.next!=35)return-1;let t=n.pos+1;for(;t<n.text.length&&n.text.charCodeAt(t)==35;)t++;if(t<n.text.length&&n.text.charCodeAt(t)!=32)return-1;let e=t-n.pos;return e>6?-1:e}function Eo(n){if(n.next!=45&&n.next!=61||n.indent>=n.baseIndent+4)return-1;let t=n.pos+1;for(;t<n.text.length&&n.text.charCodeAt(t)==n.next;)t++;let e=t;for(;t<n.text.length&&ke(n.text.charCodeAt(t));)t++;return t==n.text.length?e:-1}var Un=/^[ \t]*$/,Vo=/-->/,Io=/\?>/,Hn=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,Vo],[/^\s*<\?/,Io],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,Un],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,Un]];function $o(n,t,e){if(n.next!=60)return-1;let i=n.text.slice(n.pos);for(let r=0,o=Hn.length-(e?1:0);r<o;r++)if(Hn[r][0].test(i))return r;return-1}function Oo(n,t){let e=n.countIndent(t,n.pos,n.indent),i=n.countIndent(n.skipSpace(t),t,e);return i>=e+5?e+1:i}function dt(n,t,e){let i=n.length-1;i>=0&&n[i].to==t&&n[i].type==y.CodeText?n[i].to=e:n.push(I(y.CodeText,t,e))}var Tn={LinkReference:void 0,IndentedCode(n,t){let e=t.baseIndent+4;if(t.indent<e)return!1;let i=t.findColumn(e),r=n.lineStart+i,o=n.lineStart+t.text.length,a=[],s=[];for(dt(a,r,o);n.nextLine()&&t.depth>=n.stack.length;)if(t.pos==t.text.length){dt(s,n.lineStart-1,n.lineStart);for(let l of t.markers)s.push(l)}else{if(t.indent<e)break;{if(s.length){for(let h of s)h.type==y.CodeText?dt(a,h.from,h.to):a.push(h);s=[]}dt(a,n.lineStart-1,n.lineStart);for(let h of t.markers)a.push(h);o=n.lineStart+t.text.length;let l=n.lineStart+t.findColumn(t.baseIndent+4);l<o&&dt(a,l,o)}}return s.length&&(s=s.filter(l=>l.type!=y.CodeText),s.length&&(t.markers=s.concat(t.markers))),n.addNode(n.buffer.writeElements(a,-r).finish(y.CodeBlock,o-r),r),!0},FencedCode(n,t){let e=Qo(t);if(e<0)return!1;let i=n.lineStart+t.pos,r=t.next,o=e-t.pos,a=t.skipSpace(e),s=go(t.text,t.text.length,a),l=[I(y.CodeMark,i,i+o)];a<s&&l.push(I(y.CodeInfo,n.lineStart+a,n.lineStart+s));for(let h=!0;n.nextLine()&&t.depth>=n.stack.length;h=!1){let g=t.pos;if(t.indent-t.baseIndent<4)for(;g<t.text.length&&t.text.charCodeAt(g)==r;)g++;if(g-t.pos>=o&&t.skipSpace(g)==t.text.length){for(let v of t.markers)l.push(v);l.push(I(y.CodeMark,n.lineStart+t.pos,n.lineStart+g)),n.nextLine();break}else{h||dt(l,n.lineStart-1,n.lineStart);for(let k of t.markers)l.push(k);let v=n.lineStart+t.basePos,S=n.lineStart+t.text.length;v<S&&dt(l,v,S)}}return n.addNode(n.buffer.writeElements(l,-i).finish(y.FencedCode,n.prevLineEnd()-i),i),!0},Blockquote(n,t){let e=Po(t);return e<0?!1:(n.startContext(y.Blockquote,t.pos),n.addNode(y.QuoteMark,n.lineStart+t.pos,n.lineStart+t.pos+1),t.moveBase(t.pos+e),null)},HorizontalRule(n,t){if(ai(t,n,!1)<0)return!1;let e=n.lineStart+t.pos;return n.nextLine(),n.addNode(y.HorizontalRule,e),!0},BulletList(n,t){let e=si(t,n,!1);if(e<0)return!1;n.block.type!=y.BulletList&&n.startContext(y.BulletList,t.basePos,t.next);let i=Oo(t,t.pos+1);return n.startContext(y.ListItem,t.basePos,i-t.baseIndent),n.addNode(y.ListMark,n.lineStart+t.pos,n.lineStart+t.pos+e),t.moveBaseColumn(i),null},OrderedList(n,t){let e=li(t,n,!1);if(e<0)return!1;n.block.type!=y.OrderedList&&n.startContext(y.OrderedList,t.basePos,t.text.charCodeAt(t.pos+e-1));let i=Oo(t,t.pos+e);return n.startContext(y.ListItem,t.basePos,i-t.baseIndent),n.addNode(y.ListMark,n.lineStart+t.pos,n.lineStart+t.pos+e),t.moveBaseColumn(i),null},ATXHeading(n,t){let e=Ao(t);if(e<0)return!1;let i=t.pos,r=n.lineStart+i,o=go(t.text,t.text.length,i),a=o;for(;a>i&&t.text.charCodeAt(a-1)==t.next;)a--;(a==o||a==i||!ke(t.text.charCodeAt(a-1)))&&(a=t.text.length);let s=n.buffer.write(y.HeaderMark,0,e).writeElements(n.parser.parseInline(t.text.slice(i+e+1,a),r+e+1),-r);a<t.text.length&&s.write(y.HeaderMark,a-i,o-i);let l=s.finish(y.ATXHeading1-1+e,t.text.length-i);return n.nextLine(),n.addNode(l,r),!0},HTMLBlock(n,t){let e=$o(t,n,!1);if(e<0)return!1;let i=n.lineStart+t.pos,r=Hn[e][1],o=[],a=r!=Un;for(;!r.test(t.text)&&n.nextLine();){if(t.depth<n.stack.length){a=!1;break}for(let h of t.markers)o.push(h)}a&&n.nextLine();let s=r==Vo?y.CommentBlock:r==Io?y.ProcessingInstructionBlock:y.HTMLBlock,l=n.prevLineEnd();return n.addNode(n.buffer.writeElements(o,-i).finish(s,l-i),i),!0},SetextHeading:void 0},Zn=class{constructor(t){this.stage=0,this.elts=[],this.pos=0,this.start=t.start,this.advance(t.content)}nextLine(t,e,i){if(this.stage==-1)return!1;let r=i.content+`
`+e.scrub(),o=this.advance(r);return o>-1&&o<r.length?this.complete(t,i,o):!1}finish(t,e){return(this.stage==2||this.stage==3)&&Kt(e.content,this.pos)==e.content.length?this.complete(t,e,e.content.length):!1}complete(t,e,i){return t.addLeafElement(e,I(y.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(t){return t?(this.pos=t.to-this.start,this.elts.push(t),this.stage++,!0):(t===!1&&(this.stage=-1),!1)}advance(t){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(Lo(t,this.pos,this.start,!0)))return-1;if(t.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(I(y.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(Yo(t,Kt(t,this.pos),this.start)))return-1}else if(this.stage==2){let e=Kt(t,this.pos),i=0;if(e>this.pos){let r=Go(t,e,this.start);if(r){let o=qn(t,r.to-this.start);o>0&&(this.nextStage(r),i=o)}}return i||(i=qn(t,this.pos)),i>0&&i<t.length?i:-1}else return qn(t,this.pos)}}};function qn(n,t){for(;t<n.length;t++){let e=n.charCodeAt(t);if(e==10)break;if(!ke(e))return-1}return t}var Kn=class{nextLine(t,e,i){let r=e.depth<t.stack.length?-1:Eo(e),o=e.next;if(r<0)return!1;let a=I(y.HeaderMark,t.lineStart+e.pos,t.lineStart+r);return t.nextLine(),t.addLeafElement(i,I(o==61?y.SetextHeading1:y.SetextHeading2,i.start,t.prevLineEnd(),[...t.parser.parseInline(i.content,i.start),a])),!0}finish(){return!1}},No={LinkReference(n,t){return t.content.charCodeAt(0)==91?new Zn(t):null},SetextHeading(){return new Kn}},nm=[(n,t)=>Ao(t)>=0,(n,t)=>Qo(t)>=0,(n,t)=>Po(t)>=0,(n,t)=>si(t,n,!0)>=0,(n,t)=>li(t,n,!0)>=0,(n,t)=>ai(t,n,!0)>=0,(n,t)=>$o(t,n,!0)>=0],im={text:"",end:0},Jn=class{constructor(t,e,i,r){this.parser=t,this.input=e,this.ranges=r,this.line=new Wn,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=r[r.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=r[0].from,this.block=En.create(y.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new ri(i,e):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:t}=this;for(;;){for(let i=0;;){let r=t.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<t.markers.length&&(!r||t.markers[i].from<r.end);){let o=t.markers[i++];this.addNode(o.type,o.from,o.to)}if(!r)break;this.finishContext()}if(t.pos<t.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(t.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let r=i(this,t);if(r!=!1){if(r==!0)return null;t.forward();continue e}}break}let e=new jn(this.lineStart+t.pos,t.text.slice(t.pos));for(let i of this.parser.leafBlockParsers)if(i){let r=i(this,e);r&&e.parsers.push(r)}e:for(;this.nextLine()&&t.pos!=t.text.length;){if(t.indent<t.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,t,e))break e}for(let i of e.parsers)if(i.nextLine(this,t,e))return null;e.content+=`
`+t.scrub();for(let i of t.markers)e.marks.push(i)}return this.finishLeaf(e),null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}reuseFragment(t){if(!this.fragments.moveTo(this.absoluteLineStart+t,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let e=this.fragments.takeNodes(this);return e?(this.absoluteLineStart+=e,this.lineStart=Ro(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(t=this.depth-1){return this.parser.nodeSet.types[this.stack[t].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(t){let e=im;if(e.end=t,t>=this.to)e.text="";else if(e.text=this.lineChunkAt(t),e.end+=e.text.length,this.ranges.length>1){let i=this.absoluteLineStart,r=this.rangeI;for(;this.ranges[r].to<e.end;){r++;let o=this.ranges[r].from,a=this.lineChunkAt(o);e.end=o+a.length,e.text=e.text.slice(0,this.ranges[r-1].to-i)+a,i=e.end-e.text.length}}return e}readLine(){let{line:t}=this,{text:e,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,t.reset(e);t.depth<this.stack.length;t.depth++){let r=this.stack[t.depth],o=this.parser.skipContextMarkup[r.type];if(!o)throw new Error("Unhandled block context "+y[r.type]);if(!o(r,this,t))break;t.forward()}}lineChunkAt(t){let e=this.input.chunk(t),i;if(this.input.lineChunks)i=e==`
`?"":e;else{let r=e.indexOf(`
`);i=r<0?e:e.slice(0,r)}return t+i.length>this.to?i.slice(0,this.to-t):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(t,e,i=0){this.block=En.create(t,i,this.lineStart+e,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(t,e,i=0){this.startContext(this.parser.getNodeType(t),e,i)}addNode(t,e,i){typeof t=="number"&&(t=new Ge(this.parser.nodeSet.types[t],Lt,Lt,(i??this.prevLineEnd())-e)),this.block.addChild(t,e-this.block.from)}addElement(t){this.block.addChild(t.toTree(this.parser.nodeSet),t.from-this.block.from)}addLeafElement(t,e){this.addNode(this.buffer.writeElements(ii(e.children,t.marks),-e.from).finish(e.type,e.to-e.from),e.from)}finishContext(){let t=this.stack.pop(),e=this.stack[this.stack.length-1];e.addChild(t.toTree(this.parser.nodeSet),t.from-e.from),this.block=e}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(t){return this.ranges.length>1?Do(this.ranges,0,t.topNode,this.ranges[0].from,this.reusePlaceholders):t}finishLeaf(t){for(let i of t.parsers)if(i.finish(this,t))return;let e=ii(this.parser.parseInline(t.content,t.start),t.marks);this.addNode(this.buffer.writeElements(e,-t.start).finish(y.Paragraph,t.content.length),t.start)}elt(t,e,i,r){return typeof t=="string"?I(this.parser.getNodeType(t),e,i,r):new In(t,e)}get buffer(){return new Vn(this.parser.nodeSet)}};function Do(n,t,e,i,r){let o=n[t].to,a=[],s=[],l=e.from+i;function h(g,v){for(;v?g>=o:g>o;){let S=n[t+1].from-o;i+=S,g+=S,t++,o=n[t].to}}for(let g=e.firstChild;g;g=g.nextSibling){h(g.from+i,!0);let v=g.from+i,S,k=r.get(g.tree);k?S=k:g.to+i>o?(S=Do(n,t,g,i,r),h(g.to+i,!1)):S=g.toTree(),a.push(S),s.push(v-l)}return h(e.to+i,!1),new Ge(e.type,a,s,e.to+i-l,e.tree?e.tree.propValues:void 0)}var en=class n extends Ji{constructor(t,e,i,r,o,a,s,l,h){super(),this.nodeSet=t,this.blockParsers=e,this.leafBlockParsers=i,this.blockNames=r,this.endLeafBlock=o,this.skipContextMarkup=a,this.inlineParsers=s,this.inlineNames=l,this.wrappers=h,this.nodeTypes=Object.create(null);for(let g of t.types)this.nodeTypes[g.name]=g.id}createParse(t,e,i){let r=new Jn(this,t,e,i);for(let o of this.wrappers)r=o(r,t,e,i);return r}configure(t){let e=ei(t);if(!e)return this;let{nodeSet:i,skipContextMarkup:r}=this,o=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),s=this.blockNames.slice(),l=this.inlineParsers.slice(),h=this.inlineNames.slice(),g=this.endLeafBlock.slice(),v=this.wrappers;if(Zt(e.defineNodes)){r=Object.assign({},r);let S=i.types.slice(),k;for(let P of e.defineNodes){let{name:T,block:D,composite:j,style:M}=typeof P=="string"?{name:P}:P;if(S.some(it=>it.name==T))continue;j&&(r[S.length]=(it,es,ts)=>j(es,ts,it.value));let Me=S.length,ht=j?["Block","BlockContext"]:D?Me>=y.ATXHeading1&&Me<=y.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;S.push(Ut.define({id:Me,name:T,props:ht&&[[Ye.group,ht]]})),M&&(k||(k={}),Array.isArray(M)||M instanceof er?k[T]=M:Object.assign(k,M))}i=new Ln(S),k&&(i=i.extend(st(k)))}if(Zt(e.props)&&(i=i.extend(...e.props)),Zt(e.remove))for(let S of e.remove){let k=this.blockNames.indexOf(S),P=this.inlineNames.indexOf(S);k>-1&&(o[k]=a[k]=void 0),P>-1&&(l[P]=void 0)}if(Zt(e.parseBlock))for(let S of e.parseBlock){let k=s.indexOf(S.name);if(k>-1)o[k]=S.parse,a[k]=S.leaf;else{let P=S.before?An(s,S.before):S.after?An(s,S.after)+1:s.length-1;o.splice(P,0,S.parse),a.splice(P,0,S.leaf),s.splice(P,0,S.name)}S.endLeaf&&g.push(S.endLeaf)}if(Zt(e.parseInline))for(let S of e.parseInline){let k=h.indexOf(S.name);if(k>-1)l[k]=S.parse;else{let P=S.before?An(h,S.before):S.after?An(h,S.after)+1:h.length-1;l.splice(P,0,S.parse),h.splice(P,0,S.name)}}return e.wrap&&(v=v.concat(e.wrap)),new n(i,o,a,s,g,r,l,h,v)}getNodeType(t){let e=this.nodeTypes[t];if(e==null)throw new RangeError(`Unknown node type '${t}'`);return e}parseInline(t,e){let i=new ni(this,t,e);e:for(let r=e;r<i.end;){let o=i.char(r);for(let a of this.inlineParsers)if(a){let s=a(i,o,r);if(s>=0){r=s;continue e}}r++}return i.resolveMarkers(0)}};function Zt(n){return n!=null&&n.length>0}function ei(n){if(!Array.isArray(n))return n;if(n.length==0)return null;let t=ei(n[0]);if(n.length==1)return t;let e=ei(n.slice(1));if(!e||!t)return t||e;let i=(a,s)=>(a||Lt).concat(s||Lt),r=t.wrap,o=e.wrap;return{props:i(t.props,e.props),defineNodes:i(t.defineNodes,e.defineNodes),parseBlock:i(t.parseBlock,e.parseBlock),parseInline:i(t.parseInline,e.parseInline),remove:i(t.remove,e.remove),wrap:r?o?(a,s,l,h)=>r(o(a,s,l,h),s,l,h):r:o}}function An(n,t){let e=n.indexOf(t);if(e<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return e}var Mo=[Ut.none];for(let n=1,t;t=y[n];n++)Mo[n]=Ut.define({id:n,name:t,props:n>=y.Escape?[]:[[Ye.group,n in wo?["Block","BlockContext"]:["Block","LeafBlock"]]],top:t=="Document"});var Lt=[],Vn=class{constructor(t){this.nodeSet=t,this.content=[],this.nodes=[]}write(t,e,i,r=0){return this.content.push(t,e,i,4+r*4),this}writeElements(t,e=0){for(let i of t)i.writeTo(this,e);return this}finish(t,e){return Ge.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:t,length:e})}},ut=class{constructor(t,e,i,r=Lt){this.type=t,this.from=e,this.to=i,this.children=r}writeTo(t,e){let i=t.content.length;t.writeElements(this.children,e),t.content.push(this.type,this.from+e,this.to+e,t.content.length+4-i)}toTree(t){return new Vn(t).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}},In=class{constructor(t,e){this.tree=t,this.from=e}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Lt}writeTo(t,e){t.nodes.push(this.tree),t.content.push(t.nodes.length-1,this.from+e,this.to+e,-1)}toTree(){return this.tree}};function I(n,t,e,i){return new ut(n,t,e,i)}var Xo={resolve:"Emphasis",mark:"EmphasisMark"},Fo={resolve:"Emphasis",mark:"EmphasisMark"},Gt={},ti={},Oe=class{constructor(t,e,i,r){this.type=t,this.from=e,this.to=i,this.side=r}},yo="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",tn=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{tn=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}var zn={Escape(n,t,e){if(t!=92||e==n.end-1)return-1;let i=n.char(e+1);for(let r=0;r<yo.length;r++)if(yo.charCodeAt(r)==i)return n.append(I(y.Escape,e,e+2));return-1},Entity(n,t,e){if(t!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(n.slice(e+1,e+31));return i?n.append(I(y.Entity,e,e+1+i[0].length)):-1},InlineCode(n,t,e){if(t!=96||e&&n.char(e-1)==96)return-1;let i=e+1;for(;i<n.end&&n.char(i)==96;)i++;let r=i-e,o=0;for(;i<n.end;i++)if(n.char(i)==96){if(o++,o==r&&n.char(i+1)!=96)return n.append(I(y.InlineCode,e,i+1,[I(y.CodeMark,e,e+r),I(y.CodeMark,i+1-r,i+1)]))}else o=0;return-1},HTMLTag(n,t,e){if(t!=60||e==n.end-1)return-1;let i=n.slice(e+1,n.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return n.append(I(y.Autolink,e,e+1+r[0].length,[I(y.LinkMark,e,e+1),I(y.URL,e+1,e+r[0].length),I(y.LinkMark,e+r[0].length,e+1+r[0].length)]));let o=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(o)return n.append(I(y.Comment,e,e+1+o[0].length));let a=/^\?[^]*?\?>/.exec(i);if(a)return n.append(I(y.ProcessingInstruction,e,e+1+a[0].length));let s=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return s?n.append(I(y.HTMLTag,e,e+1+s[0].length)):-1},Emphasis(n,t,e){if(t!=95&&t!=42)return-1;let i=e+1;for(;n.char(i)==t;)i++;let r=n.slice(e-1,e),o=n.slice(i,i+1),a=tn.test(r),s=tn.test(o),l=/\s|^$/.test(r),h=/\s|^$/.test(o),g=!h&&(!s||l||a),v=!l&&(!a||h||s),S=g&&(t==42||!v||a),k=v&&(t==42||!g||s);return n.append(new Oe(t==95?Xo:Fo,e,i,(S?1:0)|(k?2:0)))},HardBreak(n,t,e){if(t==92&&n.char(e+1)==10)return n.append(I(y.HardBreak,e,e+2));if(t==32){let i=e+1;for(;n.char(i)==32;)i++;if(n.char(i)==10&&i>=e+2)return n.append(I(y.HardBreak,e,i+1))}return-1},Link(n,t,e){return t==91?n.append(new Oe(Gt,e,e+1,1)):-1},Image(n,t,e){return t==33&&n.char(e+1)==91?n.append(new Oe(ti,e,e+2,1)):-1},LinkEnd(n,t,e){if(t!=93)return-1;for(let i=n.parts.length-1;i>=0;i--){let r=n.parts[i];if(r instanceof Oe&&(r.type==Gt||r.type==ti)){if(!r.side||n.skipSpace(r.to)==e&&!/[(\[]/.test(n.slice(e+1,e+2)))return n.parts[i]=null,-1;let o=n.takeContent(i),a=n.parts[i]=rm(n,o,r.type==Gt?y.Link:y.Image,r.from,e+1);if(r.type==Gt)for(let s=0;s<i;s++){let l=n.parts[s];l instanceof Oe&&l.type==Gt&&(l.side=0)}return a.to}}return-1}};function rm(n,t,e,i,r){let{text:o}=n,a=n.char(r),s=r;if(t.unshift(I(y.LinkMark,i,i+(e==y.Image?2:1))),t.push(I(y.LinkMark,r-1,r)),a==40){let l=n.skipSpace(r+1),h=Yo(o,l-n.offset,n.offset),g;h&&(l=n.skipSpace(h.to),l!=h.to&&(g=Go(o,l-n.offset,n.offset),g&&(l=n.skipSpace(g.to)))),n.char(l)==41&&(t.push(I(y.LinkMark,r,r+1)),s=l+1,h&&t.push(h),g&&t.push(g),t.push(I(y.LinkMark,l,s)))}else if(a==91){let l=Lo(o,r-n.offset,n.offset,!1);l&&(t.push(l),s=l.to)}return I(e,i,s,t)}function Yo(n,t,e){if(n.charCodeAt(t)==60){for(let r=t+1;r<n.length;r++){let o=n.charCodeAt(r);if(o==62)return I(y.URL,t+e,r+1+e);if(o==60||o==10)return!1}return null}else{let r=0,o=t;for(let a=!1;o<n.length;o++){let s=n.charCodeAt(o);if(ke(s))break;if(a)a=!1;else if(s==40)r++;else if(s==41){if(!r)break;r--}else s==92&&(a=!0)}return o>t?I(y.URL,t+e,o+e):o==n.length?null:!1}}function Go(n,t,e){let i=n.charCodeAt(t);if(i!=39&&i!=34&&i!=40)return!1;let r=i==40?41:i;for(let o=t+1,a=!1;o<n.length;o++){let s=n.charCodeAt(o);if(a)a=!1;else{if(s==r)return I(y.LinkTitle,t+e,o+1+e);s==92&&(a=!0)}}return null}function Lo(n,t,e,i){for(let r=!1,o=t+1,a=Math.min(n.length,o+999);o<a;o++){let s=n.charCodeAt(o);if(r)r=!1;else{if(s==93)return i?!1:I(y.LinkLabel,t+e,o+1+e);if(i&&!ke(s)&&(i=!1),s==91)return!1;s==92&&(r=!0)}}return null}var ni=class{constructor(t,e,i){this.parser=t,this.text=e,this.offset=i,this.parts=[]}char(t){return t>=this.end?-1:this.text.charCodeAt(t-this.offset)}get end(){return this.offset+this.text.length}slice(t,e){return this.text.slice(t-this.offset,e-this.offset)}append(t){return this.parts.push(t),t.to}addDelimiter(t,e,i,r,o){return this.append(new Oe(t,e,i,(r?1:0)|(o?2:0)))}get hasOpenLink(){for(let t=this.parts.length-1;t>=0;t--){let e=this.parts[t];if(e instanceof Oe&&(e.type==Gt||e.type==ti))return!0}return!1}addElement(t){return this.append(t)}resolveMarkers(t){for(let i=t;i<this.parts.length;i++){let r=this.parts[i];if(!(r instanceof Oe&&r.type.resolve&&r.side&2))continue;let o=r.type==Xo||r.type==Fo,a=r.to-r.from,s,l=i-1;for(;l>=t;l--){let T=this.parts[l];if(T instanceof Oe&&T.side&1&&T.type==r.type&&!(o&&(r.side&1||T.side&2)&&(T.to-T.from+a)%3==0&&((T.to-T.from)%3||a%3))){s=T;break}}if(!s)continue;let h=r.type.resolve,g=[],v=s.from,S=r.to;if(o){let T=Math.min(2,s.to-s.from,a);v=s.to-T,S=r.from+T,h=T==1?"Emphasis":"StrongEmphasis"}s.type.mark&&g.push(this.elt(s.type.mark,v,s.to));for(let T=l+1;T<i;T++)this.parts[T]instanceof ut&&g.push(this.parts[T]),this.parts[T]=null;r.type.mark&&g.push(this.elt(r.type.mark,r.from,S));let k=this.elt(h,v,S,g);this.parts[l]=o&&s.from!=v?new Oe(s.type,s.from,v,s.side):null,(this.parts[i]=o&&r.to!=S?new Oe(r.type,S,r.to,r.side):null)?this.parts.splice(i,0,k):this.parts[i]=k}let e=[];for(let i=t;i<this.parts.length;i++){let r=this.parts[i];r instanceof ut&&e.push(r)}return e}findOpeningDelimiter(t){for(let e=this.parts.length-1;e>=0;e--){let i=this.parts[e];if(i instanceof Oe&&i.type==t)return e}return null}takeContent(t){let e=this.resolveMarkers(t);return this.parts.length=t,e}skipSpace(t){return Kt(this.text,t-this.offset)+this.offset}elt(t,e,i,r){return typeof t=="string"?I(this.parser.getNodeType(t),e,i,r):new In(t,e)}};function ii(n,t){if(!t.length)return n;if(!n.length)return t;let e=n.slice(),i=0;for(let r of t){for(;i<e.length&&e[i].to<r.to;)i++;if(i<e.length&&e[i].from<r.from){let o=e[i];o instanceof ut&&(e[i]=new ut(o.type,o.from,o.to,ii(o.children,[r])))}else e.splice(i++,0,r)}return e}var om=[y.CodeBlock,y.ListItem,y.OrderedList,y.BulletList],ri=class{constructor(t,e){this.fragments=t,this.input=e,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,t.length&&(this.fragment=t[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(t,e){for(;this.fragment&&this.fragment.to<=t;)this.nextFragment();if(!this.fragment||this.fragment.from>(t?t-1:0))return!1;if(this.fragmentEnd<0){let o=this.fragment.to;for(;o>0&&this.input.read(o-1,o)!=`
`;)o--;this.fragmentEnd=o?o-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let r=t+this.fragment.offset;for(;i.to<=r;)if(!i.parent())return!1;for(;;){if(i.from>=r)return this.fragment.from<=e;if(!i.childAfter(r))return!1}}matches(t){let e=this.cursor.tree;return e&&e.prop(Ye.contextHash)==t}takeNodes(t){let e=this.cursor,i=this.fragment.offset,r=this.fragmentEnd-(this.fragment.openEnd?1:0),o=t.absoluteLineStart,a=o,s=t.block.children.length,l=a,h=s;for(;;){if(e.to-i>r){if(e.type.isAnonymous&&e.firstChild())continue;break}let g=Ro(e.from-i,t.ranges);if(e.to-i<=t.ranges[t.rangeI].to)t.addNode(e.tree,g);else{let v=new Ge(t.parser.nodeSet.types[y.Paragraph],[],[],0,t.block.hashProp);t.reusePlaceholders.set(v,e.tree),t.addNode(v,g)}if(e.type.is("Block")&&(om.indexOf(e.type.id)<0?(a=e.to-i,s=t.block.children.length):(a=l,s=h,l=e.to-i,h=t.block.children.length)),!e.nextSibling())break}for(;t.block.children.length>s;)t.block.children.pop(),t.block.positions.pop();return a-o}};function Ro(n,t){let e=n;for(let i=1;i<t.length;i++){let r=t[i-1].to,o=t[i].from;r<n&&(e-=o-r)}return e}var am=st({"Blockquote/...":C.quote,HorizontalRule:C.contentSeparator,"ATXHeading1/... SetextHeading1/...":C.heading1,"ATXHeading2/... SetextHeading2/...":C.heading2,"ATXHeading3/...":C.heading3,"ATXHeading4/...":C.heading4,"ATXHeading5/...":C.heading5,"ATXHeading6/...":C.heading6,"Comment CommentBlock":C.comment,Escape:C.escape,Entity:C.character,"Emphasis/...":C.emphasis,"StrongEmphasis/...":C.strong,"Link/... Image/...":C.link,"OrderedList/... BulletList/...":C.list,"BlockQuote/...":C.quote,"InlineCode CodeText":C.monospace,"URL Autolink":C.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":C.processingInstruction,"CodeInfo LinkLabel":C.labelName,LinkTitle:C.string,Paragraph:C.content}),Bo=new en(new Ln(Mo).extend(am),Object.keys(Tn).map(n=>Tn[n]),Object.keys(Tn).map(n=>No[n]),Object.keys(Tn),nm,wo,Object.keys(zn).map(n=>zn[n]),Object.keys(zn),[]);function sm(n,t,e){let i=[];for(let r=n.firstChild,o=t;;r=r.nextSibling){let a=r?r.from:e;if(a>o&&i.push({from:o,to:a}),!r)break;o=r.to}return i}function qo(n){let{codeParser:t,htmlParser:e}=n;return{wrap:hn((r,o)=>{let a=r.type.id;if(t&&(a==y.CodeBlock||a==y.FencedCode)){let s="";if(a==y.FencedCode){let h=r.node.getChild(y.CodeInfo);h&&(s=o.read(h.from,h.to))}let l=t(s);if(l)return{parser:l,overlay:h=>h.type.id==y.CodeText}}else if(e&&(a==y.HTMLBlock||a==y.HTMLTag||a==y.CommentBlock))return{parser:e,overlay:sm(r.node,r.from,r.to)};return null})}}var lm={resolve:"Strikethrough",mark:"StrikethroughMark"},mm={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":C.strikethrough}},{name:"StrikethroughMark",style:C.processingInstruction}],parseInline:[{name:"Strikethrough",parse(n,t,e){if(t!=126||n.char(e+1)!=126||n.char(e+2)==126)return-1;let i=n.slice(e-1,e),r=n.slice(e+2,e+3),o=/\s|^$/.test(i),a=/\s|^$/.test(r),s=tn.test(i),l=tn.test(r);return n.addDelimiter(lm,e,e+2,!a&&(!l||o||s),!o&&(!s||a||l))},after:"Emphasis"}]};function Jt(n,t,e=0,i,r=0){let o=0,a=!0,s=-1,l=-1,h=!1,g=()=>{i.push(n.elt("TableCell",r+s,r+l,n.parser.parseInline(t.slice(s,l),r+s)))};for(let v=e;v<t.length;v++){let S=t.charCodeAt(v);S==124&&!h?((!a||s>-1)&&o++,a=!1,i&&(s>-1&&g(),i.push(n.elt("TableDelimiter",v+r,v+r+1))),s=l=-1):(h||S!=32&&S!=9)&&(s<0&&(s=v),l=v+1),h=!h&&S==92}return s>-1&&(o++,i&&g()),o}function Co(n,t){for(let e=t;e<n.length;e++){let i=n.charCodeAt(e);if(i==124)return!0;i==92&&e++}return!1}var zo=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/,$n=class{constructor(){this.rows=null}nextLine(t,e,i){if(this.rows==null){this.rows=!1;let r;if((e.next==45||e.next==58||e.next==124)&&zo.test(r=e.text.slice(e.pos))){let o=[];Jt(t,i.content,0,o,i.start)==Jt(t,r,e.pos)&&(this.rows=[t.elt("TableHeader",i.start,i.start+i.content.length,o),t.elt("TableDelimiter",t.lineStart+e.pos,t.lineStart+e.text.length)])}}else if(this.rows){let r=[];Jt(t,e.text,e.pos,r,t.lineStart),this.rows.push(t.elt("TableRow",t.lineStart+e.pos,t.lineStart+e.text.length,r))}return!1}finish(t,e){return this.rows?(t.addLeafElement(e,t.elt("Table",e.start,e.start+e.content.length,this.rows)),!0):!1}},pm={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":C.heading}},"TableRow",{name:"TableCell",style:C.content},{name:"TableDelimiter",style:C.processingInstruction}],parseBlock:[{name:"Table",leaf(n,t){return Co(t.content,0)?new $n:null},endLeaf(n,t,e){if(e.parsers.some(r=>r instanceof $n)||!Co(t.text,t.basePos))return!1;let i=n.peekLine();return zo.test(i)&&Jt(n,t.text,t.basePos)==Jt(n,i,t.basePos)},before:"SetextHeading"}]},oi=class{nextLine(){return!1}finish(t,e){return t.addLeafElement(e,t.elt("Task",e.start,e.start+e.content.length,[t.elt("TaskMarker",e.start,e.start+3),...t.parser.parseInline(e.content.slice(3),e.start+3)])),!0}},cm={defineNodes:[{name:"Task",block:!0,style:C.list},{name:"TaskMarker",style:C.atom}],parseBlock:[{name:"TaskList",leaf(n,t){return/^\[[ xX]\][ \t]/.test(t.content)&&n.parentType().name=="ListItem"?new oi:null},after:"SetextHeading"}]},So=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,xo=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,dm=/[\w-]+\.[\w-]+($|\/)/,bo=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,vo=/\/[a-zA-Z\d@.]+/gy;function ko(n,t,e,i){let r=0;for(let o=t;o<e;o++)n[o]==i&&r++;return r}function um(n,t){xo.lastIndex=t;let e=xo.exec(n);if(!e||dm.exec(e[0])[0].indexOf("_")>-1)return-1;let i=t+e[0].length;for(;;){let r=n[i-1],o;if(/[?!.,:*_~]/.test(r)||r==")"&&ko(n,t,i,")")>ko(n,t,i,"("))i--;else if(r==";"&&(o=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(n.slice(t,i))))i=t+o.index;else break}return i}function _o(n,t){bo.lastIndex=t;let e=bo.exec(n);if(!e)return-1;let i=e[0][e[0].length-1];return i=="_"||i=="-"?-1:t+e[0].length-(i=="."?1:0)}var fm={parseInline:[{name:"Autolink",parse(n,t,e){let i=e-n.offset;if(i&&/\w/.test(n.text[i-1]))return-1;So.lastIndex=i;let r=So.exec(n.text),o=-1;if(!r)return-1;if(r[1]||r[2]){if(o=um(n.text,i+r[0].length),o>-1&&n.hasOpenLink){let a=/([^\[\]]|\[[^\]]*\])*/.exec(n.text.slice(i,o));o=i+a[0].length}}else r[3]?o=_o(n.text,i):(o=_o(n.text,i+r[0].length),o>-1&&r[0]=="xmpp:"&&(vo.lastIndex=o,r=vo.exec(n.text),r&&(o=r.index+r[0].length)));return o<0?-1:(n.addElement(n.elt("URL",e,o+n.offset)),o+n.offset)}}]},jo=[pm,cm,mm,fm];function Wo(n,t,e){return(i,r,o)=>{if(r!=n||i.char(o+1)==n)return-1;let a=[i.elt(e,o,o+1)];for(let s=o+1;s<i.end;s++){let l=i.char(s);if(l==n)return i.addElement(i.elt(t,o,s+1,a.concat(i.elt(e,s,s+1))));if(l==92&&a.push(i.elt("Escape",s,s+++2)),ke(l))break}return-1}}var Uo={defineNodes:[{name:"Superscript",style:C.special(C.content)},{name:"SuperscriptMark",style:C.processingInstruction}],parseInline:[{name:"Superscript",parse:Wo(94,"Superscript","SuperscriptMark")}]},Ho={defineNodes:[{name:"Subscript",style:C.special(C.content)},{name:"SubscriptMark",style:C.processingInstruction}],parseInline:[{name:"Subscript",parse:Wo(126,"Subscript","SubscriptMark")}]},Zo={defineNodes:[{name:"Emoji",style:C.character}],parseInline:[{name:"Emoji",parse(n,t,e){let i;return t!=58||!(i=/^[a-zA-Z_0-9]+:/.exec(n.slice(e+1,n.end)))?-1:n.addElement(n.elt("Emoji",e,e+1+i[0].length))}}]};var hm=54,gm=1,Om=55,ym=2,Cm=56,Sm=3,Ko=4,xm=5,Nn=6,aa=7,sa=8,la=9,ma=10,bm=11,vm=12,km=13,mi=57,_m=14,Jo=58,pa=20,wm=22,ca=23,Qm=24,ci=26,da=27,Pm=28,Tm=31,Am=34,Em=36,Vm=37,Im=0,$m=1,Nm={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Dm={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},ea={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Mm(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}function ua(n){return n==9||n==10||n==13||n==32}var ta=null,na=null,ia=0;function di(n,t){let e=n.pos+t;if(ia==e&&na==n)return ta;let i=n.peek(t);for(;ua(i);)i=n.peek(++t);let r="";for(;Mm(i);)r+=String.fromCharCode(i),i=n.peek(++t);return na=n,ia=e,ta=r?r.toLowerCase():i==Xm||i==Fm?void 0:null}var fa=60,Dn=62,ui=47,Xm=63,Fm=33,Ym=45;function ra(n,t){this.name=n,this.parent=t}var Gm=[Nn,ma,aa,sa,la],Lm=new _r({start:null,shift(n,t,e,i){return Gm.indexOf(t)>-1?new ra(di(i,1)||"",n):n},reduce(n,t){return t==pa&&n?n.parent:n},reuse(n,t,e,i){let r=t.type.id;return r==Nn||r==Em?new ra(di(i,1)||"",n):n},strict:!1}),Rm=new Pe((n,t)=>{if(n.next!=fa){n.next<0&&t.context&&n.acceptToken(mi);return}n.advance();let e=n.next==ui;e&&n.advance();let i=di(n,0);if(i===void 0)return;if(!i)return n.acceptToken(e?_m:Nn);let r=t.context?t.context.name:null;if(e){if(i==r)return n.acceptToken(bm);if(r&&Dm[r])return n.acceptToken(mi,-2);if(t.dialectEnabled(Im))return n.acceptToken(vm);for(let o=t.context;o;o=o.parent)if(o.name==i)return;n.acceptToken(km)}else{if(i=="script")return n.acceptToken(aa);if(i=="style")return n.acceptToken(sa);if(i=="textarea")return n.acceptToken(la);if(Nm.hasOwnProperty(i))return n.acceptToken(ma);r&&ea[r]&&ea[r][i]?n.acceptToken(mi,-1):n.acceptToken(Nn)}},{contextual:!0}),Bm=new Pe(n=>{for(let t=0,e=0;;e++){if(n.next<0){e&&n.acceptToken(Jo);break}if(n.next==Ym)t++;else if(n.next==Dn&&t>=2){e>=3&&n.acceptToken(Jo,-2);break}else t=0;n.advance()}});function qm(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}var zm=new Pe((n,t)=>{if(n.next==ui&&n.peek(1)==Dn){let e=t.dialectEnabled($m)||qm(t.context);n.acceptToken(e?xm:Ko,2)}else n.next==Dn&&n.acceptToken(Ko,1)});function fi(n,t,e){let i=2+n.length;return new Pe(r=>{for(let o=0,a=0,s=0;;s++){if(r.next<0){s&&r.acceptToken(t);break}if(o==0&&r.next==fa||o==1&&r.next==ui||o>=2&&o<i&&r.next==n.charCodeAt(o-2))o++,a++;else if((o==2||o==i)&&ua(r.next))a++;else if(o==i&&r.next==Dn){s>a?r.acceptToken(t,-a):r.acceptToken(e,-(a-2));break}else if((r.next==10||r.next==13)&&s){r.acceptToken(t,1);break}else o=a=0;r.advance()}})}var jm=fi("script",hm,gm),Wm=fi("style",Om,ym),Um=fi("textarea",Cm,Sm),Hm=st({"Text RawText":C.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":C.angleBracket,TagName:C.tagName,"MismatchedCloseTag/TagName":[C.tagName,C.invalid],AttributeName:C.attributeName,"AttributeValue UnquotedAttributeValue":C.attributeValue,Is:C.definitionOperator,"EntityReference CharacterReference":C.character,Comment:C.blockComment,ProcessingInst:C.processingInstruction,DoctypeDecl:C.documentMeta}),ha=On.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"\u26A0 StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:Lm,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[Hm],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[jm,Wm,Um,zm,Rm,Bm,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function ga(n,t){let e=Object.create(null);for(let i of n.getChildren(ca)){let r=i.getChild(Qm),o=i.getChild(ci)||i.getChild(da);r&&(e[t.read(r.from,r.to)]=o?o.type.id==ci?t.read(o.from+1,o.to-1):t.read(o.from,o.to):"")}return e}function oa(n,t){let e=n.getChild(wm);return e?t.read(e.from,e.to):" "}function pi(n,t,e){let i;for(let r of e)if(!r.attrs||r.attrs(i||(i=ga(n.node.parent.firstChild,t))))return{parser:r.parser};return null}function hi(n=[],t=[]){let e=[],i=[],r=[],o=[];for(let s of n)(s.tag=="script"?e:s.tag=="style"?i:s.tag=="textarea"?r:o).push(s);let a=t.length?Object.create(null):null;for(let s of t)(a[s.name]||(a[s.name]=[])).push(s);return hn((s,l)=>{let h=s.type.id;if(h==Pm)return pi(s,l,e);if(h==Tm)return pi(s,l,i);if(h==Am)return pi(s,l,r);if(h==pa&&o.length){let g=s.node,v=g.firstChild,S=v&&oa(v,l),k;if(S){for(let P of o)if(P.tag==S&&(!P.attrs||P.attrs(k||(k=ga(v,l))))){let T=g.lastChild,D=T.type.id==Vm?T.from:g.to;if(D>v.to)return{parser:P.parser,overlay:[{from:v.to,to:D}]}}}}if(a&&h==ca){let g=s.node,v;if(v=g.firstChild){let S=a[l.read(v.from,v.to)];if(S)for(let k of S){if(k.tagName&&k.tagName!=oa(g.parent,l))continue;let P=g.lastChild;if(P.type.id==ci){let T=P.from+1,D=P.lastChild,j=P.to-(D&&D.isError?0:1);if(j>T)return{parser:k.parser,overlay:[{from:T,to:j}]}}else if(P.type.id==da)return{parser:k.parser,overlay:[{from:P.from,to:P.to}]}}}}return null})}var Zm=122,Oa=1,Km=123,Jm=124,Ca=2,ep=125,tp=3,np=4,Sa=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],ip=58,rp=40,xa=95,op=91,Mn=45,ap=46,sp=35,lp=37,mp=38,pp=92,cp=10,dp=42;function nn(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function gi(n){return n>=48&&n<=57}function ya(n){return gi(n)||n>=97&&n<=102||n>=65&&n<=70}var ba=(n,t,e)=>(i,r)=>{for(let o=!1,a=0,s=0;;s++){let{next:l}=i;if(nn(l)||l==Mn||l==xa||o&&gi(l))!o&&(l!=Mn||s>0)&&(o=!0),a===s&&l==Mn&&a++,i.advance();else if(l==pp&&i.peek(1)!=cp){if(i.advance(),ya(i.next)){do i.advance();while(ya(i.next));i.next==32&&i.advance()}else i.next>-1&&i.advance();o=!0}else{o&&i.acceptToken(a==2&&r.canShift(Ca)?t:l==rp?e:n);break}}},up=new Pe(ba(Km,Ca,Jm)),fp=new Pe(ba(ep,tp,np)),hp=new Pe(n=>{if(Sa.includes(n.peek(-1))){let{next:t}=n;(nn(t)||t==xa||t==sp||t==ap||t==dp||t==op||t==ip&&nn(n.peek(1))||t==Mn||t==mp)&&n.acceptToken(Zm)}}),gp=new Pe(n=>{if(!Sa.includes(n.peek(-1))){let{next:t}=n;if(t==lp&&(n.advance(),n.acceptToken(Oa)),nn(t)){do n.advance();while(nn(n.next)||gi(n.next));n.acceptToken(Oa)}}}),Op=st({"AtKeyword import charset namespace keyframes media supports":C.definitionKeyword,"from to selector":C.keyword,NamespaceName:C.namespace,KeyframeName:C.labelName,KeyframeRangeName:C.operatorKeyword,TagName:C.tagName,ClassName:C.className,PseudoClassName:C.constant(C.className),IdName:C.labelName,"FeatureName PropertyName":C.propertyName,AttributeName:C.attributeName,NumberLiteral:C.number,KeywordQuery:C.keyword,UnaryQueryOp:C.operatorKeyword,"CallTag ValueName":C.atom,VariableName:C.variableName,Callee:C.operatorKeyword,Unit:C.unit,"UniversalSelector NestingSelector":C.definitionOperator,"MatchOp CompareOp":C.compareOperator,"ChildOp SiblingOp, LogicOp":C.logicOperator,BinOp:C.arithmeticOperator,Important:C.modifier,Comment:C.blockComment,ColorLiteral:C.color,"ParenthesizedContent StringLiteral":C.string,":":C.punctuation,"PseudoOp #":C.derefOperator,"; ,":C.separator,"( )":C.paren,"[ ]":C.squareBracket,"{ }":C.brace}),yp={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},Cp={__proto__:null,or:98,and:98,not:106,only:106,layer:170},Sp={__proto__:null,selector:112,layer:166},xp={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},bp={__proto__:null,to:207},va=On.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:"\u26A0 Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[Op],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[hp,gp,up,fp,1,2,3,4,new kr("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:n=>yp[n]||-1},{term:125,get:n=>Cp[n]||-1},{term:4,get:n=>Sp[n]||-1},{term:25,get:n=>xp[n]||-1},{term:123,get:n=>bp[n]||-1}],tokenPrec:1963});var Oi=null;function yi(){if(!Oi&&typeof document=="object"&&document.body){let{style:n}=document.body,t=[],e=new Set;for(let i in n)i!="cssText"&&i!="cssFloat"&&typeof n[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),e.has(i)||(t.push(i),e.add(i)));Oi=t.sort().map(i=>({type:"property",label:i,apply:i+": "}))}return Oi||[]}var ka=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),_a=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),vp=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),kp=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),De=/^(\w[\w-]*|-\w[\w-]*|)$/,_p=/^-(-[\w-]*)?$/;function wp(n,t){var e;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let i=(e=n.parent)===null||e===void 0?void 0:e.firstChild;return i?.name!="Callee"?!1:t.sliceString(i.from,i.to)=="var"}var wa=new Ki,Qp=["Declaration"];function Pp(n){for(let t=n;;){if(t.type.isTop)return t;if(!(t=t.parent))return n}}function Qa(n,t,e){if(t.to-t.from>4096){let i=wa.get(t);if(i)return i;let r=[],o=new Set,a=t.cursor(Zi.IncludeAnonymous);if(a.firstChild())do for(let s of Qa(n,a.node,e))o.has(s.label)||(o.add(s.label),r.push(s));while(a.nextSibling());return wa.set(t,r),r}else{let i=[],r=new Set;return t.cursor().iterate(o=>{var a;if(e(o)&&o.matchContext(Qp)&&((a=o.node.nextSibling)===null||a===void 0?void 0:a.name)==":"){let s=n.sliceString(o.from,o.to);r.has(s)||(r.add(s),i.push({label:s,type:"variable"}))}}),i}}var Tp=n=>t=>{let{state:e,pos:i}=t,r=Qe(e).resolveInner(i,-1),o=r.type.isError&&r.from==r.to-1&&e.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(o||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:yi(),validFor:De};if(r.name=="ValueName")return{from:r.from,options:_a,validFor:De};if(r.name=="PseudoClassName")return{from:r.from,options:ka,validFor:De};if(n(r)||(t.explicit||o)&&wp(r,e.doc))return{from:n(r)||o?r.from:i,options:Qa(e.doc,Pp(r),n),validFor:_p};if(r.name=="TagName"){for(let{parent:l}=r;l;l=l.parent)if(l.name=="Block")return{from:r.from,options:yi(),validFor:De};return{from:r.from,options:vp,validFor:De}}if(r.name=="AtKeyword")return{from:r.from,options:kp,validFor:De};if(!t.explicit)return null;let a=r.resolve(i),s=a.childBefore(i);return s&&s.name==":"&&a.name=="PseudoClassSelector"?{from:i,options:ka,validFor:De}:s&&s.name==":"&&a.name=="Declaration"||a.name=="ArgList"?{from:i,options:_a,validFor:De}:a.name=="Block"||a.name=="Styles"?{from:i,options:yi(),validFor:De}:null},Ap=Tp(n=>n.name=="VariableName"),rn=gn.define({name:"css",parser:va.configure({props:[St.add({Declaration:ar()}),mt.add({"Block KeyframeList":mr})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function Pa(){return new lt(rn,rn.data.of({autocomplete:Ap}))}var on=["_blank","_self","_top","_parent"],Ci=["ascii","utf-8","utf-16","latin1","latin1"],Si=["get","post","put","delete"],xi=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],ye=["true","false"],_={},Ep={a:{attrs:{href:null,ping:null,type:null,media:null,target:on,hreflang:null}},abbr:_,address:_,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:_,aside:_,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:_,base:{attrs:{href:null,target:on}},bdi:_,bdo:_,blockquote:{attrs:{cite:null}},body:_,br:_,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:xi,formmethod:Si,formnovalidate:["novalidate"],formtarget:on,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:_,center:_,cite:_,code:_,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:_,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:_,div:_,dl:_,dt:_,em:_,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:_,figure:_,footer:_,form:{attrs:{action:null,name:null,"accept-charset":Ci,autocomplete:["on","off"],enctype:xi,method:Si,novalidate:["novalidate"],target:on}},h1:_,h2:_,h3:_,h4:_,h5:_,h6:_,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:_,hgroup:_,hr:_,html:{attrs:{manifest:null}},i:_,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:xi,formmethod:Si,formnovalidate:["novalidate"],formtarget:on,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:_,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:_,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:_,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Ci,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:_,noscript:_,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:_,param:{attrs:{name:null,value:null}},pre:_,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:_,rt:_,ruby:_,samp:_,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Ci}},section:_,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:_,source:{attrs:{src:null,type:null,media:null}},span:_,strong:_,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:_,summary:_,sup:_,table:_,tbody:_,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:_,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:_,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:_,time:{attrs:{datetime:null}},title:_,tr:_,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:_,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:_},Va={accesskey:null,class:null,contenteditable:ye,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:ye,autocorrect:ye,autocapitalize:ye,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":ye,"aria-autocomplete":["inline","list","both","none"],"aria-busy":ye,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":ye,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":ye,"aria-hidden":ye,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":ye,"aria-multiselectable":ye,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":ye,"aria-relevant":null,"aria-required":ye,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Ia="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of Ia)Va[n]=null;var bi=(()=>{class n{constructor(e,i){this.tags=Object.assign(Object.assign({},Ep),e),this.globalAttrs=Object.assign(Object.assign({},Va),i),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}return n.default=new n,n})();function Rt(n,t,e=n.length){if(!t)return"";let i=t.firstChild,r=i&&i.getChild("TagName");return r?n.sliceString(r.from,Math.min(r.to,e)):""}function Bt(n,t=!1){for(;n;n=n.parent)if(n.name=="Element")if(t)t=!1;else return n;return null}function $a(n,t,e){let i=e.tags[Rt(n,Bt(t))];return i?.children||e.allTags}function vi(n,t){let e=[];for(let i=Bt(t);i&&!i.type.isTop;i=Bt(i.parent)){let r=Rt(n,i);if(r&&i.lastChild.name=="CloseTag")break;r&&e.indexOf(r)<0&&(t.name=="EndTag"||t.from>=i.firstChild.to)&&e.push(r)}return e}var Na=/^[:\-\.\w\u00b7-\uffff]*$/;function Ta(n,t,e,i,r){let o=/\s*>/.test(n.sliceDoc(r,r+5))?"":">",a=Bt(e,!0);return{from:i,to:r,options:$a(n.doc,a,t).map(s=>({label:s,type:"type"})).concat(vi(n.doc,e).map((s,l)=>({label:"/"+s,apply:"/"+s+o,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Aa(n,t,e,i){let r=/\s*>/.test(n.sliceDoc(i,i+5))?"":">";return{from:e,to:i,options:vi(n.doc,t).map((o,a)=>({label:o,apply:o+r,type:"type",boost:99-a})),validFor:Na}}function Vp(n,t,e,i){let r=[],o=0;for(let a of $a(n.doc,e,t))r.push({label:"<"+a,type:"type"});for(let a of vi(n.doc,e))r.push({label:"</"+a+">",type:"type",boost:99-o++});return{from:i,to:i,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Ip(n,t,e,i,r){let o=Bt(e),a=o?t.tags[Rt(n.doc,o)]:null,s=a&&a.attrs?Object.keys(a.attrs):[],l=a&&a.globalAttrs===!1?s:s.length?s.concat(t.globalAttrNames):t.globalAttrNames;return{from:i,to:r,options:l.map(h=>({label:h,type:"property"})),validFor:Na}}function $p(n,t,e,i,r){var o;let a=(o=e.parent)===null||o===void 0?void 0:o.getChild("AttributeName"),s=[],l;if(a){let h=n.sliceDoc(a.from,a.to),g=t.globalAttrs[h];if(!g){let v=Bt(e),S=v?t.tags[Rt(n.doc,v)]:null;g=S?.attrs&&S.attrs[h]}if(g){let v=n.sliceDoc(i,r).toLowerCase(),S='"',k='"';/^['"]/.test(v)?(l=v[0]=='"'?/^[^"]*$/:/^[^']*$/,S="",k=n.sliceDoc(r,r+1)==v[0]?"":v[0],v=v.slice(1),i++):l=/^[^\s<>='"]*$/;for(let P of g)s.push({label:P,apply:S+P+k,type:"constant"})}}return{from:i,to:r,options:s,validFor:l}}function Da(n,t){let{state:e,pos:i}=t,r=Qe(e).resolveInner(i,-1),o=r.resolve(i);for(let a=i,s;o==r&&(s=r.childBefore(a));){let l=s.lastChild;if(!l||!l.type.isError||l.from<l.to)break;o=r=s,a=l.from}return r.name=="TagName"?r.parent&&/CloseTag$/.test(r.parent.name)?Aa(e,r,r.from,i):Ta(e,n,r,r.from,i):r.name=="StartTag"?Ta(e,n,r,i,i):r.name=="StartCloseTag"||r.name=="IncompleteCloseTag"?Aa(e,r,i,i):r.name=="OpenTag"||r.name=="SelfClosingTag"||r.name=="AttributeName"?Ip(e,n,r,r.name=="AttributeName"?r.from:i,i):r.name=="Is"||r.name=="AttributeValue"||r.name=="UnquotedAttributeValue"?$p(e,n,r,r.name=="Is"?i:r.from,i):t.explicit&&(o.name=="Element"||o.name=="Text"||o.name=="Document")?Vp(e,n,r,i):null}function Ma(n){return Da(bi.default,n)}function Np(n){let{extraTags:t,extraGlobalAttributes:e}=n,i=e||t?new bi(t,e):bi.default;return r=>Da(i,r)}var Dp=kn.parser.configure({top:"SingleExpression"}),Xa=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:oo.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:ao.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:so.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:Dp},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:kn.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:rn.parser}],Fa=[{name:"style",parser:rn.parser.configure({top:"Styles"})}].concat(Ia.map(n=>({name:n,parser:kn.parser}))),Ya=gn.define({name:"html",parser:ha.configure({props:[St.add({Element(n){let t=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+t[0].length?n.continue():n.lineIndent(n.node.from)+(t[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let t=null,e;for(let i=n.node;;){let r=i.lastChild;if(!r||r.name!="Element"||r.to!=i.to)break;t=i=r}return t&&!((e=t.lastChild)&&(e.name=="CloseTag"||e.name=="SelfClosingTag"))?n.lineIndent(t.from)+n.unit:null}}),mt.add({Element(n){let t=n.firstChild,e=n.lastChild;return!t||t.name!="OpenTag"?null:{from:t.to,to:e.name=="CloseTag"?e.from:n.to}}}),ur.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Xn=Ya.configure({wrap:hi(Xa,Fa)});function Ga(n={}){let t="",e;n.matchClosingTags===!1&&(t="noMatch"),n.selfClosingTags===!0&&(t=(t?t+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(e=hi((n.nestedLanguages||[]).concat(Xa),(n.nestedAttributes||[]).concat(Fa)));let i=e?Ya.configure({wrap:e,dialect:t}):t?Xn.configure({dialect:t}):Xn;return new lt(i,[Xn.data.of({autocomplete:Np(n)}),n.autoCloseTags!==!1?Mp:[],lo().support,Pa().support])}var Ea=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Mp=at.inputHandler.of((n,t,e,i,r)=>{if(n.composing||n.state.readOnly||t!=e||i!=">"&&i!="/"||!Xn.isActiveAt(n.state,t,-1))return!1;let o=r(),{state:a}=o,s=a.changeByRange(l=>{var h,g,v;let S=a.doc.sliceString(l.from-1,l.to)==i,{head:k}=l,P=Qe(a).resolveInner(k,-1),T;if(S&&i==">"&&P.name=="EndTag"){let D=P.parent;if(((g=(h=D.parent)===null||h===void 0?void 0:h.lastChild)===null||g===void 0?void 0:g.name)!="CloseTag"&&(T=Rt(a.doc,D.parent,k))&&!Ea.has(T)){let j=k+(a.doc.sliceString(k,k+1)===">"?1:0),M=`</${T}>`;return{range:l,changes:{from:k,to:j,insert:M}}}}else if(S&&i=="/"&&P.name=="IncompleteCloseTag"){let D=P.parent;if(P.from==k-2&&((v=D.lastChild)===null||v===void 0?void 0:v.name)!="CloseTag"&&(T=Rt(a.doc,D,k))&&!Ea.has(T)){let j=k+(a.doc.sliceString(k,k+1)===">"?1:0),M=`${T}>`;return{range:Ie.cursor(k+M.length,-1),changes:{from:k,to:j,insert:M}}}}return{range:l}});return s.changes.empty?!1:(n.dispatch([o,a.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var Ba=nr({commentTokens:{block:{open:"<!--",close:"-->"}}}),qa=new Ye,za=Bo.configure({props:[mt.add(n=>!n.is("Block")||n.is("Document")||wi(n)!=null||Xp(n)?void 0:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})),qa.add(wi),St.add({Document:()=>null}),tr.add({Document:Ba})]});function wi(n){let t=/^(?:ATX|Setext)Heading(\d)$/.exec(n.name);return t?+t[1]:void 0}function Xp(n){return n.name=="OrderedList"||n.name=="BulletList"}function Fp(n,t){let e=n;for(;;){let i=e.nextSibling,r;if(!i||(r=wi(i.type))!=null&&r<=t)break;e=i}return e.to}var Yp=lr.of((n,t,e)=>{for(let i=Qe(n).resolveInner(e,-1);i&&!(i.from<t);i=i.parent){let r=i.type.prop(qa);if(r==null)continue;let o=Fp(i,r);if(o>e)return{from:e,to:o}}return null});function Pi(n){return new ir(Ba,n,[Yp],"markdown")}var Gp=Pi(za),Lp=za.configure([jo,Ho,Uo,Zo,{props:[mt.add({Table:(n,t)=>({from:t.doc.lineAt(n.from).to,to:n.to})})]}]),Qi=Pi(Lp);function Rp(n,t){return e=>{if(e&&n){let i=null;if(e=/\S*/.exec(e)[0],typeof n=="function"?i=n(e):i=Rn.matchLanguageName(n,e,!0),i instanceof Rn)return i.support?i.support.language.parser:rr.getSkippingParser(i.load());if(i)return i.parser}return t?t.parser:null}}var an=class{constructor(t,e,i,r,o,a,s){this.node=t,this.from=e,this.to=i,this.spaceBefore=r,this.spaceAfter=o,this.type=a,this.item=s}blank(t,e=!0){let i=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(t!=null){for(;i.length<t;)i+=" ";return i}else{for(let r=this.to-this.from-i.length-this.spaceAfter.length;r>0;r--)i+=" ";return i+(e?this.spaceAfter:"")}}marker(t,e){let i=this.node.name=="OrderedList"?String(+Wa(this.item,t)[2]+e):"";return this.spaceBefore+i+this.type+this.spaceAfter}};function ja(n,t){let e=[],i=[];for(let r=n;r;r=r.parent){if(r.name=="FencedCode")return i;(r.name=="ListItem"||r.name=="Blockquote")&&e.push(r)}for(let r=e.length-1;r>=0;r--){let o=e[r],a,s=t.lineAt(o.from),l=o.from-s.from;if(o.name=="Blockquote"&&(a=/^ *>( ?)/.exec(s.text.slice(l))))i.push(new an(o,l,l+a[0].length,"",a[1],">",null));else if(o.name=="ListItem"&&o.parent.name=="OrderedList"&&(a=/^( *)\d+([.)])( *)/.exec(s.text.slice(l)))){let h=a[3],g=a[0].length;h.length>=4&&(h=h.slice(0,h.length-4),g-=4),i.push(new an(o.parent,l,l+g,a[1],h,a[2],o))}else if(o.name=="ListItem"&&o.parent.name=="BulletList"&&(a=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(s.text.slice(l)))){let h=a[4],g=a[0].length;h.length>4&&(h=h.slice(0,h.length-4),g-=4);let v=a[2];a[3]&&(v+=a[3].replace(/[xX]/," ")),i.push(new an(o.parent,l,l+g,a[1],h,v,o))}}return i}function Wa(n,t){return/^(\s*)(\d+)(?=[.)])/.exec(t.sliceString(n.from,n.from+10))}function ki(n,t,e,i=0){for(let r=-1,o=n;;){if(o.name=="ListItem"){let s=Wa(o,t),l=+s[2];if(r>=0){if(l!=r+1)return;e.push({from:o.from+s[1].length,to:o.from+s[0].length,insert:String(r+2+i)})}r=l}let a=o.nextSibling;if(!a)break;o=a}}function Ti(n,t){let e=/^[ \t]*/.exec(n)[0].length;if(!e||t.facet(or)!="	")return n;let i=Ct(n,4,e),r="";for(let o=i;o>0;)o>=4?(r+="	",o-=4):(r+=" ",o--);return r+n.slice(e)}var Bp=({state:n,dispatch:t})=>{let e=Qe(n),{doc:i}=n,r=null,o=n.changeByRange(a=>{if(!a.empty||!Qi.isActiveAt(n,a.from,-1)&&!Qi.isActiveAt(n,a.from,1))return r={range:a};let s=a.from,l=i.lineAt(s),h=ja(e.resolveInner(s,-1),i);for(;h.length&&h[h.length-1].from>s-l.from;)h.pop();if(!h.length)return r={range:a};let g=h[h.length-1];if(g.to-g.spaceAfter.length>s-l.from)return r={range:a};let v=s>=g.to-g.spaceAfter.length&&!/\S/.test(l.text.slice(g.to));if(g.item&&v){let D=g.node.firstChild,j=g.node.getChild("ListItem","ListItem");if(D.to>=s||j&&j.to<s||l.from>0&&!/[^\s>]/.test(i.lineAt(l.from-1).text)){let M=h.length>1?h[h.length-2]:null,Me,ht="";M&&M.item?(Me=l.from+M.from,ht=M.marker(i,1)):Me=l.from+(M?M.to:0);let it=[{from:Me,to:s,insert:ht}];return g.node.name=="OrderedList"&&ki(g.item,i,it,-2),M&&M.node.name=="OrderedList"&&ki(M.item,i,it),{range:Ie.cursor(Me+ht.length),changes:it}}else{let M=Ra(h,n,l);return{range:Ie.cursor(s+M.length+1),changes:{from:l.from,insert:M+n.lineBreak}}}}if(g.node.name=="Blockquote"&&v&&l.from){let D=i.lineAt(l.from-1),j=/>\s*$/.exec(D.text);if(j&&j.index==g.from){let M=n.changes([{from:D.from+j.index,to:D.to},{from:l.from+g.from,to:l.to}]);return{range:a.map(M),changes:M}}}let S=[];g.node.name=="OrderedList"&&ki(g.item,i,S);let k=g.item&&g.item.from<l.from,P="";if(!k||/^[\s\d.)\-+*>]*/.exec(l.text)[0].length>=g.to)for(let D=0,j=h.length-1;D<=j;D++)P+=D==j&&!k?h[D].marker(i,1):h[D].blank(D<j?Ct(l.text,4,h[D+1].from)-P.length:null);let T=s;for(;T>l.from&&/\s/.test(l.text.charAt(T-l.from-1));)T--;return P=Ti(P,n),qp(g.node,n.doc)&&(P=Ra(h,n,l)+n.lineBreak+P),S.push({from:T,to:s,insert:n.lineBreak+P}),{range:Ie.cursor(T+P.length+1),changes:S}});return r?!1:(t(n.update(o,{scrollIntoView:!0,userEvent:"input"})),!0)};function La(n){return n.name=="QuoteMark"||n.name=="ListMark"}function qp(n,t){if(n.name!="OrderedList"&&n.name!="BulletList")return!1;let e=n.firstChild,i=n.getChild("ListItem","ListItem");if(!i)return!1;let r=t.lineAt(e.to),o=t.lineAt(i.from),a=/^[\s>]*$/.test(r.text);return r.number+(a?0:1)<o.number}function Ra(n,t,e){let i="";for(let r=0,o=n.length-2;r<=o;r++)i+=n[r].blank(r<o?Ct(e.text,4,n[r+1].from)-i.length:null,r<o);return Ti(i,t)}function zp(n,t){let e=n.resolveInner(t,-1),i=t;La(e)&&(i=e.from,e=e.parent);for(let r;r=e.childBefore(i);)if(La(r))i=r.from;else if(r.name=="OrderedList"||r.name=="BulletList")e=r.lastChild,i=e.to;else break;return e}var jp=({state:n,dispatch:t})=>{let e=Qe(n),i=null,r=n.changeByRange(o=>{let a=o.from,{doc:s}=n;if(o.empty&&Qi.isActiveAt(n,o.from)){let l=s.lineAt(a),h=ja(zp(e,a),s);if(h.length){let g=h[h.length-1],v=g.to-g.spaceAfter.length+(g.spaceAfter?1:0);if(a-l.from>v&&!/\S/.test(l.text.slice(v,a-l.from)))return{range:Ie.cursor(l.from+v),changes:{from:l.from+v,to:a}};if(a-l.from==v&&(!g.item||l.from<=g.item.from||!/\S/.test(l.text.slice(0,g.to)))){let S=l.from+g.from;if(g.item&&g.node.from<g.item.from&&/\S/.test(l.text.slice(g.from,g.to))){let k=g.blank(Ct(l.text,4,g.to)-Ct(l.text,4,g.from));return S==l.from&&(k=Ti(k,n)),{range:Ie.cursor(S+k.length),changes:{from:S,to:l.from+g.to,insert:k}}}if(S<a)return{range:Ie.cursor(S),changes:{from:S,to:a}}}}}return i={range:o}});return i?!1:(t(n.update(r,{scrollIntoView:!0,userEvent:"delete"})),!0)},Wp=[{key:"Enter",run:Bp},{key:"Backspace",run:jp}],Ua=Ga({matchClosingTags:!1});function Ha(n={}){let{codeLanguages:t,defaultCodeLanguage:e,addKeymap:i=!0,base:{parser:r}=Gp,completeHTMLTags:o=!0,htmlTagLanguage:a=Ua}=n;if(!(r instanceof en))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let s=n.extensions?[n.extensions]:[],l=[a.support],h;e instanceof lt?(l.push(e.support),h=e.language):e&&(h=e);let g=t||h?Rp(t,h):void 0;s.push(qo({codeParser:g,htmlParser:a.language.parser})),i&&l.push(zi.high(fn.of(Wp)));let v=Pi(r.configure(s));return o&&l.push(v.data.of({autocomplete:Up})),new lt(v,l)}function Up(n){let{state:t,pos:e}=n,i=/<[:\-\.\w\u00b7-\uffff]*$/.exec(t.sliceDoc(e-25,e));if(!i)return null;let r=Qe(t).resolveInner(e,-1);for(;r&&!r.type.isTop;){if(r.name=="CodeBlock"||r.name=="FencedCode"||r.name=="ProcessingInstructionBlock"||r.name=="CommentBlock"||r.name=="Link"||r.name=="Image")return null;r=r.parent}return{from:e-i[0].length,to:e,options:Hp(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}var _i=null;function Hp(){if(_i)return _i;let n=Ma(new yr(un.create({extensions:Ua}),0,!0));return _i=n?n.options:[]}var Zp=["editorContainer"],ft=class ft{constructor(){this.height=Di("100px");this.editorContainerRef=Fe.required("editorContainer");this.editorView=null;this.onChange=t=>{};this.text=sn("")}ngAfterViewInit(){let t=this.editorContainerRef().nativeElement;this.initializeEditor(t)}writeValue(t){this.initialDocString=t||void 0,this.text.set(this.initialDocString||""),this.editorView?.dispatch({changes:{from:0,to:this.editorView.state.doc.length,insert:this.initialDocString}})}registerOnChange(t){this.onChange=t}registerOnTouched(t){}initializeEditor(t){let e=[Ui(),fr(),ji(),Wi(),un.allowMultipleSelections.of(!0),sr(),pr(cr,{fallback:!0}),dr(),Cr(),xr(),Hi(),Or(),fn.of([...Sr,...gr,...hr,...br,...vr]),at.lineWrapping,Ha(),at.updateListener.of(r=>{if(r.docChanged){let o=r.state.doc.toString();this.text.set(o),this.onChange(o)}})],i=at.theme({"&":{height:"100%",fontSize:"12px"},".cm-scroller":{overflow:"auto",fontFamily:"'Roboto Mono', monospace"},"&.cm-focused":{outline:"none"}},{dark:!1});e.push(i),this.editorView=new at({doc:this.initialDocString,extensions:e,parent:t})}gotoMarkdownDocs(){window.open("https://www.markdownguide.org/basic-syntax/","_blank","noreferrer")}ngOnDestroy(){this.editorView?.destroy(),this.editorView=null}};ft.\u0275fac=function(e){return new(e||ft)},ft.\u0275cmp=w({type:ft,selectors:[["app-markdown-input"]],viewQuery:function(e,i){e&1&&Xe(i.editorContainerRef,Zp,5),e&2&&cn()},inputs:{height:[1,"height"]},features:[q([{provide:ne,useExisting:G(()=>ft),multi:!0}])],decls:9,vars:2,consts:[["editorContainer",""],["appearance","text","icon","open_in_new",1,"help",3,"click"],["animationDuration","0ms",1,"small-tabs",3,"mat-stretch-tabs"],["label","Write"],[1,"editor-container"],["label","Preview"],[1,"preview-container"],[3,"text"]],template:function(e,i){if(e&1){let r=_e();p(0,"ya-button",1),de("click",function(){return Ce(r),Se(i.gotoMarkdownDocs())}),u(1,` Markdown syntax
`),c(),p(2,"mat-tab-group",2)(3,"mat-tab",3),O(4,"div",4,0),c(),p(6,"mat-tab",5)(7,"div",6),O(8,"app-markdown",7),c()()()}e&2&&(m(2),d("mat-stretch-tabs",!1),m(6),d("text",i.text()))},dependencies:[mo,Q,$r,Nr,Cn],styles:["[_nghost-%COMP%]{display:block;position:relative}.help[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:2000}.editor-container[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;border-left:1px solid #d3d3d3;border-right:1px solid #d3d3d3;height:100px}.preview-container[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;border-left:1px solid #d3d3d3;border-right:1px solid #d3d3d3;background-color:#fafafa;height:100px}"],changeDetection:0});var Fn=ft;var qt=class qt{ngOnChanges(){this.formGroup.contains("comment")||this.formGroup.addControl("comment",new ae("")),this.templateProvider&&this.formGroup.patchValue({comment:this.templateProvider.getComment()||""})}getResult(){return this.formGroup.value.comment||void 0}};qt.\u0275fac=function(e){return new(e||qt)},qt.\u0275cmp=w({type:qt,selectors:[["app-stack-comment-form"]],inputs:{formGroup:"formGroup",templateProvider:"templateProvider"},features:[we],decls:3,vars:1,consts:[[3,"formGroup"],["formControlName","comment"]],template:function(e,i){e&1&&(pe(0,0),u(1," Show a note to users of this stack. "),O(2,"app-markdown-input",1),ce()),e&2&&d("formGroup",i.formGroup)},dependencies:[Fn,Q,N,H,ge,ie],encapsulation:2,changeDetection:0});var zt=qt;var Kp=[[["","head",""]],[["","tail",""]]],Jp=["[head]","[tail]"];function ec(n,t){if(n&1&&(p(0,"ya-stepper-step",3),O(1,"app-command-options-form",5),c()),n&2){let e=f();m(),d("formGroup",e.form)("templateProvider",e.templateProvider)}}function tc(n,t){if(n&1&&(p(0,"ya-stepper-step",6),O(1,"app-stack-comment-form",5),c(),p(2,"ya-stepper-step",7),O(3,"app-stack-advancement-form",2),c()),n&2){let e=f();m(),d("formGroup",e.form)("templateProvider",e.templateProvider),m(2),d("formGroup",e.form)("templateProvider",e.templateProvider)("command",e.command)}}function nc(n,t){if(n&1&&(p(0,"ya-stepper-step",4),O(1,"app-command-comment-form",5),c()),n&2){let e=f();m(),d("formGroup",e.form)("templateProvider",e.templateProvider)}}var jt=class jt{constructor(t){this.stackMode=!1;this.commandArgumentsForm=Fe.required($t);this.commandOptionsForm=Fe(Xt);this.commandCommentForm=Fe(Dt);this.stackCommentForm=Fe(zt);this.stackAdvancementForm=Fe(Yt);this.form=new be({});this.user=t.getUser()}showCommandOptions(){return this.user.hasSystemPrivilege("CommandOptions")}getResult(t=!1){let i=this.commandArgumentsForm().getResult(),r=this.commandOptionsForm(),o=r?.getResult(t)??{},a=r?.getStream(),s,l;return this.stackMode?(s=this.stackCommentForm()?.getResult(),l=this.stackAdvancementForm()?.getResult()):s=this.commandCommentForm()?.getResult(),{args:i,extra:o,stream:a,comment:s,advancement:l}}};jt.\u0275fac=function(e){return new(e||jt)(F(Ur))},jt.\u0275cmp=w({type:jt,selectors:[["app-command-form"]],viewQuery:function(e,i){e&1&&(Xe(i.commandArgumentsForm,$t,5),Xe(i.commandOptionsForm,Xt,5),Xe(i.commandCommentForm,Dt,5),Xe(i.stackCommentForm,zt,5),Xe(i.stackAdvancementForm,Yt,5)),e&2&&cn(5)},inputs:{command:"command",templateProvider:"templateProvider",stackMode:"stackMode"},ngContentSelectors:Jp,decls:9,vars:7,consts:[[1,"ya-form",3,"formGroup"],["label","Arguments",3,"expanded"],[3,"formGroup","templateProvider","command"],["label","Advanced options"],["label","Comment"],[3,"formGroup","templateProvider"],["label","Stack comment"],["label","Stack advancement"]],template:function(e,i){e&1&&(Vi(Kp),p(0,"form",0)(1,"ya-stepper"),Yn(2),p(3,"ya-stepper-step",1),O(4,"app-command-arguments-form",2),c(),x(5,ec,2,2,"ya-stepper-step",3),x(6,tc,4,5)(7,nc,2,2,"ya-stepper-step",4),Yn(8,1),c()()),e&2&&(d("formGroup",i.form),m(3),d("expanded",!0),m(),d("formGroup",i.form)("templateProvider",i.templateProvider)("command",i.command),m(),b(i.showCommandOptions()?5:-1),m(),b(i.stackMode?6:7))},dependencies:[$t,Dt,Xt,Yt,zt,Q,Yi,H,ge,io,no],encapsulation:2,changeDetection:0});var Za=jt;var Ka=class extends Xi{constructor(e){super();this.yamcs=e;this.items$=new te([]);this.totalSize$=new te(0);this.loading$=new te(!1)}connect(){return this.items$}loadCommands(e){return this.loading$.next(!0),this.yamcs.yamcsClient.getCommands(this.yamcs.instance,e).then(i=>{this.loading$.next(!1),this.totalSize$.next(i.totalSize);let r=[];for(let o of i.systems||[])r.push({name:o.qualifiedName,system:o});for(let o of i.commands||[])r.push({name:o.qualifiedName,command:o});this.items$.next(r)})}getAliasNamespaces(){let e=[];for(let i of this.items$.value)if(i.command?.alias)for(let r of i.command.alias)r.namespace&&e.indexOf(r.namespace)===-1&&e.push(r.namespace);return e.sort()}disconnect(){this.items$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var Wt=class Wt{constructor(t,e){this.yamcs=t;this.synchronizer=e;this.result=sn(null);this.dirty=!1}ngOnInit(){let e=new po().compile("="+this.expression),i=e.getPVNames();if(i.length){let r=i.map(a=>({name:a})),o;this.subscription=this.yamcs.yamcsClient.createParameterSubscription({instance:this.yamcs.instance,processor:this.yamcs.processor,id:r,abortOnInvalid:!0,sendFromCache:!0,updateOnExpiration:!0,action:"REPLACE"},a=>{a.mapping&&(o=Ee(Ee({},o),a.mapping));for(let s of a.values||[])if(s.engValue){let l=o[s.numericId];e.updateDataSource(l.name,{value:L.convertValue(s.engValue),acquisitionStatus:s.acquisitionStatus})}if(this.result()===null){let s=e.execute();this.result.set(s)}else this.dirty=!0})}else{let r=e.execute();this.result.set(r)}this.syncSubscription=this.synchronizer.syncFast(()=>{if(this.dirty){let r=e.execute();this.result.set(r),this.dirty=!1}})}ngOnDestroy(){this.subscription?.cancel(),this.syncSubscription?.unsubscribe()}};Wt.\u0275fac=function(e){return new(e||Wt)(F(xt),F(jr))},Wt.\u0275cmp=w({type:Wt,selectors:[["app-live-expression"]],inputs:{expression:"expression"},decls:1,vars:1,template:function(e,i){e&1&&u(0),e&2&&$(i.result())},encapsulation:2,changeDetection:0});var Ja=Wt;export{kt as a,uo as b,_n as c,fo as d,Ne as e,wn as f,Ha as g,Fn as h,Za as i,Ja as j,Ka as k};
